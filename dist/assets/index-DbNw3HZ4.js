var RO=Object.defineProperty;var Qw=t=>{throw TypeError(t)};var CO=(t,e,n)=>e in t?RO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var es=(t,e,n)=>CO(t,typeof e!="symbol"?e+"":e,n),uv=(t,e,n)=>e.has(t)||Qw("Cannot "+n);var K=(t,e,n)=>(uv(t,e,"read from private field"),n?n.call(t):e.get(t)),Ie=(t,e,n)=>e.has(t)?Qw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ve=(t,e,n,i)=>(uv(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),qe=(t,e,n)=>(uv(t,e,"access private method"),n);var nm=(t,e,n,i)=>({set _(s){ve(t,e,s,n)},get _(){return K(t,e,i)}});function IO(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Ep(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cv={exports:{}},rh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yw;function NO(){if(Yw)return rh;Yw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:t,type:i,key:u,ref:s!==void 0?s:null,props:o}}return rh.Fragment=e,rh.jsx=n,rh.jsxs=n,rh}var Xw;function DO(){return Xw||(Xw=1,cv.exports=NO()),cv.exports}var y=DO(),hv={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww;function PO(){if(Ww)return Me;Ww=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function T(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function R(z,ae,he){this.props=z,this.context=ae,this.refs=N,this.updater=he||x}R.prototype.isReactComponent={},R.prototype.setState=function(z,ae){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ae,"setState")},R.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function k(){}k.prototype=R.prototype;function U(z,ae,he){this.props=z,this.context=ae,this.refs=N,this.updater=he||x}var V=U.prototype=new k;V.constructor=U,S(V,R.prototype),V.isPureReactComponent=!0;var $=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function M(z,ae,he,le,_e,Ne){return he=Ne.ref,{$$typeof:t,type:z,key:ae,ref:he!==void 0?he:null,props:Ne}}function C(z,ae){return M(z.type,ae,void 0,void 0,void 0,z.props)}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function j(z){var ae={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(he){return ae[he]})}var F=/\/+/g;function H(z,ae){return typeof z=="object"&&z!==null&&z.key!=null?j(""+z.key):ae.toString(36)}function L(){}function fe(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(L,L):(z.status="pending",z.then(function(ae){z.status==="pending"&&(z.status="fulfilled",z.value=ae)},function(ae){z.status==="pending"&&(z.status="rejected",z.reason=ae)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Oe(z,ae,he,le,_e){var Ne=typeof z;(Ne==="undefined"||Ne==="boolean")&&(z=null);var Re=!1;if(z===null)Re=!0;else switch(Ne){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(z.$$typeof){case t:case e:Re=!0;break;case g:return Re=z._init,Oe(Re(z._payload),ae,he,le,_e)}}if(Re)return _e=_e(z),Re=le===""?"."+H(z,0):le,$(_e)?(he="",Re!=null&&(he=Re.replace(F,"$&/")+"/"),Oe(_e,ae,he,"",function(lt){return lt})):_e!=null&&(P(_e)&&(_e=C(_e,he+(_e.key==null||z&&z.key===_e.key?"":(""+_e.key).replace(F,"$&/")+"/")+Re)),ae.push(_e)),1;Re=0;var ft=le===""?".":le+":";if($(z))for(var De=0;De<z.length;De++)le=z[De],Ne=ft+H(le,De),Re+=Oe(le,ae,he,Ne,_e);else if(De=T(z),typeof De=="function")for(z=De.call(z),De=0;!(le=z.next()).done;)le=le.value,Ne=ft+H(le,De++),Re+=Oe(le,ae,he,Ne,_e);else if(Ne==="object"){if(typeof z.then=="function")return Oe(fe(z),ae,he,le,_e);throw ae=String(z),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Re}function Z(z,ae,he){if(z==null)return z;var le=[],_e=0;return Oe(z,le,"","",function(Ne){return ae.call(he,Ne,_e++)}),le}function te(z){if(z._status===-1){var ae=z._result;ae=ae(),ae.then(function(he){(z._status===0||z._status===-1)&&(z._status=1,z._result=he)},function(he){(z._status===0||z._status===-1)&&(z._status=2,z._result=he)}),z._status===-1&&(z._status=0,z._result=ae)}if(z._status===1)return z._result.default;throw z._result}var re=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function me(){}return Me.Children={map:Z,forEach:function(z,ae,he){Z(z,function(){ae.apply(this,arguments)},he)},count:function(z){var ae=0;return Z(z,function(){ae++}),ae},toArray:function(z){return Z(z,function(ae){return ae})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Me.Component=R,Me.Fragment=n,Me.Profiler=s,Me.PureComponent=U,Me.StrictMode=i,Me.Suspense=f,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Me.__COMPILER_RUNTIME={__proto__:null,c:function(z){return A.H.useMemoCache(z)}},Me.cache=function(z){return function(){return z.apply(null,arguments)}},Me.cloneElement=function(z,ae,he){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var le=S({},z.props),_e=z.key,Ne=void 0;if(ae!=null)for(Re in ae.ref!==void 0&&(Ne=void 0),ae.key!==void 0&&(_e=""+ae.key),ae)!q.call(ae,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ae.ref===void 0||(le[Re]=ae[Re]);var Re=arguments.length-2;if(Re===1)le.children=he;else if(1<Re){for(var ft=Array(Re),De=0;De<Re;De++)ft[De]=arguments[De+2];le.children=ft}return M(z.type,_e,void 0,void 0,Ne,le)},Me.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Me.createElement=function(z,ae,he){var le,_e={},Ne=null;if(ae!=null)for(le in ae.key!==void 0&&(Ne=""+ae.key),ae)q.call(ae,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(_e[le]=ae[le]);var Re=arguments.length-2;if(Re===1)_e.children=he;else if(1<Re){for(var ft=Array(Re),De=0;De<Re;De++)ft[De]=arguments[De+2];_e.children=ft}if(z&&z.defaultProps)for(le in Re=z.defaultProps,Re)_e[le]===void 0&&(_e[le]=Re[le]);return M(z,Ne,void 0,void 0,null,_e)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(z){return{$$typeof:h,render:z}},Me.isValidElement=P,Me.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:te}},Me.memo=function(z,ae){return{$$typeof:d,type:z,compare:ae===void 0?null:ae}},Me.startTransition=function(z){var ae=A.T,he={};A.T=he;try{var le=z(),_e=A.S;_e!==null&&_e(he,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(me,re)}catch(Ne){re(Ne)}finally{A.T=ae}},Me.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Me.use=function(z){return A.H.use(z)},Me.useActionState=function(z,ae,he){return A.H.useActionState(z,ae,he)},Me.useCallback=function(z,ae){return A.H.useCallback(z,ae)},Me.useContext=function(z){return A.H.useContext(z)},Me.useDebugValue=function(){},Me.useDeferredValue=function(z,ae){return A.H.useDeferredValue(z,ae)},Me.useEffect=function(z,ae,he){var le=A.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(z,ae)},Me.useId=function(){return A.H.useId()},Me.useImperativeHandle=function(z,ae,he){return A.H.useImperativeHandle(z,ae,he)},Me.useInsertionEffect=function(z,ae){return A.H.useInsertionEffect(z,ae)},Me.useLayoutEffect=function(z,ae){return A.H.useLayoutEffect(z,ae)},Me.useMemo=function(z,ae){return A.H.useMemo(z,ae)},Me.useOptimistic=function(z,ae){return A.H.useOptimistic(z,ae)},Me.useReducer=function(z,ae,he){return A.H.useReducer(z,ae,he)},Me.useRef=function(z){return A.H.useRef(z)},Me.useState=function(z){return A.H.useState(z)},Me.useSyncExternalStore=function(z,ae,he){return A.H.useSyncExternalStore(z,ae,he)},Me.useTransition=function(){return A.H.useTransition()},Me.version="19.1.0",Me}var Jw;function wp(){return Jw||(Jw=1,hv.exports=PO()),hv.exports}var I=wp();const is=Ep(I),kO=IO({__proto__:null,default:is},[I]);var fv={exports:{}},sh={},dv={exports:{}},mv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw;function OO(){return Zw||(Zw=1,function(t){function e(Z,te){var re=Z.length;Z.push(te);e:for(;0<re;){var me=re-1>>>1,z=Z[me];if(0<s(z,te))Z[me]=te,Z[re]=z,re=me;else break e}}function n(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var te=Z[0],re=Z.pop();if(re!==te){Z[0]=re;e:for(var me=0,z=Z.length,ae=z>>>1;me<ae;){var he=2*(me+1)-1,le=Z[he],_e=he+1,Ne=Z[_e];if(0>s(le,re))_e<z&&0>s(Ne,le)?(Z[me]=Ne,Z[_e]=re,me=_e):(Z[me]=le,Z[he]=re,me=he);else if(_e<z&&0>s(Ne,re))Z[me]=Ne,Z[_e]=re,me=_e;else break e}}return te}function s(Z,te){var re=Z.sortIndex-te.sortIndex;return re!==0?re:Z.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],d=[],g=1,_=null,T=3,x=!1,S=!1,N=!1,R=!1,k=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function $(Z){for(var te=n(d);te!==null;){if(te.callback===null)i(d);else if(te.startTime<=Z)i(d),te.sortIndex=te.expirationTime,e(f,te);else break;te=n(d)}}function A(Z){if(N=!1,$(Z),!S)if(n(f)!==null)S=!0,q||(q=!0,H());else{var te=n(d);te!==null&&Oe(A,te.startTime-Z)}}var q=!1,M=-1,C=5,P=-1;function j(){return R?!0:!(t.unstable_now()-P<C)}function F(){if(R=!1,q){var Z=t.unstable_now();P=Z;var te=!0;try{e:{S=!1,N&&(N=!1,U(M),M=-1),x=!0;var re=T;try{t:{for($(Z),_=n(f);_!==null&&!(_.expirationTime>Z&&j());){var me=_.callback;if(typeof me=="function"){_.callback=null,T=_.priorityLevel;var z=me(_.expirationTime<=Z);if(Z=t.unstable_now(),typeof z=="function"){_.callback=z,$(Z),te=!0;break t}_===n(f)&&i(f),$(Z)}else i(f);_=n(f)}if(_!==null)te=!0;else{var ae=n(d);ae!==null&&Oe(A,ae.startTime-Z),te=!1}}break e}finally{_=null,T=re,x=!1}te=void 0}}finally{te?H():q=!1}}}var H;if(typeof V=="function")H=function(){V(F)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,fe=L.port2;L.port1.onmessage=F,H=function(){fe.postMessage(null)}}else H=function(){k(F,0)};function Oe(Z,te){M=k(function(){Z(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(Z){switch(T){case 1:case 2:case 3:var te=3;break;default:te=T}var re=T;T=te;try{return Z()}finally{T=re}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(Z,te){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var re=T;T=Z;try{return te()}finally{T=re}},t.unstable_scheduleCallback=function(Z,te,re){var me=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?me+re:me):re=me,Z){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=re+z,Z={id:g++,callback:te,priorityLevel:Z,startTime:re,expirationTime:z,sortIndex:-1},re>me?(Z.sortIndex=re,e(d,Z),n(f)===null&&Z===n(d)&&(N?(U(M),M=-1):N=!0,Oe(A,re-me))):(Z.sortIndex=z,e(f,Z),S||x||(S=!0,q||(q=!0,H()))),Z},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(Z){var te=T;return function(){var re=T;T=te;try{return Z.apply(this,arguments)}finally{T=re}}}}(mv)),mv}var e1;function MO(){return e1||(e1=1,dv.exports=OO()),dv.exports}var pv={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1;function jO(){if(t1)return pn;t1=1;var t=wp();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:f,containerInfo:d,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pn.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,g)},pn.flushSync=function(f){var d=u.T,g=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=d,i.p=g,i.d.f()}},pn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},pn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},pn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,_=h(g,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:x}):g==="script"&&i.d.X(f,{crossOrigin:_,integrity:T,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},pn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},pn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,_=h(g,d.crossOrigin);i.d.L(f,g,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},pn.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},pn.requestFormReset=function(f){i.d.r(f)},pn.unstable_batchedUpdates=function(f,d){return f(d)},pn.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},pn.useFormStatus=function(){return u.H.useHostTransitionStatus()},pn.version="19.1.0",pn}var n1;function hC(){if(n1)return pv.exports;n1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pv.exports=jO(),pv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1;function VO(){if(i1)return sh;i1=1;var t=MO(),e=wp(),n=hC();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function u(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function h(r){if(o(r)!==r)throw Error(i(188))}function f(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var l=r,c=a;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return h(p),r;if(v===c)return h(p),a;v=v.sibling}throw Error(i(188))}if(l.return!==c.return)l=p,c=v;else{for(var w=!1,D=p.child;D;){if(D===l){w=!0,l=p,c=v;break}if(D===c){w=!0,c=p,l=v;break}D=D.sibling}if(!w){for(D=v.child;D;){if(D===l){w=!0,l=v,c=p;break}if(D===c){w=!0,c=v,l=p;break}D=D.sibling}if(!w)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:a}function d(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=d(r),a!==null)return a;r=r.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function H(r){return r===null||typeof r!="object"?null:(r=F&&r[F]||r["@@iterator"],typeof r=="function"?r:null)}var L=Symbol.for("react.client.reference");function fe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===L?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case R:return"Profiler";case N:return"StrictMode";case A:return"Suspense";case q:return"SuspenseList";case P:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case x:return"Portal";case V:return(r.displayName||"Context")+".Provider";case U:return(r._context.displayName||"Context")+".Consumer";case $:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return a=r.displayName||null,a!==null?a:fe(r.type)||"Memo";case C:a=r._payload,r=r._init;try{return fe(r(a))}catch{}}return null}var Oe=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},me=[],z=-1;function ae(r){return{current:r}}function he(r){0>z||(r.current=me[z],me[z]=null,z--)}function le(r,a){z++,me[z]=r.current,r.current=a}var _e=ae(null),Ne=ae(null),Re=ae(null),ft=ae(null);function De(r,a){switch(le(Re,a),le(Ne,r),le(_e,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?xw(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=xw(a),r=Ew(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}he(_e),le(_e,r)}function lt(){he(_e),he(Ne),he(Re)}function fn(r){r.memoizedState!==null&&le(ft,r);var a=_e.current,l=Ew(a,r.type);a!==l&&(le(Ne,r),le(_e,l))}function Jt(r){Ne.current===r&&(he(_e),he(Ne)),ft.current===r&&(he(ft),Zc._currentValue=re)}var Pn=Object.prototype.hasOwnProperty,Pa=t.unstable_scheduleCallback,ka=t.unstable_cancelCallback,Xu=t.unstable_shouldYield,Pf=t.unstable_requestPaint,ri=t.unstable_now,ug=t.unstable_getCurrentPriorityLevel,Wu=t.unstable_ImmediatePriority,Qo=t.unstable_UserBlockingPriority,Oa=t.unstable_NormalPriority,cg=t.unstable_LowPriority,Yo=t.unstable_IdlePriority,Ju=t.log,kf=t.unstable_setDisableYieldValue,bt=null,tt=null;function zn(r){if(typeof Ju=="function"&&kf(r),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(bt,r)}catch{}}var dn=Math.clz32?Math.clz32:Ma,Of=Math.log,hg=Math.LN2;function Ma(r){return r>>>=0,r===0?32:31-(Of(r)/hg|0)|0}var ja=256,Va=4194304;function Ai(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Xo(r,a,l){var c=r.pendingLanes;if(c===0)return 0;var p=0,v=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var D=c&134217727;return D!==0?(c=D&~v,c!==0?p=Ai(c):(w&=D,w!==0?p=Ai(w):l||(l=D&~r,l!==0&&(p=Ai(l))))):(D=c&~v,D!==0?p=Ai(D):w!==0?p=Ai(w):l||(l=c&~r,l!==0&&(p=Ai(l)))),p===0?0:a!==0&&a!==p&&(a&v)===0&&(v=p&-p,l=a&-a,v>=l||v===32&&(l&4194048)!==0)?a:p}function La(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Zu(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ec(){var r=ja;return ja<<=1,(ja&4194048)===0&&(ja=256),r}function tc(){var r=Va;return Va<<=1,(Va&62914560)===0&&(Va=4194304),r}function Ir(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function Nr(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function nc(r,a,l,c,p,v){var w=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var D=r.entanglements,B=r.expirationTimes,W=r.hiddenUpdates;for(l=w&~l;0<l;){var ie=31-dn(l),oe=1<<ie;D[ie]=0,B[ie]=-1;var J=W[ie];if(J!==null)for(W[ie]=null,ie=0;ie<J.length;ie++){var ee=J[ie];ee!==null&&(ee.lane&=-536870913)}l&=~oe}c!==0&&Gi(r,c,0),v!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=v&~(w&~a))}function Gi(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var c=31-dn(a);r.entangledLanes|=a,r.entanglements[c]=r.entanglements[c]|1073741824|l&4194090}function ic(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var c=31-dn(l),p=1<<c;p&a|r[c]&a&&(r[c]|=a),l&=~p}}function bs(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Wo(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ts(){var r=te.p;return r!==0?r:(r=window.event,r===void 0?32:Fw(r.type))}function Mf(r,a){var l=te.p;try{return te.p=r,a()}finally{te.p=l}}var mt=Math.random().toString(36).slice(2),Vt="__reactFiber$"+mt,Nt="__reactProps$"+mt,si="__reactContainer$"+mt,rc="__reactEvents$"+mt,fg="__reactListeners$"+mt,xs="__reactHandles$"+mt,jf="__reactResources$"+mt,Ua="__reactMarker$"+mt;function Es(r){delete r[Vt],delete r[Nt],delete r[rc],delete r[fg],delete r[xs]}function Dr(r){var a=r[Vt];if(a)return a;for(var l=r.parentNode;l;){if(a=l[si]||l[Vt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=Rw(r);r!==null;){if(l=r[Vt])return l;r=Rw(r)}return a}r=l,l=r.parentNode}return null}function Ki(r){if(r=r[Vt]||r[si]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function $i(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function wn(r){var a=r[jf];return a||(a=r[jf]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function St(r){r[Ua]=!0}var sc=new Set,Jo={};function Ri(r,a){Pr(r,a),Pr(r+"Capture",a)}function Pr(r,a){for(Jo[r]=a,r=0;r<a.length;r++)sc.add(a[r])}var Vf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lf={},za={};function Uf(r){return Pn.call(za,r)?!0:Pn.call(Lf,r)?!1:Vf.test(r)?za[r]=!0:(Lf[r]=!0,!1)}function ws(r,a,l){if(Uf(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function Qi(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function Zt(r,a,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+c)}}var Ba,zf;function kr(r){if(Ba===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ba=a&&a[1]||"",zf=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ba+r+zf}var Zo=!1;function el(r,a){if(!r||Zo)return"";Zo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ee){var J=ee}Reflect.construct(r,[],oe)}else{try{oe.call()}catch(ee){J=ee}r.call(oe.prototype)}}else{try{throw Error()}catch(ee){J=ee}(oe=r())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),w=v[0],D=v[1];if(w&&D){var B=w.split(`
`),W=D.split(`
`);for(p=c=0;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(c===B.length||p===W.length)for(c=B.length-1,p=W.length-1;1<=c&&0<=p&&B[c]!==W[p];)p--;for(;1<=c&&0<=p;c--,p--)if(B[c]!==W[p]){if(c!==1||p!==1)do if(c--,p--,0>p||B[c]!==W[p]){var ie=`
`+B[c].replace(" at new "," at ");return r.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",r.displayName)),ie}while(1<=c&&0<=p);break}}}finally{Zo=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?kr(l):""}function ac(r){switch(r.tag){case 26:case 27:case 5:return kr(r.type);case 16:return kr("Lazy");case 13:return kr("Suspense");case 19:return kr("SuspenseList");case 0:case 15:return el(r.type,!1);case 11:return el(r.type.render,!1);case 1:return el(r.type,!0);case 31:return kr("Activity");default:return""}}function tl(r){try{var a="";do a+=ac(r),r=r.return;while(r);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Sn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function oc(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function dg(r){var a=oc(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),c=""+r[a];if(!r.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,v=l.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return p.call(this)},set:function(w){c=""+w,v.call(this,w)}}),Object.defineProperty(r,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function nl(r){r._valueTracker||(r._valueTracker=dg(r))}function lc(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return r&&(c=oc(r)?r.checked?"true":"false":r.value),r=c,r!==l?(a.setValue(r),!0):!1}function Fa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var mg=/[\n"\\]/g;function Dt(r){return r.replace(mg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Bn(r,a,l,c,p,v,w,D){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),a!=null?w==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Sn(a)):r.value!==""+Sn(a)&&(r.value=""+Sn(a)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),a!=null?Ss(r,w,Sn(a)):l!=null?Ss(r,w,Sn(l)):c!=null&&r.removeAttribute("value"),p==null&&v!=null&&(r.defaultChecked=!!v),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+Sn(D):r.removeAttribute("name")}function qa(r,a,l,c,p,v,w,D){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),a!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||a!=null))return;l=l!=null?""+Sn(l):"",a=a!=null?""+Sn(a):l,D||a===r.value||(r.value=a),r.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=D?r.checked:!!c,r.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function Ss(r,a,l){a==="number"&&Fa(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Or(r,a,l,c){if(r=r.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=a.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&c&&(r[l].defaultSelected=!0)}else{for(l=""+Sn(l),a=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,c&&(r[p].defaultSelected=!0);return}a!==null||r[p].disabled||(a=r[p])}a!==null&&(a.selected=!0)}}function rt(r,a,l){if(a!=null&&(a=""+Sn(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+Sn(l):""}function Ha(r,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(Oe(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Sn(a),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c)}function ai(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var Ga=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bf(r,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":c?r.setProperty(a,l):typeof l!="number"||l===0||Ga.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function uc(r,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&l[p]!==c&&Bf(r,p,c)}else for(var v in a)a.hasOwnProperty(v)&&Bf(r,v,a[v])}function cc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function il(r){return gg.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Mr=null;function oi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var jr=null,Vr=null;function hc(r){var a=Ki(r);if(a&&(r=a.stateNode)){var l=r[Nt]||null;e:switch(r=a.stateNode,a.type){case"input":if(Bn(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Dt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==r&&c.form===r.form){var p=c[Nt]||null;if(!p)throw Error(i(90));Bn(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===r.form&&lc(c)}break e;case"textarea":rt(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Or(r,!!l.multiple,a,!1)}}}var Yi=!1;function Ff(r,a,l){if(Yi)return r(a,l);Yi=!0;try{var c=r(a);return c}finally{if(Yi=!1,(jr!==null||Vr!==null)&&(Md(),jr&&(a=jr,r=Vr,Vr=jr=null,hc(a),r)))for(a=0;a<r.length;a++)hc(r[a])}}function Ka(r,a){var l=r.stateNode;if(l===null)return null;var c=l[Nt]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),li=!1;if(Ci)try{var $a={};Object.defineProperty($a,"passive",{get:function(){li=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{li=!1}var Xi=null,As=null,Lr=null;function fc(){if(Lr)return Lr;var r,a=As,l=a.length,c,p="value"in Xi?Xi.value:Xi.textContent,v=p.length;for(r=0;r<l&&a[r]===p[r];r++);var w=l-r;for(c=1;c<=w&&a[l-c]===p[v-c];c++);return Lr=p.slice(r,1<c?1-c:void 0)}function Wi(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Ji(){return!0}function dc(){return!1}function Kt(r){function a(l,c,p,v,w){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=v,this.target=w,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(l=r[D],this[D]=l?l(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ji:dc,this.isPropagationStopped=dc,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),a}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=Kt(Je),Qa=g({},Je,{view:0,detail:0}),qf=Kt(Qa),sl,al,Zi,Ya=g({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ja,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Zi&&(Zi&&r.type==="mousemove"?(sl=r.screenX-Zi.screenX,al=r.screenY-Zi.screenY):al=sl=0,Zi=r),sl)},movementY:function(r){return"movementY"in r?r.movementY:al}}),ui=Kt(Ya),Hf=g({},Ya,{dataTransfer:0}),yg=Kt(Hf),Xa=g({},Qa,{relatedTarget:0}),ol=Kt(Xa),mc=g({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),ll=Kt(mc),Gf=g({},Je,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ul=Kt(Gf),vg=g({},Je,{data:0}),pc=Kt(vg),Wa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gc(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=$f[r])?!!a[r]:!1}function Ja(){return gc}var Qf=g({},Qa,{key:function(r){if(r.key){var a=Wa[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Wi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Kf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ja,charCode:function(r){return r.type==="keypress"?Wi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Wi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),cl=Kt(Qf),Yf=g({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yc=Kt(Yf),Ur=g({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ja}),Xf=Kt(Ur),Wf=g({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jf=Kt(Wf),Zf=g({},Ya,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),hl=Kt(Zf),An=g({},Je,{newState:0,oldState:0}),ed=Kt(An),td=[9,13,27,32],er=Ci&&"CompositionEvent"in window,m=null;Ci&&"documentMode"in document&&(m=document.documentMode);var b=Ci&&"TextEvent"in window&&!m,E=Ci&&(!er||m&&8<m&&11>=m),O=" ",Y=!1;function ne(r,a){switch(r){case"keyup":return td.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ge=!1;function Lt(r,a){switch(r){case"compositionend":return de(a);case"keypress":return a.which!==32?null:(Y=!0,O);case"textInput":return r=a.data,r===O&&Y?null:r;default:return null}}function Ke(r,a){if(Ge)return r==="compositionend"||!er&&ne(r,a)?(r=fc(),Lr=As=Xi=null,Ge=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var $t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ut(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!$t[r.type]:a==="textarea"}function zr(r,a,l,c){jr?Vr?Vr.push(c):Vr=[c]:jr=c,a=Bd(a,"onChange"),0<a.length&&(l=new rl("onChange","change",null,l,c),r.push({event:l,listeners:a}))}var en=null,tr=null;function vc(r){yw(r,0)}function nd(r){var a=$i(r);if(lc(a))return r}function LT(r,a){if(r==="change")return a}var UT=!1;if(Ci){var _g;if(Ci){var bg="oninput"in document;if(!bg){var zT=document.createElement("div");zT.setAttribute("oninput","return;"),bg=typeof zT.oninput=="function"}_g=bg}else _g=!1;UT=_g&&(!document.documentMode||9<document.documentMode)}function BT(){en&&(en.detachEvent("onpropertychange",FT),tr=en=null)}function FT(r){if(r.propertyName==="value"&&nd(tr)){var a=[];zr(a,tr,r,oi(r)),Ff(vc,a)}}function ik(r,a,l){r==="focusin"?(BT(),en=a,tr=l,en.attachEvent("onpropertychange",FT)):r==="focusout"&&BT()}function rk(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return nd(tr)}function sk(r,a){if(r==="click")return nd(a)}function ak(r,a){if(r==="input"||r==="change")return nd(a)}function ok(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Fn=typeof Object.is=="function"?Object.is:ok;function _c(r,a){if(Fn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!Pn.call(a,p)||!Fn(r[p],a[p]))return!1}return!0}function qT(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function HT(r,a){var l=qT(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=a&&c>=a)return{node:l,offset:a-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=qT(l)}}function GT(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?GT(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function KT(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Fa(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=Fa(r.document)}return a}function Tg(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var lk=Ci&&"documentMode"in document&&11>=document.documentMode,fl=null,xg=null,bc=null,Eg=!1;function $T(r,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Eg||fl==null||fl!==Fa(c)||(c=fl,"selectionStart"in c&&Tg(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),bc&&_c(bc,c)||(bc=c,c=Bd(xg,"onSelect"),0<c.length&&(a=new rl("onSelect","select",null,a,l),r.push({event:a,listeners:c}),a.target=fl)))}function Za(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var dl={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionrun:Za("Transition","TransitionRun"),transitionstart:Za("Transition","TransitionStart"),transitioncancel:Za("Transition","TransitionCancel"),transitionend:Za("Transition","TransitionEnd")},wg={},QT={};Ci&&(QT=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function eo(r){if(wg[r])return wg[r];if(!dl[r])return r;var a=dl[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in QT)return wg[r]=a[l];return r}var YT=eo("animationend"),XT=eo("animationiteration"),WT=eo("animationstart"),uk=eo("transitionrun"),ck=eo("transitionstart"),hk=eo("transitioncancel"),JT=eo("transitionend"),ZT=new Map,Sg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sg.push("scrollEnd");function Ii(r,a){ZT.set(r,a),Ri(a,[r])}var ex=new WeakMap;function ci(r,a){if(typeof r=="object"&&r!==null){var l=ex.get(r);return l!==void 0?l:(a={value:r,source:a,stack:tl(a)},ex.set(r,a),a)}return{value:r,source:a,stack:tl(a)}}var hi=[],ml=0,Ag=0;function id(){for(var r=ml,a=Ag=ml=0;a<r;){var l=hi[a];hi[a++]=null;var c=hi[a];hi[a++]=null;var p=hi[a];hi[a++]=null;var v=hi[a];if(hi[a++]=null,c!==null&&p!==null){var w=c.pending;w===null?p.next=p:(p.next=w.next,w.next=p),c.pending=p}v!==0&&tx(l,p,v)}}function rd(r,a,l,c){hi[ml++]=r,hi[ml++]=a,hi[ml++]=l,hi[ml++]=c,Ag|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Rg(r,a,l,c){return rd(r,a,l,c),sd(r)}function pl(r,a){return rd(r,null,null,a),sd(r)}function tx(r,a,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var p=!1,v=r.return;v!==null;)v.childLanes|=l,c=v.alternate,c!==null&&(c.childLanes|=l),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(p=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,p&&a!==null&&(p=31-dn(l),r=v.hiddenUpdates,c=r[p],c===null?r[p]=[a]:c.push(a),a.lane=l|536870912),v):null}function sd(r){if(50<Gc)throw Gc=0,ky=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var gl={};function fk(r,a,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(r,a,l,c){return new fk(r,a,l,c)}function Cg(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Br(r,a){var l=r.alternate;return l===null?(l=qn(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function nx(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function ad(r,a,l,c,p,v){var w=0;if(c=r,typeof r=="function")Cg(r)&&(w=1);else if(typeof r=="string")w=mO(r,l,_e.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case P:return r=qn(31,l,a,p),r.elementType=P,r.lanes=v,r;case S:return to(l.children,p,v,a);case N:w=8,p|=24;break;case R:return r=qn(12,l,a,p|2),r.elementType=R,r.lanes=v,r;case A:return r=qn(13,l,a,p),r.elementType=A,r.lanes=v,r;case q:return r=qn(19,l,a,p),r.elementType=q,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:case V:w=10;break e;case U:w=9;break e;case $:w=11;break e;case M:w=14;break e;case C:w=16,c=null;break e}w=29,l=Error(i(130,r===null?"null":typeof r,"")),c=null}return a=qn(w,l,a,p),a.elementType=r,a.type=c,a.lanes=v,a}function to(r,a,l,c){return r=qn(7,r,c,a),r.lanes=l,r}function Ig(r,a,l){return r=qn(6,r,null,a),r.lanes=l,r}function Ng(r,a,l){return a=qn(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var yl=[],vl=0,od=null,ld=0,fi=[],di=0,no=null,Fr=1,qr="";function io(r,a){yl[vl++]=ld,yl[vl++]=od,od=r,ld=a}function ix(r,a,l){fi[di++]=Fr,fi[di++]=qr,fi[di++]=no,no=r;var c=Fr;r=qr;var p=32-dn(c)-1;c&=~(1<<p),l+=1;var v=32-dn(a)+p;if(30<v){var w=p-p%5;v=(c&(1<<w)-1).toString(32),c>>=w,p-=w,Fr=1<<32-dn(a)+p|l<<p|c,qr=v+r}else Fr=1<<v|l<<p|c,qr=r}function Dg(r){r.return!==null&&(io(r,1),ix(r,1,0))}function Pg(r){for(;r===od;)od=yl[--vl],yl[vl]=null,ld=yl[--vl],yl[vl]=null;for(;r===no;)no=fi[--di],fi[di]=null,qr=fi[--di],fi[di]=null,Fr=fi[--di],fi[di]=null}var Rn=null,Tt=null,Xe=!1,ro=null,nr=!1,kg=Error(i(519));function so(r){var a=Error(i(418,""));throw Ec(ci(a,r)),kg}function rx(r){var a=r.stateNode,l=r.type,c=r.memoizedProps;switch(a[Vt]=r,a[Nt]=c,l){case"dialog":ze("cancel",a),ze("close",a);break;case"iframe":case"object":case"embed":ze("load",a);break;case"video":case"audio":for(l=0;l<$c.length;l++)ze($c[l],a);break;case"source":ze("error",a);break;case"img":case"image":case"link":ze("error",a),ze("load",a);break;case"details":ze("toggle",a);break;case"input":ze("invalid",a),qa(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),nl(a);break;case"select":ze("invalid",a);break;case"textarea":ze("invalid",a),Ha(a,c.value,c.defaultValue,c.children),nl(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||Tw(a.textContent,l)?(c.popover!=null&&(ze("beforetoggle",a),ze("toggle",a)),c.onScroll!=null&&ze("scroll",a),c.onScrollEnd!=null&&ze("scrollend",a),c.onClick!=null&&(a.onclick=Fd),a=!0):a=!1,a||so(r)}function sx(r){for(Rn=r.return;Rn;)switch(Rn.tag){case 5:case 13:nr=!1;return;case 27:case 3:nr=!0;return;default:Rn=Rn.return}}function Tc(r){if(r!==Rn)return!1;if(!Xe)return sx(r),Xe=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Yy(r.type,r.memoizedProps)),l=!l),l&&Tt&&so(r),sx(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(a===0){Tt=Di(r.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;r=r.nextSibling}Tt=null}}else a===27?(a=Tt,Fs(r.type)?(r=Zy,Zy=null,Tt=r):Tt=a):Tt=Rn?Di(r.stateNode.nextSibling):null;return!0}function xc(){Tt=Rn=null,Xe=!1}function ax(){var r=ro;return r!==null&&(Mn===null?Mn=r:Mn.push.apply(Mn,r),ro=null),r}function Ec(r){ro===null?ro=[r]:ro.push(r)}var Og=ae(null),ao=null,Hr=null;function Rs(r,a,l){le(Og,a._currentValue),a._currentValue=l}function Gr(r){r._currentValue=Og.current,he(Og)}function Mg(r,a,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),r===l)break;r=r.return}}function jg(r,a,l,c){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var v=p.dependencies;if(v!==null){var w=p.child;v=v.firstContext;e:for(;v!==null;){var D=v;v=p;for(var B=0;B<a.length;B++)if(D.context===a[B]){v.lanes|=l,D=v.alternate,D!==null&&(D.lanes|=l),Mg(v.return,l,r),c||(w=null);break e}v=D.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(i(341));w.lanes|=l,v=w.alternate,v!==null&&(v.lanes|=l),Mg(w,l,r),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===r){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function wc(r,a,l,c){r=null;for(var p=a,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var D=p.type;Fn(p.pendingProps.value,w.value)||(r!==null?r.push(D):r=[D])}}else if(p===ft.current){if(w=p.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Zc):r=[Zc])}p=p.return}r!==null&&jg(a,r,l,c),a.flags|=262144}function ud(r){for(r=r.firstContext;r!==null;){if(!Fn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function oo(r){ao=r,Hr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function mn(r){return ox(ao,r)}function cd(r,a){return ao===null&&oo(r),ox(r,a)}function ox(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Hr===null){if(r===null)throw Error(i(308));Hr=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Hr=Hr.next=a;return l}var dk=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},mk=t.unstable_scheduleCallback,pk=t.unstable_NormalPriority,zt={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vg(){return{controller:new dk,data:new Map,refCount:0}}function Sc(r){r.refCount--,r.refCount===0&&mk(pk,function(){r.controller.abort()})}var Ac=null,Lg=0,_l=0,bl=null;function gk(r,a){if(Ac===null){var l=Ac=[];Lg=0,_l=zy(),bl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Lg++,a.then(lx,lx),a}function lx(){if(--Lg===0&&Ac!==null){bl!==null&&(bl.status="fulfilled");var r=Ac;Ac=null,_l=0,bl=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function yk(r,a){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return r.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var ux=Z.S;Z.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&gk(r,a),ux!==null&&ux(r,a)};var lo=ae(null);function Ug(){var r=lo.current;return r!==null?r:ct.pooledCache}function hd(r,a){a===null?le(lo,lo.current):le(lo,a.pool)}function cx(){var r=Ug();return r===null?null:{parent:zt._currentValue,pool:r}}var Rc=Error(i(460)),hx=Error(i(474)),fd=Error(i(542)),zg={then:function(){}};function fx(r){return r=r.status,r==="fulfilled"||r==="rejected"}function dd(){}function dx(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(dd,dd),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,px(r),r;default:if(typeof a.status=="string")a.then(dd,dd);else{if(r=ct,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,px(r),r}throw Cc=a,Rc}}var Cc=null;function mx(){if(Cc===null)throw Error(i(459));var r=Cc;return Cc=null,r}function px(r){if(r===Rc||r===fd)throw Error(i(483))}var Cs=!1;function Bg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fg(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Is(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ns(r,a,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(nt&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=sd(r),tx(r,null,l),a}return rd(r,c,a,l),sd(r)}function Ic(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,ic(r,l)}}function qg(r,a){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?p=v=w:v=v.next=w,l=l.next}while(l!==null);v===null?p=v=a:v=v.next=a}else p=v=a;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var Hg=!1;function Nc(){if(Hg){var r=bl;if(r!==null)throw r}}function Dc(r,a,l,c){Hg=!1;var p=r.updateQueue;Cs=!1;var v=p.firstBaseUpdate,w=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var B=D,W=B.next;B.next=null,w===null?v=W:w.next=W,w=B;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,D=ie.lastBaseUpdate,D!==w&&(D===null?ie.firstBaseUpdate=W:D.next=W,ie.lastBaseUpdate=B))}if(v!==null){var oe=p.baseState;w=0,ie=W=B=null,D=v;do{var J=D.lane&-536870913,ee=J!==D.lane;if(ee?($e&J)===J:(c&J)===J){J!==0&&J===_l&&(Hg=!0),ie!==null&&(ie=ie.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ce=r,xe=D;J=a;var ot=l;switch(xe.tag){case 1:if(Ce=xe.payload,typeof Ce=="function"){oe=Ce.call(ot,oe,J);break e}oe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=xe.payload,J=typeof Ce=="function"?Ce.call(ot,oe,J):Ce,J==null)break e;oe=g({},oe,J);break e;case 2:Cs=!0}}J=D.callback,J!==null&&(r.flags|=64,ee&&(r.flags|=8192),ee=p.callbacks,ee===null?p.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ie===null?(W=ie=ee,B=oe):ie=ie.next=ee,w|=J;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;ee=D,D=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);ie===null&&(B=oe),p.baseState=B,p.firstBaseUpdate=W,p.lastBaseUpdate=ie,v===null&&(p.shared.lanes=0),Ls|=w,r.lanes=w,r.memoizedState=oe}}function gx(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function yx(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)gx(l[r],a)}var Tl=ae(null),md=ae(0);function vx(r,a){r=Jr,le(md,r),le(Tl,a),Jr=r|a.baseLanes}function Gg(){le(md,Jr),le(Tl,Tl.current)}function Kg(){Jr=md.current,he(Tl),he(md)}var Ds=0,je=null,st=null,Pt=null,pd=!1,xl=!1,uo=!1,gd=0,Pc=0,El=null,vk=0;function At(){throw Error(i(321))}function $g(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!Fn(r[l],a[l]))return!1;return!0}function Qg(r,a,l,c,p,v){return Ds=v,je=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Z.H=r===null||r.memoizedState===null?tE:nE,uo=!1,v=l(c,p),uo=!1,xl&&(v=bx(a,l,c,p)),_x(r),v}function _x(r){Z.H=xd;var a=st!==null&&st.next!==null;if(Ds=0,Pt=st=je=null,pd=!1,Pc=0,El=null,a)throw Error(i(300));r===null||Qt||(r=r.dependencies,r!==null&&ud(r)&&(Qt=!0))}function bx(r,a,l,c){je=r;var p=0;do{if(xl&&(El=null),Pc=0,xl=!1,25<=p)throw Error(i(301));if(p+=1,Pt=st=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}Z.H=Sk,v=a(l,c)}while(xl);return v}function _k(){var r=Z.H,a=r.useState()[0];return a=typeof a.then=="function"?kc(a):a,r=r.useState()[0],(st!==null?st.memoizedState:null)!==r&&(je.flags|=1024),a}function Yg(){var r=gd!==0;return gd=0,r}function Xg(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function Wg(r){if(pd){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}pd=!1}Ds=0,Pt=st=je=null,xl=!1,Pc=gd=0,El=null}function kn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?je.memoizedState=Pt=r:Pt=Pt.next=r,Pt}function kt(){if(st===null){var r=je.alternate;r=r!==null?r.memoizedState:null}else r=st.next;var a=Pt===null?je.memoizedState:Pt.next;if(a!==null)Pt=a,st=r;else{if(r===null)throw je.alternate===null?Error(i(467)):Error(i(310));st=r,r={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Pt===null?je.memoizedState=Pt=r:Pt=Pt.next=r}return Pt}function Jg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kc(r){var a=Pc;return Pc+=1,El===null&&(El=[]),r=dx(El,r,a),a=je,(Pt===null?a.memoizedState:Pt.next)===null&&(a=a.alternate,Z.H=a===null||a.memoizedState===null?tE:nE),r}function yd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return kc(r);if(r.$$typeof===V)return mn(r)}throw Error(i(438,String(r)))}function Zg(r){var a=null,l=je.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=je.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Jg(),je.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),c=0;c<r;c++)l[c]=j;return a.index++,l}function Kr(r,a){return typeof a=="function"?a(r):a}function vd(r){var a=kt();return ey(a,st,r)}function ey(r,a,l){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var p=r.baseQueue,v=c.pending;if(v!==null){if(p!==null){var w=p.next;p.next=v.next,v.next=w}a.baseQueue=p=v,c.pending=null}if(v=r.baseState,p===null)r.memoizedState=v;else{a=p.next;var D=w=null,B=null,W=a,ie=!1;do{var oe=W.lane&-536870913;if(oe!==W.lane?($e&oe)===oe:(Ds&oe)===oe){var J=W.revertLane;if(J===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),oe===_l&&(ie=!0);else if((Ds&J)===J){W=W.next,J===_l&&(ie=!0);continue}else oe={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},B===null?(D=B=oe,w=v):B=B.next=oe,je.lanes|=J,Ls|=J;oe=W.action,uo&&l(v,oe),v=W.hasEagerState?W.eagerState:l(v,oe)}else J={lane:oe,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},B===null?(D=B=J,w=v):B=B.next=J,je.lanes|=oe,Ls|=oe;W=W.next}while(W!==null&&W!==a);if(B===null?w=v:B.next=D,!Fn(v,r.memoizedState)&&(Qt=!0,ie&&(l=bl,l!==null)))throw l;r.memoizedState=v,r.baseState=w,r.baseQueue=B,c.lastRenderedState=v}return p===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function ty(r){var a=kt(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var c=l.dispatch,p=l.pending,v=a.memoizedState;if(p!==null){l.pending=null;var w=p=p.next;do v=r(v,w.action),w=w.next;while(w!==p);Fn(v,a.memoizedState)||(Qt=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),l.lastRenderedState=v}return[v,c]}function Tx(r,a,l){var c=je,p=kt(),v=Xe;if(v){if(l===void 0)throw Error(i(407));l=l()}else l=a();var w=!Fn((st||p).memoizedState,l);w&&(p.memoizedState=l,Qt=!0),p=p.queue;var D=wx.bind(null,c,p,r);if(Oc(2048,8,D,[r]),p.getSnapshot!==a||w||Pt!==null&&Pt.memoizedState.tag&1){if(c.flags|=2048,wl(9,_d(),Ex.bind(null,c,p,l,a),null),ct===null)throw Error(i(349));v||(Ds&124)!==0||xx(c,a,l)}return l}function xx(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=je.updateQueue,a===null?(a=Jg(),je.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function Ex(r,a,l,c){a.value=l,a.getSnapshot=c,Sx(a)&&Ax(r)}function wx(r,a,l){return l(function(){Sx(a)&&Ax(r)})}function Sx(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!Fn(r,l)}catch{return!0}}function Ax(r){var a=pl(r,2);a!==null&&Qn(a,r,2)}function ny(r){var a=kn();if(typeof r=="function"){var l=r;if(r=l(),uo){zn(!0);try{l()}finally{zn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:r},a}function Rx(r,a,l,c){return r.baseState=l,ey(r,st,typeof c=="function"?c:Kr)}function bk(r,a,l,c,p){if(Td(r))throw Error(i(485));if(r=a.action,r!==null){var v={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){v.listeners.push(w)}};Z.T!==null?l(!0):v.isTransition=!1,c(v),l=a.pending,l===null?(v.next=a.pending=v,Cx(a,v)):(v.next=l.next,a.pending=l.next=v)}}function Cx(r,a){var l=a.action,c=a.payload,p=r.state;if(a.isTransition){var v=Z.T,w={};Z.T=w;try{var D=l(p,c),B=Z.S;B!==null&&B(w,D),Ix(r,a,D)}catch(W){iy(r,a,W)}finally{Z.T=v}}else try{v=l(p,c),Ix(r,a,v)}catch(W){iy(r,a,W)}}function Ix(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Nx(r,a,c)},function(c){return iy(r,a,c)}):Nx(r,a,l)}function Nx(r,a,l){a.status="fulfilled",a.value=l,Dx(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,Cx(r,l)))}function iy(r,a,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,Dx(a),a=a.next;while(a!==c)}r.action=null}function Dx(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function Px(r,a){return a}function kx(r,a){if(Xe){var l=ct.formState;if(l!==null){e:{var c=je;if(Xe){if(Tt){t:{for(var p=Tt,v=nr;p.nodeType!==8;){if(!v){p=null;break t}if(p=Di(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Tt=Di(p.nextSibling),c=p.data==="F!";break e}}so(c)}c=!1}c&&(a=l[0])}}return l=kn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Px,lastRenderedState:a},l.queue=c,l=Jx.bind(null,je,c),c.dispatch=l,c=ny(!1),v=ly.bind(null,je,!1,c.queue),c=kn(),p={state:a,dispatch:null,action:r,pending:null},c.queue=p,l=bk.bind(null,je,p,v,l),p.dispatch=l,c.memoizedState=r,[a,l,!1]}function Ox(r){var a=kt();return Mx(a,st,r)}function Mx(r,a,l){if(a=ey(r,a,Px)[0],r=vd(Kr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=kc(a)}catch(w){throw w===Rc?fd:w}else c=a;a=kt();var p=a.queue,v=p.dispatch;return l!==a.memoizedState&&(je.flags|=2048,wl(9,_d(),Tk.bind(null,p,l),null)),[c,v,r]}function Tk(r,a){r.action=a}function jx(r){var a=kt(),l=st;if(l!==null)return Mx(a,l,r);kt(),a=a.memoizedState,l=kt();var c=l.queue.dispatch;return l.memoizedState=r,[a,c,!1]}function wl(r,a,l,c){return r={tag:r,create:l,deps:c,inst:a,next:null},a=je.updateQueue,a===null&&(a=Jg(),je.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,a.lastEffect=r),r}function _d(){return{destroy:void 0,resource:void 0}}function Vx(){return kt().memoizedState}function bd(r,a,l,c){var p=kn();c=c===void 0?null:c,je.flags|=r,p.memoizedState=wl(1|a,_d(),l,c)}function Oc(r,a,l,c){var p=kt();c=c===void 0?null:c;var v=p.memoizedState.inst;st!==null&&c!==null&&$g(c,st.memoizedState.deps)?p.memoizedState=wl(a,v,l,c):(je.flags|=r,p.memoizedState=wl(1|a,v,l,c))}function Lx(r,a){bd(8390656,8,r,a)}function Ux(r,a){Oc(2048,8,r,a)}function zx(r,a){return Oc(4,2,r,a)}function Bx(r,a){return Oc(4,4,r,a)}function Fx(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function qx(r,a,l){l=l!=null?l.concat([r]):null,Oc(4,4,Fx.bind(null,a,r),l)}function ry(){}function Hx(r,a){var l=kt();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&$g(a,c[1])?c[0]:(l.memoizedState=[r,a],r)}function Gx(r,a){var l=kt();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&$g(a,c[1]))return c[0];if(c=r(),uo){zn(!0);try{r()}finally{zn(!1)}}return l.memoizedState=[c,a],c}function sy(r,a,l){return l===void 0||(Ds&1073741824)!==0?r.memoizedState=a:(r.memoizedState=l,r=QE(),je.lanes|=r,Ls|=r,l)}function Kx(r,a,l,c){return Fn(l,a)?l:Tl.current!==null?(r=sy(r,l,c),Fn(r,a)||(Qt=!0),r):(Ds&42)===0?(Qt=!0,r.memoizedState=l):(r=QE(),je.lanes|=r,Ls|=r,a)}function $x(r,a,l,c,p){var v=te.p;te.p=v!==0&&8>v?v:8;var w=Z.T,D={};Z.T=D,ly(r,!1,a,l);try{var B=p(),W=Z.S;if(W!==null&&W(D,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ie=yk(B,c);Mc(r,a,ie,$n(r))}else Mc(r,a,c,$n(r))}catch(oe){Mc(r,a,{then:function(){},status:"rejected",reason:oe},$n())}finally{te.p=v,Z.T=w}}function xk(){}function ay(r,a,l,c){if(r.tag!==5)throw Error(i(476));var p=Qx(r).queue;$x(r,p,a,re,l===null?xk:function(){return Yx(r),l(c)})}function Qx(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:re},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function Yx(r){var a=Qx(r).next.queue;Mc(r,a,{},$n())}function oy(){return mn(Zc)}function Xx(){return kt().memoizedState}function Wx(){return kt().memoizedState}function Ek(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=$n();r=Is(l);var c=Ns(a,r,l);c!==null&&(Qn(c,a,l),Ic(c,a,l)),a={cache:Vg()},r.payload=a;return}a=a.return}}function wk(r,a,l){var c=$n();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Td(r)?Zx(a,l):(l=Rg(r,a,l,c),l!==null&&(Qn(l,r,c),eE(l,a,c)))}function Jx(r,a,l){var c=$n();Mc(r,a,l,c)}function Mc(r,a,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Td(r))Zx(a,p);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var w=a.lastRenderedState,D=v(w,l);if(p.hasEagerState=!0,p.eagerState=D,Fn(D,w))return rd(r,a,p,0),ct===null&&id(),!1}catch{}finally{}if(l=Rg(r,a,p,c),l!==null)return Qn(l,r,c),eE(l,a,c),!0}return!1}function ly(r,a,l,c){if(c={lane:2,revertLane:zy(),action:c,hasEagerState:!1,eagerState:null,next:null},Td(r)){if(a)throw Error(i(479))}else a=Rg(r,l,c,2),a!==null&&Qn(a,r,2)}function Td(r){var a=r.alternate;return r===je||a!==null&&a===je}function Zx(r,a){xl=pd=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function eE(r,a,l){if((l&4194048)!==0){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,ic(r,l)}}var xd={readContext:mn,use:yd,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},tE={readContext:mn,use:yd,useCallback:function(r,a){return kn().memoizedState=[r,a===void 0?null:a],r},useContext:mn,useEffect:Lx,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,bd(4194308,4,Fx.bind(null,a,r),l)},useLayoutEffect:function(r,a){return bd(4194308,4,r,a)},useInsertionEffect:function(r,a){bd(4,2,r,a)},useMemo:function(r,a){var l=kn();a=a===void 0?null:a;var c=r();if(uo){zn(!0);try{r()}finally{zn(!1)}}return l.memoizedState=[c,a],c},useReducer:function(r,a,l){var c=kn();if(l!==void 0){var p=l(a);if(uo){zn(!0);try{l(a)}finally{zn(!1)}}}else p=a;return c.memoizedState=c.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},c.queue=r,r=r.dispatch=wk.bind(null,je,r),[c.memoizedState,r]},useRef:function(r){var a=kn();return r={current:r},a.memoizedState=r},useState:function(r){r=ny(r);var a=r.queue,l=Jx.bind(null,je,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:ry,useDeferredValue:function(r,a){var l=kn();return sy(l,r,a)},useTransition:function(){var r=ny(!1);return r=$x.bind(null,je,r.queue,!0,!1),kn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var c=je,p=kn();if(Xe){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),ct===null)throw Error(i(349));($e&124)!==0||xx(c,a,l)}p.memoizedState=l;var v={value:l,getSnapshot:a};return p.queue=v,Lx(wx.bind(null,c,v,r),[r]),c.flags|=2048,wl(9,_d(),Ex.bind(null,c,v,l,a),null),l},useId:function(){var r=kn(),a=ct.identifierPrefix;if(Xe){var l=qr,c=Fr;l=(c&~(1<<32-dn(c)-1)).toString(32)+l,a="«"+a+"R"+l,l=gd++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=vk++,a="«"+a+"r"+l.toString(32)+"»";return r.memoizedState=a},useHostTransitionStatus:oy,useFormState:kx,useActionState:kx,useOptimistic:function(r){var a=kn();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=ly.bind(null,je,!0,l),l.dispatch=a,[r,a]},useMemoCache:Zg,useCacheRefresh:function(){return kn().memoizedState=Ek.bind(null,je)}},nE={readContext:mn,use:yd,useCallback:Hx,useContext:mn,useEffect:Ux,useImperativeHandle:qx,useInsertionEffect:zx,useLayoutEffect:Bx,useMemo:Gx,useReducer:vd,useRef:Vx,useState:function(){return vd(Kr)},useDebugValue:ry,useDeferredValue:function(r,a){var l=kt();return Kx(l,st.memoizedState,r,a)},useTransition:function(){var r=vd(Kr)[0],a=kt().memoizedState;return[typeof r=="boolean"?r:kc(r),a]},useSyncExternalStore:Tx,useId:Xx,useHostTransitionStatus:oy,useFormState:Ox,useActionState:Ox,useOptimistic:function(r,a){var l=kt();return Rx(l,st,r,a)},useMemoCache:Zg,useCacheRefresh:Wx},Sk={readContext:mn,use:yd,useCallback:Hx,useContext:mn,useEffect:Ux,useImperativeHandle:qx,useInsertionEffect:zx,useLayoutEffect:Bx,useMemo:Gx,useReducer:ty,useRef:Vx,useState:function(){return ty(Kr)},useDebugValue:ry,useDeferredValue:function(r,a){var l=kt();return st===null?sy(l,r,a):Kx(l,st.memoizedState,r,a)},useTransition:function(){var r=ty(Kr)[0],a=kt().memoizedState;return[typeof r=="boolean"?r:kc(r),a]},useSyncExternalStore:Tx,useId:Xx,useHostTransitionStatus:oy,useFormState:jx,useActionState:jx,useOptimistic:function(r,a){var l=kt();return st!==null?Rx(l,st,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Zg,useCacheRefresh:Wx},Sl=null,jc=0;function Ed(r){var a=jc;return jc+=1,Sl===null&&(Sl=[]),dx(Sl,r,a)}function Vc(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function wd(r,a){throw a.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function iE(r){var a=r._init;return a(r._payload)}function rE(r){function a(Q,G){if(r){var X=Q.deletions;X===null?(Q.deletions=[G],Q.flags|=16):X.push(G)}}function l(Q,G){if(!r)return null;for(;G!==null;)a(Q,G),G=G.sibling;return null}function c(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function p(Q,G){return Q=Br(Q,G),Q.index=0,Q.sibling=null,Q}function v(Q,G,X){return Q.index=X,r?(X=Q.alternate,X!==null?(X=X.index,X<G?(Q.flags|=67108866,G):X):(Q.flags|=67108866,G)):(Q.flags|=1048576,G)}function w(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function D(Q,G,X,se){return G===null||G.tag!==6?(G=Ig(X,Q.mode,se),G.return=Q,G):(G=p(G,X),G.return=Q,G)}function B(Q,G,X,se){var ye=X.type;return ye===S?ie(Q,G,X.props.children,se,X.key):G!==null&&(G.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===C&&iE(ye)===G.type)?(G=p(G,X.props),Vc(G,X),G.return=Q,G):(G=ad(X.type,X.key,X.props,null,Q.mode,se),Vc(G,X),G.return=Q,G)}function W(Q,G,X,se){return G===null||G.tag!==4||G.stateNode.containerInfo!==X.containerInfo||G.stateNode.implementation!==X.implementation?(G=Ng(X,Q.mode,se),G.return=Q,G):(G=p(G,X.children||[]),G.return=Q,G)}function ie(Q,G,X,se,ye){return G===null||G.tag!==7?(G=to(X,Q.mode,se,ye),G.return=Q,G):(G=p(G,X),G.return=Q,G)}function oe(Q,G,X){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Ig(""+G,Q.mode,X),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case T:return X=ad(G.type,G.key,G.props,null,Q.mode,X),Vc(X,G),X.return=Q,X;case x:return G=Ng(G,Q.mode,X),G.return=Q,G;case C:var se=G._init;return G=se(G._payload),oe(Q,G,X)}if(Oe(G)||H(G))return G=to(G,Q.mode,X,null),G.return=Q,G;if(typeof G.then=="function")return oe(Q,Ed(G),X);if(G.$$typeof===V)return oe(Q,cd(Q,G),X);wd(Q,G)}return null}function J(Q,G,X,se){var ye=G!==null?G.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return ye!==null?null:D(Q,G,""+X,se);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case T:return X.key===ye?B(Q,G,X,se):null;case x:return X.key===ye?W(Q,G,X,se):null;case C:return ye=X._init,X=ye(X._payload),J(Q,G,X,se)}if(Oe(X)||H(X))return ye!==null?null:ie(Q,G,X,se,null);if(typeof X.then=="function")return J(Q,G,Ed(X),se);if(X.$$typeof===V)return J(Q,G,cd(Q,X),se);wd(Q,X)}return null}function ee(Q,G,X,se,ye){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Q=Q.get(X)||null,D(G,Q,""+se,ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case T:return Q=Q.get(se.key===null?X:se.key)||null,B(G,Q,se,ye);case x:return Q=Q.get(se.key===null?X:se.key)||null,W(G,Q,se,ye);case C:var Le=se._init;return se=Le(se._payload),ee(Q,G,X,se,ye)}if(Oe(se)||H(se))return Q=Q.get(X)||null,ie(G,Q,se,ye,null);if(typeof se.then=="function")return ee(Q,G,X,Ed(se),ye);if(se.$$typeof===V)return ee(Q,G,X,cd(G,se),ye);wd(G,se)}return null}function Ce(Q,G,X,se){for(var ye=null,Le=null,be=G,Ee=G=0,Xt=null;be!==null&&Ee<X.length;Ee++){be.index>Ee?(Xt=be,be=null):Xt=be.sibling;var Ye=J(Q,be,X[Ee],se);if(Ye===null){be===null&&(be=Xt);break}r&&be&&Ye.alternate===null&&a(Q,be),G=v(Ye,G,Ee),Le===null?ye=Ye:Le.sibling=Ye,Le=Ye,be=Xt}if(Ee===X.length)return l(Q,be),Xe&&io(Q,Ee),ye;if(be===null){for(;Ee<X.length;Ee++)be=oe(Q,X[Ee],se),be!==null&&(G=v(be,G,Ee),Le===null?ye=be:Le.sibling=be,Le=be);return Xe&&io(Q,Ee),ye}for(be=c(be);Ee<X.length;Ee++)Xt=ee(be,Q,Ee,X[Ee],se),Xt!==null&&(r&&Xt.alternate!==null&&be.delete(Xt.key===null?Ee:Xt.key),G=v(Xt,G,Ee),Le===null?ye=Xt:Le.sibling=Xt,Le=Xt);return r&&be.forEach(function($s){return a(Q,$s)}),Xe&&io(Q,Ee),ye}function xe(Q,G,X,se){if(X==null)throw Error(i(151));for(var ye=null,Le=null,be=G,Ee=G=0,Xt=null,Ye=X.next();be!==null&&!Ye.done;Ee++,Ye=X.next()){be.index>Ee?(Xt=be,be=null):Xt=be.sibling;var $s=J(Q,be,Ye.value,se);if($s===null){be===null&&(be=Xt);break}r&&be&&$s.alternate===null&&a(Q,be),G=v($s,G,Ee),Le===null?ye=$s:Le.sibling=$s,Le=$s,be=Xt}if(Ye.done)return l(Q,be),Xe&&io(Q,Ee),ye;if(be===null){for(;!Ye.done;Ee++,Ye=X.next())Ye=oe(Q,Ye.value,se),Ye!==null&&(G=v(Ye,G,Ee),Le===null?ye=Ye:Le.sibling=Ye,Le=Ye);return Xe&&io(Q,Ee),ye}for(be=c(be);!Ye.done;Ee++,Ye=X.next())Ye=ee(be,Q,Ee,Ye.value,se),Ye!==null&&(r&&Ye.alternate!==null&&be.delete(Ye.key===null?Ee:Ye.key),G=v(Ye,G,Ee),Le===null?ye=Ye:Le.sibling=Ye,Le=Ye);return r&&be.forEach(function(AO){return a(Q,AO)}),Xe&&io(Q,Ee),ye}function ot(Q,G,X,se){if(typeof X=="object"&&X!==null&&X.type===S&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case T:e:{for(var ye=X.key;G!==null;){if(G.key===ye){if(ye=X.type,ye===S){if(G.tag===7){l(Q,G.sibling),se=p(G,X.props.children),se.return=Q,Q=se;break e}}else if(G.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===C&&iE(ye)===G.type){l(Q,G.sibling),se=p(G,X.props),Vc(se,X),se.return=Q,Q=se;break e}l(Q,G);break}else a(Q,G);G=G.sibling}X.type===S?(se=to(X.props.children,Q.mode,se,X.key),se.return=Q,Q=se):(se=ad(X.type,X.key,X.props,null,Q.mode,se),Vc(se,X),se.return=Q,Q=se)}return w(Q);case x:e:{for(ye=X.key;G!==null;){if(G.key===ye)if(G.tag===4&&G.stateNode.containerInfo===X.containerInfo&&G.stateNode.implementation===X.implementation){l(Q,G.sibling),se=p(G,X.children||[]),se.return=Q,Q=se;break e}else{l(Q,G);break}else a(Q,G);G=G.sibling}se=Ng(X,Q.mode,se),se.return=Q,Q=se}return w(Q);case C:return ye=X._init,X=ye(X._payload),ot(Q,G,X,se)}if(Oe(X))return Ce(Q,G,X,se);if(H(X)){if(ye=H(X),typeof ye!="function")throw Error(i(150));return X=ye.call(X),xe(Q,G,X,se)}if(typeof X.then=="function")return ot(Q,G,Ed(X),se);if(X.$$typeof===V)return ot(Q,G,cd(Q,X),se);wd(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,G!==null&&G.tag===6?(l(Q,G.sibling),se=p(G,X),se.return=Q,Q=se):(l(Q,G),se=Ig(X,Q.mode,se),se.return=Q,Q=se),w(Q)):l(Q,G)}return function(Q,G,X,se){try{jc=0;var ye=ot(Q,G,X,se);return Sl=null,ye}catch(be){if(be===Rc||be===fd)throw be;var Le=qn(29,be,null,Q.mode);return Le.lanes=se,Le.return=Q,Le}finally{}}}var Al=rE(!0),sE=rE(!1),mi=ae(null),ir=null;function Ps(r){var a=r.alternate;le(Bt,Bt.current&1),le(mi,r),ir===null&&(a===null||Tl.current!==null||a.memoizedState!==null)&&(ir=r)}function aE(r){if(r.tag===22){if(le(Bt,Bt.current),le(mi,r),ir===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(ir=r)}}else ks()}function ks(){le(Bt,Bt.current),le(mi,mi.current)}function $r(r){he(mi),ir===r&&(ir=null),he(Bt)}var Bt=ae(0);function Sd(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Jy(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function uy(r,a,l,c){a=r.memoizedState,l=l(c,a),l=l==null?a:g({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var cy={enqueueSetState:function(r,a,l){r=r._reactInternals;var c=$n(),p=Is(c);p.payload=a,l!=null&&(p.callback=l),a=Ns(r,p,c),a!==null&&(Qn(a,r,c),Ic(a,r,c))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var c=$n(),p=Is(c);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=Ns(r,p,c),a!==null&&(Qn(a,r,c),Ic(a,r,c))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=$n(),c=Is(l);c.tag=2,a!=null&&(c.callback=a),a=Ns(r,c,l),a!==null&&(Qn(a,r,l),Ic(a,r,l))}};function oE(r,a,l,c,p,v,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,v,w):a.prototype&&a.prototype.isPureReactComponent?!_c(l,c)||!_c(p,v):!0}function lE(r,a,l,c){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==r&&cy.enqueueReplaceState(a,a.state,null)}function co(r,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(r=r.defaultProps){l===a&&(l=g({},l));for(var p in r)l[p]===void 0&&(l[p]=r[p])}return l}var Ad=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function uE(r){Ad(r)}function cE(r){console.error(r)}function hE(r){Ad(r)}function Rd(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function fE(r,a,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function hy(r,a,l){return l=Is(l),l.tag=3,l.payload={element:null},l.callback=function(){Rd(r,a)},l}function dE(r){return r=Is(r),r.tag=3,r}function mE(r,a,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var v=c.value;r.payload=function(){return p(v)},r.callback=function(){fE(a,l,c)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){fE(a,l,c),typeof p!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function Ak(r,a,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&wc(a,l,p,!0),l=mi.current,l!==null){switch(l.tag){case 13:return ir===null?My():l.alternate===null&&xt===0&&(xt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===zg?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Vy(r,c,p)),!1;case 22:return l.flags|=65536,c===zg?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Vy(r,c,p)),!1}throw Error(i(435,l.tag))}return Vy(r,c,p),My(),!1}if(Xe)return a=mi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==kg&&(r=Error(i(422),{cause:c}),Ec(ci(r,l)))):(c!==kg&&(a=Error(i(423),{cause:c}),Ec(ci(a,l))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,c=ci(c,l),p=hy(r.stateNode,c,p),qg(r,p),xt!==4&&(xt=2)),!1;var v=Error(i(520),{cause:c});if(v=ci(v,l),Hc===null?Hc=[v]:Hc.push(v),xt!==4&&(xt=2),a===null)return!0;c=ci(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=p&-p,l.lanes|=r,r=hy(l.stateNode,c,r),qg(l,r),!1;case 1:if(a=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Us===null||!Us.has(v))))return l.flags|=65536,p&=-p,l.lanes|=p,p=dE(p),mE(p,r,l,c),qg(l,p),!1}l=l.return}while(l!==null);return!1}var pE=Error(i(461)),Qt=!1;function tn(r,a,l,c){a.child=r===null?sE(a,null,l,c):Al(a,r.child,l,c)}function gE(r,a,l,c,p){l=l.render;var v=a.ref;if("ref"in c){var w={};for(var D in c)D!=="ref"&&(w[D]=c[D])}else w=c;return oo(a),c=Qg(r,a,l,w,v,p),D=Yg(),r!==null&&!Qt?(Xg(r,a,p),Qr(r,a,p)):(Xe&&D&&Dg(a),a.flags|=1,tn(r,a,c,p),a.child)}function yE(r,a,l,c,p){if(r===null){var v=l.type;return typeof v=="function"&&!Cg(v)&&v.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=v,vE(r,a,v,c,p)):(r=ad(l.type,null,c,a,a.mode,p),r.ref=a.ref,r.return=a,a.child=r)}if(v=r.child,!_y(r,p)){var w=v.memoizedProps;if(l=l.compare,l=l!==null?l:_c,l(w,c)&&r.ref===a.ref)return Qr(r,a,p)}return a.flags|=1,r=Br(v,c),r.ref=a.ref,r.return=a,a.child=r}function vE(r,a,l,c,p){if(r!==null){var v=r.memoizedProps;if(_c(v,c)&&r.ref===a.ref)if(Qt=!1,a.pendingProps=c=v,_y(r,p))(r.flags&131072)!==0&&(Qt=!0);else return a.lanes=r.lanes,Qr(r,a,p)}return fy(r,a,l,c,p)}function _E(r,a,l){var c=a.pendingProps,p=c.children,v=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=v!==null?v.baseLanes|l:l,r!==null){for(p=a.child=r.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;a.childLanes=v&~c}else a.childLanes=0,a.child=null;return bE(r,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&hd(a,v!==null?v.cachePool:null),v!==null?vx(a,v):Gg(),aE(a);else return a.lanes=a.childLanes=536870912,bE(r,a,v!==null?v.baseLanes|l:l,l)}else v!==null?(hd(a,v.cachePool),vx(a,v),ks(),a.memoizedState=null):(r!==null&&hd(a,null),Gg(),ks());return tn(r,a,p,l),a.child}function bE(r,a,l,c){var p=Ug();return p=p===null?null:{parent:zt._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},r!==null&&hd(a,null),Gg(),aE(a),r!==null&&wc(r,a,c,!0),null}function Cd(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function fy(r,a,l,c,p){return oo(a),l=Qg(r,a,l,c,void 0,p),c=Yg(),r!==null&&!Qt?(Xg(r,a,p),Qr(r,a,p)):(Xe&&c&&Dg(a),a.flags|=1,tn(r,a,l,p),a.child)}function TE(r,a,l,c,p,v){return oo(a),a.updateQueue=null,l=bx(a,c,l,p),_x(r),c=Yg(),r!==null&&!Qt?(Xg(r,a,v),Qr(r,a,v)):(Xe&&c&&Dg(a),a.flags|=1,tn(r,a,l,v),a.child)}function xE(r,a,l,c,p){if(oo(a),a.stateNode===null){var v=gl,w=l.contextType;typeof w=="object"&&w!==null&&(v=mn(w)),v=new l(c,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=cy,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=c,v.state=a.memoizedState,v.refs={},Bg(a),w=l.contextType,v.context=typeof w=="object"&&w!==null?mn(w):gl,v.state=a.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(uy(a,l,w,c),v.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(w=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),w!==v.state&&cy.enqueueReplaceState(v,v.state,null),Dc(a,c,v,p),Nc(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(r===null){v=a.stateNode;var D=a.memoizedProps,B=co(l,D);v.props=B;var W=v.context,ie=l.contextType;w=gl,typeof ie=="object"&&ie!==null&&(w=mn(ie));var oe=l.getDerivedStateFromProps;ie=typeof oe=="function"||typeof v.getSnapshotBeforeUpdate=="function",D=a.pendingProps!==D,ie||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D||W!==w)&&lE(a,v,c,w),Cs=!1;var J=a.memoizedState;v.state=J,Dc(a,c,v,p),Nc(),W=a.memoizedState,D||J!==W||Cs?(typeof oe=="function"&&(uy(a,l,oe,c),W=a.memoizedState),(B=Cs||oE(a,l,B,c,J,W,w))?(ie||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=W),v.props=c,v.state=W,v.context=w,c=B):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{v=a.stateNode,Fg(r,a),w=a.memoizedProps,ie=co(l,w),v.props=ie,oe=a.pendingProps,J=v.context,W=l.contextType,B=gl,typeof W=="object"&&W!==null&&(B=mn(W)),D=l.getDerivedStateFromProps,(W=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==oe||J!==B)&&lE(a,v,c,B),Cs=!1,J=a.memoizedState,v.state=J,Dc(a,c,v,p),Nc();var ee=a.memoizedState;w!==oe||J!==ee||Cs||r!==null&&r.dependencies!==null&&ud(r.dependencies)?(typeof D=="function"&&(uy(a,l,D,c),ee=a.memoizedState),(ie=Cs||oE(a,l,ie,c,J,ee,B)||r!==null&&r.dependencies!==null&&ud(r.dependencies))?(W||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ee,B),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ee,B)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===r.memoizedProps&&J===r.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&J===r.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ee),v.props=c,v.state=ee,v.context=B,c=ie):(typeof v.componentDidUpdate!="function"||w===r.memoizedProps&&J===r.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&J===r.memoizedState||(a.flags|=1024),c=!1)}return v=c,Cd(r,a),c=(a.flags&128)!==0,v||c?(v=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,r!==null&&c?(a.child=Al(a,r.child,null,p),a.child=Al(a,null,l,p)):tn(r,a,l,p),a.memoizedState=v.state,r=a.child):r=Qr(r,a,p),r}function EE(r,a,l,c){return xc(),a.flags|=256,tn(r,a,l,c),a.child}var dy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function my(r){return{baseLanes:r,cachePool:cx()}}function py(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=pi),r}function wE(r,a,l){var c=a.pendingProps,p=!1,v=(a.flags&128)!==0,w;if((w=v)||(w=r!==null&&r.memoizedState===null?!1:(Bt.current&2)!==0),w&&(p=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,r===null){if(Xe){if(p?Ps(a):ks(),Xe){var D=Tt,B;if(B=D){e:{for(B=D,D=nr;B.nodeType!==8;){if(!D){D=null;break e}if(B=Di(B.nextSibling),B===null){D=null;break e}}D=B}D!==null?(a.memoizedState={dehydrated:D,treeContext:no!==null?{id:Fr,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},B=qn(18,null,null,0),B.stateNode=D,B.return=a,a.child=B,Rn=a,Tt=null,B=!0):B=!1}B||so(a)}if(D=a.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Jy(D)?a.lanes=32:a.lanes=536870912,null;$r(a)}return D=c.children,c=c.fallback,p?(ks(),p=a.mode,D=Id({mode:"hidden",children:D},p),c=to(c,p,l,null),D.return=a,c.return=a,D.sibling=c,a.child=D,p=a.child,p.memoizedState=my(l),p.childLanes=py(r,w,l),a.memoizedState=dy,c):(Ps(a),gy(a,D))}if(B=r.memoizedState,B!==null&&(D=B.dehydrated,D!==null)){if(v)a.flags&256?(Ps(a),a.flags&=-257,a=yy(r,a,l)):a.memoizedState!==null?(ks(),a.child=r.child,a.flags|=128,a=null):(ks(),p=c.fallback,D=a.mode,c=Id({mode:"visible",children:c.children},D),p=to(p,D,l,null),p.flags|=2,c.return=a,p.return=a,c.sibling=p,a.child=c,Al(a,r.child,null,l),c=a.child,c.memoizedState=my(l),c.childLanes=py(r,w,l),a.memoizedState=dy,a=p);else if(Ps(a),Jy(D)){if(w=D.nextSibling&&D.nextSibling.dataset,w)var W=w.dgst;w=W,c=Error(i(419)),c.stack="",c.digest=w,Ec({value:c,source:null,stack:null}),a=yy(r,a,l)}else if(Qt||wc(r,a,l,!1),w=(l&r.childLanes)!==0,Qt||w){if(w=ct,w!==null&&(c=l&-l,c=(c&42)!==0?1:bs(c),c=(c&(w.suspendedLanes|l))!==0?0:c,c!==0&&c!==B.retryLane))throw B.retryLane=c,pl(r,c),Qn(w,r,c),pE;D.data==="$?"||My(),a=yy(r,a,l)}else D.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=B.treeContext,Tt=Di(D.nextSibling),Rn=a,Xe=!0,ro=null,nr=!1,r!==null&&(fi[di++]=Fr,fi[di++]=qr,fi[di++]=no,Fr=r.id,qr=r.overflow,no=a),a=gy(a,c.children),a.flags|=4096);return a}return p?(ks(),p=c.fallback,D=a.mode,B=r.child,W=B.sibling,c=Br(B,{mode:"hidden",children:c.children}),c.subtreeFlags=B.subtreeFlags&65011712,W!==null?p=Br(W,p):(p=to(p,D,l,null),p.flags|=2),p.return=a,c.return=a,c.sibling=p,a.child=c,c=p,p=a.child,D=r.child.memoizedState,D===null?D=my(l):(B=D.cachePool,B!==null?(W=zt._currentValue,B=B.parent!==W?{parent:W,pool:W}:B):B=cx(),D={baseLanes:D.baseLanes|l,cachePool:B}),p.memoizedState=D,p.childLanes=py(r,w,l),a.memoizedState=dy,c):(Ps(a),l=r.child,r=l.sibling,l=Br(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,r!==null&&(w=a.deletions,w===null?(a.deletions=[r],a.flags|=16):w.push(r)),a.child=l,a.memoizedState=null,l)}function gy(r,a){return a=Id({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Id(r,a){return r=qn(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function yy(r,a,l){return Al(a,r.child,null,l),r=gy(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function SE(r,a,l){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a),Mg(r.return,a,l)}function vy(r,a,l,c,p){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=l,v.tailMode=p)}function AE(r,a,l){var c=a.pendingProps,p=c.revealOrder,v=c.tail;if(tn(r,a,c.children,l),c=Bt.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&SE(r,l,a);else if(r.tag===19)SE(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(le(Bt,c),p){case"forwards":for(l=a.child,p=null;l!==null;)r=l.alternate,r!==null&&Sd(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),vy(a,!1,p,l,v);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(r=p.alternate,r!==null&&Sd(r)===null){a.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}vy(a,!0,l,null,v);break;case"together":vy(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Qr(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),Ls|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(wc(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,l=Br(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=Br(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function _y(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&ud(r)))}function Rk(r,a,l){switch(a.tag){case 3:De(a,a.stateNode.containerInfo),Rs(a,zt,r.memoizedState.cache),xc();break;case 27:case 5:fn(a);break;case 4:De(a,a.stateNode.containerInfo);break;case 10:Rs(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Ps(a),a.flags|=128,null):(l&a.child.childLanes)!==0?wE(r,a,l):(Ps(a),r=Qr(r,a,l),r!==null?r.sibling:null);Ps(a);break;case 19:var p=(r.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(wc(r,a,l,!1),c=(l&a.childLanes)!==0),p){if(c)return AE(r,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),le(Bt,Bt.current),c)break;return null;case 22:case 23:return a.lanes=0,_E(r,a,l);case 24:Rs(a,zt,r.memoizedState.cache)}return Qr(r,a,l)}function RE(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)Qt=!0;else{if(!_y(r,l)&&(a.flags&128)===0)return Qt=!1,Rk(r,a,l);Qt=(r.flags&131072)!==0}else Qt=!1,Xe&&(a.flags&1048576)!==0&&ix(a,ld,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var c=a.elementType,p=c._init;if(c=p(c._payload),a.type=c,typeof c=="function")Cg(c)?(r=co(c,r),a.tag=1,a=xE(null,a,c,r,l)):(a.tag=0,a=fy(null,a,c,r,l));else{if(c!=null){if(p=c.$$typeof,p===$){a.tag=11,a=gE(null,a,c,r,l);break e}else if(p===M){a.tag=14,a=yE(null,a,c,r,l);break e}}throw a=fe(c)||c,Error(i(306,a,""))}}return a;case 0:return fy(r,a,a.type,a.pendingProps,l);case 1:return c=a.type,p=co(c,a.pendingProps),xE(r,a,c,p,l);case 3:e:{if(De(a,a.stateNode.containerInfo),r===null)throw Error(i(387));c=a.pendingProps;var v=a.memoizedState;p=v.element,Fg(r,a),Dc(a,c,null,l);var w=a.memoizedState;if(c=w.cache,Rs(a,zt,c),c!==v.cache&&jg(a,[zt],l,!0),Nc(),c=w.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=EE(r,a,c,l);break e}else if(c!==p){p=ci(Error(i(424)),a),Ec(p),a=EE(r,a,c,l);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Tt=Di(r.firstChild),Rn=a,Xe=!0,ro=null,nr=!0,l=sE(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(xc(),c===p){a=Qr(r,a,l);break e}tn(r,a,c,l)}a=a.child}return a;case 26:return Cd(r,a),r===null?(l=Dw(a.type,null,a.pendingProps,null))?a.memoizedState=l:Xe||(l=a.type,r=a.pendingProps,c=qd(Re.current).createElement(l),c[Vt]=a,c[Nt]=r,rn(c,l,r),St(c),a.stateNode=c):a.memoizedState=Dw(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return fn(a),r===null&&Xe&&(c=a.stateNode=Cw(a.type,a.pendingProps,Re.current),Rn=a,nr=!0,p=Tt,Fs(a.type)?(Zy=p,Tt=Di(c.firstChild)):Tt=p),tn(r,a,a.pendingProps.children,l),Cd(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Xe&&((p=c=Tt)&&(c=tO(c,a.type,a.pendingProps,nr),c!==null?(a.stateNode=c,Rn=a,Tt=Di(c.firstChild),nr=!1,p=!0):p=!1),p||so(a)),fn(a),p=a.type,v=a.pendingProps,w=r!==null?r.memoizedProps:null,c=v.children,Yy(p,v)?c=null:w!==null&&Yy(p,w)&&(a.flags|=32),a.memoizedState!==null&&(p=Qg(r,a,_k,null,null,l),Zc._currentValue=p),Cd(r,a),tn(r,a,c,l),a.child;case 6:return r===null&&Xe&&((r=l=Tt)&&(l=nO(l,a.pendingProps,nr),l!==null?(a.stateNode=l,Rn=a,Tt=null,r=!0):r=!1),r||so(a)),null;case 13:return wE(r,a,l);case 4:return De(a,a.stateNode.containerInfo),c=a.pendingProps,r===null?a.child=Al(a,null,c,l):tn(r,a,c,l),a.child;case 11:return gE(r,a,a.type,a.pendingProps,l);case 7:return tn(r,a,a.pendingProps,l),a.child;case 8:return tn(r,a,a.pendingProps.children,l),a.child;case 12:return tn(r,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Rs(a,a.type,c.value),tn(r,a,c.children,l),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,oo(a),p=mn(p),c=c(p),a.flags|=1,tn(r,a,c,l),a.child;case 14:return yE(r,a,a.type,a.pendingProps,l);case 15:return vE(r,a,a.type,a.pendingProps,l);case 19:return AE(r,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},r===null?(l=Id(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Br(r.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return _E(r,a,l);case 24:return oo(a),c=mn(zt),r===null?(p=Ug(),p===null&&(p=ct,v=Vg(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=l),p=v),a.memoizedState={parent:c,cache:p},Bg(a),Rs(a,zt,p)):((r.lanes&l)!==0&&(Fg(r,a),Dc(a,null,null,l),Nc()),p=r.memoizedState,v=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Rs(a,zt,c)):(c=v.cache,Rs(a,zt,c),c!==p.cache&&jg(a,[zt],l,!0))),tn(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Yr(r){r.flags|=4}function CE(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!jw(a)){if(a=mi.current,a!==null&&(($e&4194048)===$e?ir!==null:($e&62914560)!==$e&&($e&536870912)===0||a!==ir))throw Cc=zg,hx;r.flags|=8192}}function Nd(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?tc():536870912,r.lanes|=a,Nl|=a)}function Lc(r,a){if(!Xe)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function gt(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(a)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=c,r.childLanes=l,a}function Ck(r,a,l){var c=a.pendingProps;switch(Pg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(a),null;case 1:return gt(a),null;case 3:return l=a.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Gr(zt),lt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Tc(a)?Yr(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ax())),gt(a),null;case 26:return l=a.memoizedState,r===null?(Yr(a),l!==null?(gt(a),CE(a,l)):(gt(a),a.flags&=-16777217)):l?l!==r.memoizedState?(Yr(a),gt(a),CE(a,l)):(gt(a),a.flags&=-16777217):(r.memoizedProps!==c&&Yr(a),gt(a),a.flags&=-16777217),null;case 27:Jt(a),l=Re.current;var p=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==c&&Yr(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return gt(a),null}r=_e.current,Tc(a)?rx(a):(r=Cw(p,c,l),a.stateNode=r,Yr(a))}return gt(a),null;case 5:if(Jt(a),l=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&Yr(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return gt(a),null}if(r=_e.current,Tc(a))rx(a);else{switch(p=qd(Re.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}r[Vt]=a,r[Nt]=c;e:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=r;e:switch(rn(r,l,c),l){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Yr(a)}}return gt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==c&&Yr(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(r=Re.current,Tc(a)){if(r=a.stateNode,l=a.memoizedProps,c=null,p=Rn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}r[Vt]=a,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Tw(r.nodeValue,l)),r||so(a)}else r=qd(r).createTextNode(c),r[Vt]=a,a.stateNode=r}return gt(a),null;case 13:if(c=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Tc(a),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Vt]=a}else xc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;gt(a),p=!1}else p=ax(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?($r(a),a):($r(a),null)}if($r(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,r=r!==null&&r.memoizedState!==null,l){c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var v=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==p&&(c.flags|=2048)}return l!==r&&l&&(a.child.flags|=8192),Nd(a,a.updateQueue),gt(a),null;case 4:return lt(),r===null&&Hy(a.stateNode.containerInfo),gt(a),null;case 10:return Gr(a.type),gt(a),null;case 19:if(he(Bt),p=a.memoizedState,p===null)return gt(a),null;if(c=(a.flags&128)!==0,v=p.rendering,v===null)if(c)Lc(p,!1);else{if(xt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(v=Sd(r),v!==null){for(a.flags|=128,Lc(p,!1),r=v.updateQueue,a.updateQueue=r,Nd(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)nx(l,r),l=l.sibling;return le(Bt,Bt.current&1|2),a.child}r=r.sibling}p.tail!==null&&ri()>kd&&(a.flags|=128,c=!0,Lc(p,!1),a.lanes=4194304)}else{if(!c)if(r=Sd(v),r!==null){if(a.flags|=128,c=!0,r=r.updateQueue,a.updateQueue=r,Nd(a,r),Lc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Xe)return gt(a),null}else 2*ri()-p.renderingStartTime>kd&&l!==536870912&&(a.flags|=128,c=!0,Lc(p,!1),a.lanes=4194304);p.isBackwards?(v.sibling=a.child,a.child=v):(r=p.last,r!==null?r.sibling=v:a.child=v,p.last=v)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=ri(),a.sibling=null,r=Bt.current,le(Bt,c?r&1|2:r&1),a):(gt(a),null);case 22:case 23:return $r(a),Kg(),c=a.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(gt(a),a.subtreeFlags&6&&(a.flags|=8192)):gt(a),l=a.updateQueue,l!==null&&Nd(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),r!==null&&he(lo),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Gr(zt),gt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Ik(r,a){switch(Pg(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Gr(zt),lt(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Jt(a),null;case 13:if($r(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));xc()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return he(Bt),null;case 4:return lt(),null;case 10:return Gr(a.type),null;case 22:case 23:return $r(a),Kg(),r!==null&&he(lo),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Gr(zt),null;case 25:return null;default:return null}}function IE(r,a){switch(Pg(a),a.tag){case 3:Gr(zt),lt();break;case 26:case 27:case 5:Jt(a);break;case 4:lt();break;case 13:$r(a);break;case 19:he(Bt);break;case 10:Gr(a.type);break;case 22:case 23:$r(a),Kg(),r!==null&&he(lo);break;case 24:Gr(zt)}}function Uc(r,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&r)===r){c=void 0;var v=l.create,w=l.inst;c=v(),w.destroy=c}l=l.next}while(l!==p)}}catch(D){ut(a,a.return,D)}}function Os(r,a,l){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var v=p.next;c=v;do{if((c.tag&r)===r){var w=c.inst,D=w.destroy;if(D!==void 0){w.destroy=void 0,p=a;var B=l,W=D;try{W()}catch(ie){ut(p,B,ie)}}}c=c.next}while(c!==v)}}catch(ie){ut(a,a.return,ie)}}function NE(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{yx(a,l)}catch(c){ut(r,r.return,c)}}}function DE(r,a,l){l.props=co(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){ut(r,a,c)}}function zc(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(p){ut(r,a,p)}}function rr(r,a){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){ut(r,a,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){ut(r,a,p)}else l.current=null}function PE(r){var a=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){ut(r,r.return,p)}}function by(r,a,l){try{var c=r.stateNode;Xk(c,r.type,l,a),c[Nt]=a}catch(p){ut(r,r.return,p)}}function kE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Fs(r.type)||r.tag===4}function Ty(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||kE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Fs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function xy(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Fd));else if(c!==4&&(c===27&&Fs(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(xy(r,a,l),r=r.sibling;r!==null;)xy(r,a,l),r=r.sibling}function Dd(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(c!==4&&(c===27&&Fs(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Dd(r,a,l),r=r.sibling;r!==null;)Dd(r,a,l),r=r.sibling}function OE(r){var a=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);rn(a,c,l),a[Vt]=r,a[Nt]=l}catch(v){ut(r,r.return,v)}}var Xr=!1,Rt=!1,Ey=!1,ME=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function Nk(r,a){if(r=r.containerInfo,$y=Yd,r=KT(r),Tg(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var w=0,D=-1,B=-1,W=0,ie=0,oe=r,J=null;t:for(;;){for(var ee;oe!==l||p!==0&&oe.nodeType!==3||(D=w+p),oe!==v||c!==0&&oe.nodeType!==3||(B=w+c),oe.nodeType===3&&(w+=oe.nodeValue.length),(ee=oe.firstChild)!==null;)J=oe,oe=ee;for(;;){if(oe===r)break t;if(J===l&&++W===p&&(D=w),J===v&&++ie===c&&(B=w),(ee=oe.nextSibling)!==null)break;oe=J,J=oe.parentNode}oe=ee}l=D===-1||B===-1?null:{start:D,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qy={focusedElem:r,selectionRange:l},Yd=!1,Yt=a;Yt!==null;)if(a=Yt,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,Yt=r;else for(;Yt!==null;){switch(a=Yt,v=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,l=a,p=v.memoizedProps,v=v.memoizedState,c=l.stateNode;try{var Ce=co(l.type,p,l.elementType===l.type);r=c.getSnapshotBeforeUpdate(Ce,v),c.__reactInternalSnapshotBeforeUpdate=r}catch(xe){ut(l,l.return,xe)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)Wy(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Wy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Yt=r;break}Yt=a.return}}function jE(r,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ms(r,l),c&4&&Uc(5,l);break;case 1:if(Ms(r,l),c&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(w){ut(l,l.return,w)}else{var p=co(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(p,a,r.__reactInternalSnapshotBeforeUpdate)}catch(w){ut(l,l.return,w)}}c&64&&NE(l),c&512&&zc(l,l.return);break;case 3:if(Ms(r,l),c&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{yx(r,a)}catch(w){ut(l,l.return,w)}}break;case 27:a===null&&c&4&&OE(l);case 26:case 5:Ms(r,l),a===null&&c&4&&PE(l),c&512&&zc(l,l.return);break;case 12:Ms(r,l);break;case 13:Ms(r,l),c&4&&UE(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=Uk.bind(null,l),iO(r,l))));break;case 22:if(c=l.memoizedState!==null||Xr,!c){a=a!==null&&a.memoizedState!==null||Rt,p=Xr;var v=Rt;Xr=c,(Rt=a)&&!v?js(r,l,(l.subtreeFlags&8772)!==0):Ms(r,l),Xr=p,Rt=v}break;case 30:break;default:Ms(r,l)}}function VE(r){var a=r.alternate;a!==null&&(r.alternate=null,VE(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Es(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var pt=null,On=!1;function Wr(r,a,l){for(l=l.child;l!==null;)LE(r,a,l),l=l.sibling}function LE(r,a,l){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(bt,l)}catch{}switch(l.tag){case 26:Rt||rr(l,a),Wr(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Rt||rr(l,a);var c=pt,p=On;Fs(l.type)&&(pt=l.stateNode,On=!1),Wr(r,a,l),Yc(l.stateNode),pt=c,On=p;break;case 5:Rt||rr(l,a);case 6:if(c=pt,p=On,pt=null,Wr(r,a,l),pt=c,On=p,pt!==null)if(On)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(l.stateNode)}catch(v){ut(l,a,v)}else try{pt.removeChild(l.stateNode)}catch(v){ut(l,a,v)}break;case 18:pt!==null&&(On?(r=pt,Aw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),ih(r)):Aw(pt,l.stateNode));break;case 4:c=pt,p=On,pt=l.stateNode.containerInfo,On=!0,Wr(r,a,l),pt=c,On=p;break;case 0:case 11:case 14:case 15:Rt||Os(2,l,a),Rt||Os(4,l,a),Wr(r,a,l);break;case 1:Rt||(rr(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&DE(l,a,c)),Wr(r,a,l);break;case 21:Wr(r,a,l);break;case 22:Rt=(c=Rt)||l.memoizedState!==null,Wr(r,a,l),Rt=c;break;default:Wr(r,a,l)}}function UE(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ih(r)}catch(l){ut(a,a.return,l)}}function Dk(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new ME),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new ME),a;default:throw Error(i(435,r.tag))}}function wy(r,a){var l=Dk(r);a.forEach(function(c){var p=zk.bind(null,r,c);l.has(c)||(l.add(c),c.then(p,p))})}function Hn(r,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],v=r,w=a,D=w;e:for(;D!==null;){switch(D.tag){case 27:if(Fs(D.type)){pt=D.stateNode,On=!1;break e}break;case 5:pt=D.stateNode,On=!1;break e;case 3:case 4:pt=D.stateNode.containerInfo,On=!0;break e}D=D.return}if(pt===null)throw Error(i(160));LE(v,w,p),pt=null,On=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)zE(a,r),a=a.sibling}var Ni=null;function zE(r,a){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Hn(a,r),Gn(r),c&4&&(Os(3,r,r.return),Uc(3,r),Os(5,r,r.return));break;case 1:Hn(a,r),Gn(r),c&512&&(Rt||l===null||rr(l,l.return)),c&64&&Xr&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=Ni;if(Hn(a,r),Gn(r),c&512&&(Rt||l===null||rr(l,l.return)),c&4){var v=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":v=p.getElementsByTagName("title")[0],(!v||v[Ua]||v[Vt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(c),p.head.insertBefore(v,p.querySelector("head > title"))),rn(v,c,l),v[Vt]=r,St(v),c=v;break e;case"link":var w=Ow("link","href",p).get(c+(l.href||""));if(w){for(var D=0;D<w.length;D++)if(v=w[D],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(D,1);break t}}v=p.createElement(c),rn(v,c,l),p.head.appendChild(v);break;case"meta":if(w=Ow("meta","content",p).get(c+(l.content||""))){for(D=0;D<w.length;D++)if(v=w[D],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(D,1);break t}}v=p.createElement(c),rn(v,c,l),p.head.appendChild(v);break;default:throw Error(i(468,c))}v[Vt]=r,St(v),c=v}r.stateNode=c}else Mw(p,r.type,r.stateNode);else r.stateNode=kw(p,c,r.memoizedProps);else v!==c?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,c===null?Mw(p,r.type,r.stateNode):kw(p,c,r.memoizedProps)):c===null&&r.stateNode!==null&&by(r,r.memoizedProps,l.memoizedProps)}break;case 27:Hn(a,r),Gn(r),c&512&&(Rt||l===null||rr(l,l.return)),l!==null&&c&4&&by(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Hn(a,r),Gn(r),c&512&&(Rt||l===null||rr(l,l.return)),r.flags&32){p=r.stateNode;try{ai(p,"")}catch(ee){ut(r,r.return,ee)}}c&4&&r.stateNode!=null&&(p=r.memoizedProps,by(r,p,l!==null?l.memoizedProps:p)),c&1024&&(Ey=!0);break;case 6:if(Hn(a,r),Gn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(ee){ut(r,r.return,ee)}}break;case 3:if(Kd=null,p=Ni,Ni=Hd(a.containerInfo),Hn(a,r),Ni=p,Gn(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{ih(a.containerInfo)}catch(ee){ut(r,r.return,ee)}Ey&&(Ey=!1,BE(r));break;case 4:c=Ni,Ni=Hd(r.stateNode.containerInfo),Hn(a,r),Gn(r),Ni=c;break;case 12:Hn(a,r),Gn(r);break;case 13:Hn(a,r),Gn(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ny=ri()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,wy(r,c)));break;case 22:p=r.memoizedState!==null;var B=l!==null&&l.memoizedState!==null,W=Xr,ie=Rt;if(Xr=W||p,Rt=ie||B,Hn(a,r),Rt=ie,Xr=W,Gn(r),c&8192)e:for(a=r.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||B||Xr||Rt||ho(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){B=l=a;try{if(v=B.stateNode,p)w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{D=B.stateNode;var oe=B.memoizedProps.style,J=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;D.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ee){ut(B,B.return,ee)}}}else if(a.tag===6){if(l===null){B=a;try{B.stateNode.nodeValue=p?"":B.memoizedProps}catch(ee){ut(B,B.return,ee)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,wy(r,l))));break;case 19:Hn(a,r),Gn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,wy(r,c)));break;case 30:break;case 21:break;default:Hn(a,r),Gn(r)}}function Gn(r){var a=r.flags;if(a&2){try{for(var l,c=r.return;c!==null;){if(kE(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,v=Ty(r);Dd(r,v,p);break;case 5:var w=l.stateNode;l.flags&32&&(ai(w,""),l.flags&=-33);var D=Ty(r);Dd(r,D,w);break;case 3:case 4:var B=l.stateNode.containerInfo,W=Ty(r);xy(r,W,B);break;default:throw Error(i(161))}}catch(ie){ut(r,r.return,ie)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function BE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;BE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Ms(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)jE(r,a.alternate,a),a=a.sibling}function ho(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Os(4,a,a.return),ho(a);break;case 1:rr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&DE(a,a.return,l),ho(a);break;case 27:Yc(a.stateNode);case 26:case 5:rr(a,a.return),ho(a);break;case 22:a.memoizedState===null&&ho(a);break;case 30:ho(a);break;default:ho(a)}r=r.sibling}}function js(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=r,v=a,w=v.flags;switch(v.tag){case 0:case 11:case 15:js(p,v,l),Uc(4,v);break;case 1:if(js(p,v,l),c=v,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){ut(c,c.return,W)}if(c=v,p=c.updateQueue,p!==null){var D=c.stateNode;try{var B=p.shared.hiddenCallbacks;if(B!==null)for(p.shared.hiddenCallbacks=null,p=0;p<B.length;p++)gx(B[p],D)}catch(W){ut(c,c.return,W)}}l&&w&64&&NE(v),zc(v,v.return);break;case 27:OE(v);case 26:case 5:js(p,v,l),l&&c===null&&w&4&&PE(v),zc(v,v.return);break;case 12:js(p,v,l);break;case 13:js(p,v,l),l&&w&4&&UE(p,v);break;case 22:v.memoizedState===null&&js(p,v,l),zc(v,v.return);break;case 30:break;default:js(p,v,l)}a=a.sibling}}function Sy(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Sc(l))}function Ay(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Sc(r))}function sr(r,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)FE(r,a,l,c),a=a.sibling}function FE(r,a,l,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:sr(r,a,l,c),p&2048&&Uc(9,a);break;case 1:sr(r,a,l,c);break;case 3:sr(r,a,l,c),p&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Sc(r)));break;case 12:if(p&2048){sr(r,a,l,c),r=a.stateNode;try{var v=a.memoizedProps,w=v.id,D=v.onPostCommit;typeof D=="function"&&D(w,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(B){ut(a,a.return,B)}}else sr(r,a,l,c);break;case 13:sr(r,a,l,c);break;case 23:break;case 22:v=a.stateNode,w=a.alternate,a.memoizedState!==null?v._visibility&2?sr(r,a,l,c):Bc(r,a):v._visibility&2?sr(r,a,l,c):(v._visibility|=2,Rl(r,a,l,c,(a.subtreeFlags&10256)!==0)),p&2048&&Sy(w,a);break;case 24:sr(r,a,l,c),p&2048&&Ay(a.alternate,a);break;default:sr(r,a,l,c)}}function Rl(r,a,l,c,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var v=r,w=a,D=l,B=c,W=w.flags;switch(w.tag){case 0:case 11:case 15:Rl(v,w,D,B,p),Uc(8,w);break;case 23:break;case 22:var ie=w.stateNode;w.memoizedState!==null?ie._visibility&2?Rl(v,w,D,B,p):Bc(v,w):(ie._visibility|=2,Rl(v,w,D,B,p)),p&&W&2048&&Sy(w.alternate,w);break;case 24:Rl(v,w,D,B,p),p&&W&2048&&Ay(w.alternate,w);break;default:Rl(v,w,D,B,p)}a=a.sibling}}function Bc(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,c=a,p=c.flags;switch(c.tag){case 22:Bc(l,c),p&2048&&Sy(c.alternate,c);break;case 24:Bc(l,c),p&2048&&Ay(c.alternate,c);break;default:Bc(l,c)}a=a.sibling}}var Fc=8192;function Cl(r){if(r.subtreeFlags&Fc)for(r=r.child;r!==null;)qE(r),r=r.sibling}function qE(r){switch(r.tag){case 26:Cl(r),r.flags&Fc&&r.memoizedState!==null&&gO(Ni,r.memoizedState,r.memoizedProps);break;case 5:Cl(r);break;case 3:case 4:var a=Ni;Ni=Hd(r.stateNode.containerInfo),Cl(r),Ni=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Fc,Fc=16777216,Cl(r),Fc=a):Cl(r));break;default:Cl(r)}}function HE(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function qc(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Yt=c,KE(c,r)}HE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)GE(r),r=r.sibling}function GE(r){switch(r.tag){case 0:case 11:case 15:qc(r),r.flags&2048&&Os(9,r,r.return);break;case 3:qc(r);break;case 12:qc(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Pd(r)):qc(r);break;default:qc(r)}}function Pd(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Yt=c,KE(c,r)}HE(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Os(8,a,a.return),Pd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Pd(a));break;default:Pd(a)}r=r.sibling}}function KE(r,a){for(;Yt!==null;){var l=Yt;switch(l.tag){case 0:case 11:case 15:Os(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Sc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Yt=c;else e:for(l=r;Yt!==null;){c=Yt;var p=c.sibling,v=c.return;if(VE(c),c===l){Yt=null;break e}if(p!==null){p.return=v,Yt=p;break e}Yt=v}}}var Pk={getCacheForType:function(r){var a=mn(zt),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l}},kk=typeof WeakMap=="function"?WeakMap:Map,nt=0,ct=null,Ue=null,$e=0,it=0,Kn=null,Vs=!1,Il=!1,Ry=!1,Jr=0,xt=0,Ls=0,fo=0,Cy=0,pi=0,Nl=0,Hc=null,Mn=null,Iy=!1,Ny=0,kd=1/0,Od=null,Us=null,nn=0,zs=null,Dl=null,Pl=0,Dy=0,Py=null,$E=null,Gc=0,ky=null;function $n(){if((nt&2)!==0&&$e!==0)return $e&-$e;if(Z.T!==null){var r=_l;return r!==0?r:zy()}return Ts()}function QE(){pi===0&&(pi=($e&536870912)===0||Xe?ec():536870912);var r=mi.current;return r!==null&&(r.flags|=32),pi}function Qn(r,a,l){(r===ct&&(it===2||it===9)||r.cancelPendingCommit!==null)&&(kl(r,0),Bs(r,$e,pi,!1)),Nr(r,l),((nt&2)===0||r!==ct)&&(r===ct&&((nt&2)===0&&(fo|=l),xt===4&&Bs(r,$e,pi,!1)),ar(r))}function YE(r,a,l){if((nt&6)!==0)throw Error(i(327));var c=!l&&(a&124)===0&&(a&r.expiredLanes)===0||La(r,a),p=c?jk(r,a):jy(r,a,!0),v=c;do{if(p===0){Il&&!c&&Bs(r,a,0,!1);break}else{if(l=r.current.alternate,v&&!Ok(l)){p=jy(r,a,!1),v=!1;continue}if(p===2){if(v=a,r.errorRecoveryDisabledLanes&v)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var D=r;p=Hc;var B=D.current.memoizedState.isDehydrated;if(B&&(kl(D,w).flags|=256),w=jy(D,w,!1),w!==2){if(Ry&&!B){D.errorRecoveryDisabledLanes|=v,fo|=v,p=4;break e}v=Mn,Mn=p,v!==null&&(Mn===null?Mn=v:Mn.push.apply(Mn,v))}p=w}if(v=!1,p!==2)continue}}if(p===1){kl(r,0),Bs(r,a,0,!0);break}e:{switch(c=r,v=p,v){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Bs(c,a,pi,!Vs);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=Ny+300-ri(),10<p)){if(Bs(c,a,pi,!Vs),Xo(c,0,!0)!==0)break e;c.timeoutHandle=ww(XE.bind(null,c,l,Mn,Od,Iy,a,pi,fo,Nl,Vs,v,2,-0,0),p);break e}XE(c,l,Mn,Od,Iy,a,pi,fo,Nl,Vs,v,0,-0,0)}}break}while(!0);ar(r)}function XE(r,a,l,c,p,v,w,D,B,W,ie,oe,J,ee){if(r.timeoutHandle=-1,oe=a.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Jc={stylesheets:null,count:0,unsuspend:pO},qE(a),oe=yO(),oe!==null)){r.cancelPendingCommit=oe(iw.bind(null,r,a,v,l,c,p,w,D,B,ie,1,J,ee)),Bs(r,v,w,!W);return}iw(r,a,v,l,c,p,w,D,B)}function Ok(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],v=p.getSnapshot;p=p.value;try{if(!Fn(v(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Bs(r,a,l,c){a&=~Cy,a&=~fo,r.suspendedLanes|=a,r.pingedLanes&=~a,c&&(r.warmLanes|=a),c=r.expirationTimes;for(var p=a;0<p;){var v=31-dn(p),w=1<<v;c[v]=-1,p&=~w}l!==0&&Gi(r,l,a)}function Md(){return(nt&6)===0?(Kc(0),!1):!0}function Oy(){if(Ue!==null){if(it===0)var r=Ue.return;else r=Ue,Hr=ao=null,Wg(r),Sl=null,jc=0,r=Ue;for(;r!==null;)IE(r.alternate,r),r=r.return;Ue=null}}function kl(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,Jk(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Oy(),ct=r,Ue=l=Br(r.current,null),$e=a,it=0,Kn=null,Vs=!1,Il=La(r,a),Ry=!1,Nl=pi=Cy=fo=Ls=xt=0,Mn=Hc=null,Iy=!1,(a&8)!==0&&(a|=a&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=a;0<c;){var p=31-dn(c),v=1<<p;a|=r[p],c&=~v}return Jr=a,id(),l}function WE(r,a){je=null,Z.H=xd,a===Rc||a===fd?(a=mx(),it=3):a===hx?(a=mx(),it=4):it=a===pE?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Kn=a,Ue===null&&(xt=1,Rd(r,ci(a,r.current)))}function JE(){var r=Z.H;return Z.H=xd,r===null?xd:r}function ZE(){var r=Z.A;return Z.A=Pk,r}function My(){xt=4,Vs||($e&4194048)!==$e&&mi.current!==null||(Il=!0),(Ls&134217727)===0&&(fo&134217727)===0||ct===null||Bs(ct,$e,pi,!1)}function jy(r,a,l){var c=nt;nt|=2;var p=JE(),v=ZE();(ct!==r||$e!==a)&&(Od=null,kl(r,a)),a=!1;var w=xt;e:do try{if(it!==0&&Ue!==null){var D=Ue,B=Kn;switch(it){case 8:Oy(),w=6;break e;case 3:case 2:case 9:case 6:mi.current===null&&(a=!0);var W=it;if(it=0,Kn=null,Ol(r,D,B,W),l&&Il){w=0;break e}break;default:W=it,it=0,Kn=null,Ol(r,D,B,W)}}Mk(),w=xt;break}catch(ie){WE(r,ie)}while(!0);return a&&r.shellSuspendCounter++,Hr=ao=null,nt=c,Z.H=p,Z.A=v,Ue===null&&(ct=null,$e=0,id()),w}function Mk(){for(;Ue!==null;)ew(Ue)}function jk(r,a){var l=nt;nt|=2;var c=JE(),p=ZE();ct!==r||$e!==a?(Od=null,kd=ri()+500,kl(r,a)):Il=La(r,a);e:do try{if(it!==0&&Ue!==null){a=Ue;var v=Kn;t:switch(it){case 1:it=0,Kn=null,Ol(r,a,v,1);break;case 2:case 9:if(fx(v)){it=0,Kn=null,tw(a);break}a=function(){it!==2&&it!==9||ct!==r||(it=7),ar(r)},v.then(a,a);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:fx(v)?(it=0,Kn=null,tw(a)):(it=0,Kn=null,Ol(r,a,v,7));break;case 5:var w=null;switch(Ue.tag){case 26:w=Ue.memoizedState;case 5:case 27:var D=Ue;if(!w||jw(w)){it=0,Kn=null;var B=D.sibling;if(B!==null)Ue=B;else{var W=D.return;W!==null?(Ue=W,jd(W)):Ue=null}break t}}it=0,Kn=null,Ol(r,a,v,5);break;case 6:it=0,Kn=null,Ol(r,a,v,6);break;case 8:Oy(),xt=6;break e;default:throw Error(i(462))}}Vk();break}catch(ie){WE(r,ie)}while(!0);return Hr=ao=null,Z.H=c,Z.A=p,nt=l,Ue!==null?0:(ct=null,$e=0,id(),xt)}function Vk(){for(;Ue!==null&&!Xu();)ew(Ue)}function ew(r){var a=RE(r.alternate,r,Jr);r.memoizedProps=r.pendingProps,a===null?jd(r):Ue=a}function tw(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=TE(l,a,a.pendingProps,a.type,void 0,$e);break;case 11:a=TE(l,a,a.pendingProps,a.type.render,a.ref,$e);break;case 5:Wg(a);default:IE(l,a),a=Ue=nx(a,Jr),a=RE(l,a,Jr)}r.memoizedProps=r.pendingProps,a===null?jd(r):Ue=a}function Ol(r,a,l,c){Hr=ao=null,Wg(a),Sl=null,jc=0;var p=a.return;try{if(Ak(r,p,a,l,$e)){xt=1,Rd(r,ci(l,r.current)),Ue=null;return}}catch(v){if(p!==null)throw Ue=p,v;xt=1,Rd(r,ci(l,r.current)),Ue=null;return}a.flags&32768?(Xe||c===1?r=!0:Il||($e&536870912)!==0?r=!1:(Vs=r=!0,(c===2||c===9||c===3||c===6)&&(c=mi.current,c!==null&&c.tag===13&&(c.flags|=16384))),nw(a,r)):jd(a)}function jd(r){var a=r;do{if((a.flags&32768)!==0){nw(a,Vs);return}r=a.return;var l=Ck(a.alternate,a,Jr);if(l!==null){Ue=l;return}if(a=a.sibling,a!==null){Ue=a;return}Ue=a=r}while(a!==null);xt===0&&(xt=5)}function nw(r,a){do{var l=Ik(r.alternate,r);if(l!==null){l.flags&=32767,Ue=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){Ue=r;return}Ue=r=l}while(r!==null);xt=6,Ue=null}function iw(r,a,l,c,p,v,w,D,B){r.cancelPendingCommit=null;do Vd();while(nn!==0);if((nt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(v=a.lanes|a.childLanes,v|=Ag,nc(r,l,v,w,D,B),r===ct&&(Ue=ct=null,$e=0),Dl=a,zs=r,Pl=l,Dy=v,Py=p,$E=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Bk(Oa,function(){return lw(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,p=te.p,te.p=2,w=nt,nt|=4;try{Nk(r,a,l)}finally{nt=w,te.p=p,Z.T=c}}nn=1,rw(),sw(),aw()}}function rw(){if(nn===1){nn=0;var r=zs,a=Dl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null;var c=te.p;te.p=2;var p=nt;nt|=4;try{zE(a,r);var v=Qy,w=KT(r.containerInfo),D=v.focusedElem,B=v.selectionRange;if(w!==D&&D&&D.ownerDocument&&GT(D.ownerDocument.documentElement,D)){if(B!==null&&Tg(D)){var W=B.start,ie=B.end;if(ie===void 0&&(ie=W),"selectionStart"in D)D.selectionStart=W,D.selectionEnd=Math.min(ie,D.value.length);else{var oe=D.ownerDocument||document,J=oe&&oe.defaultView||window;if(J.getSelection){var ee=J.getSelection(),Ce=D.textContent.length,xe=Math.min(B.start,Ce),ot=B.end===void 0?xe:Math.min(B.end,Ce);!ee.extend&&xe>ot&&(w=ot,ot=xe,xe=w);var Q=HT(D,xe),G=HT(D,ot);if(Q&&G&&(ee.rangeCount!==1||ee.anchorNode!==Q.node||ee.anchorOffset!==Q.offset||ee.focusNode!==G.node||ee.focusOffset!==G.offset)){var X=oe.createRange();X.setStart(Q.node,Q.offset),ee.removeAllRanges(),xe>ot?(ee.addRange(X),ee.extend(G.node,G.offset)):(X.setEnd(G.node,G.offset),ee.addRange(X))}}}}for(oe=[],ee=D;ee=ee.parentNode;)ee.nodeType===1&&oe.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<oe.length;D++){var se=oe[D];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Yd=!!$y,Qy=$y=null}finally{nt=p,te.p=c,Z.T=l}}r.current=a,nn=2}}function sw(){if(nn===2){nn=0;var r=zs,a=Dl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Z.T,Z.T=null;var c=te.p;te.p=2;var p=nt;nt|=4;try{jE(r,a.alternate,a)}finally{nt=p,te.p=c,Z.T=l}}nn=3}}function aw(){if(nn===4||nn===3){nn=0,Pf();var r=zs,a=Dl,l=Pl,c=$E;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?nn=5:(nn=0,Dl=zs=null,ow(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(Us=null),Wo(l),a=a.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(bt,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=Z.T,p=te.p,te.p=2,Z.T=null;try{for(var v=r.onRecoverableError,w=0;w<c.length;w++){var D=c[w];v(D.value,{componentStack:D.stack})}}finally{Z.T=a,te.p=p}}(Pl&3)!==0&&Vd(),ar(r),p=r.pendingLanes,(l&4194090)!==0&&(p&42)!==0?r===ky?Gc++:(Gc=0,ky=r):Gc=0,Kc(0)}}function ow(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Sc(a)))}function Vd(r){return rw(),sw(),aw(),lw()}function lw(){if(nn!==5)return!1;var r=zs,a=Dy;Dy=0;var l=Wo(Pl),c=Z.T,p=te.p;try{te.p=32>l?32:l,Z.T=null,l=Py,Py=null;var v=zs,w=Pl;if(nn=0,Dl=zs=null,Pl=0,(nt&6)!==0)throw Error(i(331));var D=nt;if(nt|=4,GE(v.current),FE(v,v.current,w,l),nt=D,Kc(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(bt,v)}catch{}return!0}finally{te.p=p,Z.T=c,ow(r,a)}}function uw(r,a,l){a=ci(l,a),a=hy(r.stateNode,a,2),r=Ns(r,a,2),r!==null&&(Nr(r,2),ar(r))}function ut(r,a,l){if(r.tag===3)uw(r,r,l);else for(;a!==null;){if(a.tag===3){uw(a,r,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Us===null||!Us.has(c))){r=ci(l,r),l=dE(2),c=Ns(a,l,2),c!==null&&(mE(l,c,a,r),Nr(c,2),ar(c));break}}a=a.return}}function Vy(r,a,l){var c=r.pingCache;if(c===null){c=r.pingCache=new kk;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(l)||(Ry=!0,p.add(l),r=Lk.bind(null,r,a,l),a.then(r,r))}function Lk(r,a,l){var c=r.pingCache;c!==null&&c.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,ct===r&&($e&l)===l&&(xt===4||xt===3&&($e&62914560)===$e&&300>ri()-Ny?(nt&2)===0&&kl(r,0):Cy|=l,Nl===$e&&(Nl=0)),ar(r)}function cw(r,a){a===0&&(a=tc()),r=pl(r,a),r!==null&&(Nr(r,a),ar(r))}function Uk(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),cw(r,l)}function zk(r,a){var l=0;switch(r.tag){case 13:var c=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),cw(r,l)}function Bk(r,a){return Pa(r,a)}var Ld=null,Ml=null,Ly=!1,Ud=!1,Uy=!1,mo=0;function ar(r){r!==Ml&&r.next===null&&(Ml===null?Ld=Ml=r:Ml=Ml.next=r),Ud=!0,Ly||(Ly=!0,qk())}function Kc(r,a){if(!Uy&&Ud){Uy=!0;do for(var l=!1,c=Ld;c!==null;){if(r!==0){var p=c.pendingLanes;if(p===0)var v=0;else{var w=c.suspendedLanes,D=c.pingedLanes;v=(1<<31-dn(42|r)+1)-1,v&=p&~(w&~D),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,mw(c,v))}else v=$e,v=Xo(c,c===ct?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||La(c,v)||(l=!0,mw(c,v));c=c.next}while(l);Uy=!1}}function Fk(){hw()}function hw(){Ud=Ly=!1;var r=0;mo!==0&&(Wk()&&(r=mo),mo=0);for(var a=ri(),l=null,c=Ld;c!==null;){var p=c.next,v=fw(c,a);v===0?(c.next=null,l===null?Ld=p:l.next=p,p===null&&(Ml=l)):(l=c,(r!==0||(v&3)!==0)&&(Ud=!0)),c=p}Kc(r)}function fw(r,a){for(var l=r.suspendedLanes,c=r.pingedLanes,p=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var w=31-dn(v),D=1<<w,B=p[w];B===-1?((D&l)===0||(D&c)!==0)&&(p[w]=Zu(D,a)):B<=a&&(r.expiredLanes|=D),v&=~D}if(a=ct,l=$e,l=Xo(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===a&&(it===2||it===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&ka(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||La(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(c!==null&&ka(c),Wo(l)){case 2:case 8:l=Qo;break;case 32:l=Oa;break;case 268435456:l=Yo;break;default:l=Oa}return c=dw.bind(null,r),l=Pa(l,c),r.callbackPriority=a,r.callbackNode=l,a}return c!==null&&c!==null&&ka(c),r.callbackPriority=2,r.callbackNode=null,2}function dw(r,a){if(nn!==0&&nn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Vd()&&r.callbackNode!==l)return null;var c=$e;return c=Xo(r,r===ct?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(YE(r,c,a),fw(r,ri()),r.callbackNode!=null&&r.callbackNode===l?dw.bind(null,r):null)}function mw(r,a){if(Vd())return null;YE(r,a,!0)}function qk(){Zk(function(){(nt&6)!==0?Pa(Wu,Fk):hw()})}function zy(){return mo===0&&(mo=ec()),mo}function pw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:il(""+r)}function gw(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function Hk(r,a,l,c,p){if(a==="submit"&&l&&l.stateNode===p){var v=pw((p[Nt]||null).action),w=c.submitter;w&&(a=(a=w[Nt]||null)?pw(a.formAction):w.getAttribute("formAction"),a!==null&&(v=a,w=null));var D=new rl("action","action",null,c,p);r.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(mo!==0){var B=w?gw(p,w):new FormData(p);ay(l,{pending:!0,data:B,method:p.method,action:v},null,B)}}else typeof v=="function"&&(D.preventDefault(),B=w?gw(p,w):new FormData(p),ay(l,{pending:!0,data:B,method:p.method,action:v},v,B))},currentTarget:p}]})}}for(var By=0;By<Sg.length;By++){var Fy=Sg[By],Gk=Fy.toLowerCase(),Kk=Fy[0].toUpperCase()+Fy.slice(1);Ii(Gk,"on"+Kk)}Ii(YT,"onAnimationEnd"),Ii(XT,"onAnimationIteration"),Ii(WT,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(uk,"onTransitionRun"),Ii(ck,"onTransitionStart"),Ii(hk,"onTransitionCancel"),Ii(JT,"onTransitionEnd"),Pr("onMouseEnter",["mouseout","mouseover"]),Pr("onMouseLeave",["mouseout","mouseover"]),Pr("onPointerEnter",["pointerout","pointerover"]),Pr("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$k=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($c));function yw(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],p=c.event;c=c.listeners;e:{var v=void 0;if(a)for(var w=c.length-1;0<=w;w--){var D=c[w],B=D.instance,W=D.currentTarget;if(D=D.listener,B!==v&&p.isPropagationStopped())break e;v=D,p.currentTarget=W;try{v(p)}catch(ie){Ad(ie)}p.currentTarget=null,v=B}else for(w=0;w<c.length;w++){if(D=c[w],B=D.instance,W=D.currentTarget,D=D.listener,B!==v&&p.isPropagationStopped())break e;v=D,p.currentTarget=W;try{v(p)}catch(ie){Ad(ie)}p.currentTarget=null,v=B}}}}function ze(r,a){var l=a[rc];l===void 0&&(l=a[rc]=new Set);var c=r+"__bubble";l.has(c)||(vw(a,r,2,!1),l.add(c))}function qy(r,a,l){var c=0;a&&(c|=4),vw(l,r,c,a)}var zd="_reactListening"+Math.random().toString(36).slice(2);function Hy(r){if(!r[zd]){r[zd]=!0,sc.forEach(function(l){l!=="selectionchange"&&($k.has(l)||qy(l,!1,r),qy(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[zd]||(a[zd]=!0,qy("selectionchange",!1,a))}}function vw(r,a,l,c){switch(Fw(a)){case 2:var p=bO;break;case 8:p=TO;break;default:p=rv}l=p.bind(null,a,l,r),p=void 0,!li||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?r.addEventListener(a,l,{capture:!0,passive:p}):r.addEventListener(a,l,!0):p!==void 0?r.addEventListener(a,l,{passive:p}):r.addEventListener(a,l,!1)}function Gy(r,a,l,c,p){var v=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var D=c.stateNode.containerInfo;if(D===p)break;if(w===4)for(w=c.return;w!==null;){var B=w.tag;if((B===3||B===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;D!==null;){if(w=Dr(D),w===null)return;if(B=w.tag,B===5||B===6||B===26||B===27){c=v=w;continue e}D=D.parentNode}}c=c.return}Ff(function(){var W=v,ie=oi(l),oe=[];e:{var J=ZT.get(r);if(J!==void 0){var ee=rl,Ce=r;switch(r){case"keypress":if(Wi(l)===0)break e;case"keydown":case"keyup":ee=cl;break;case"focusin":Ce="focus",ee=ol;break;case"focusout":Ce="blur",ee=ol;break;case"beforeblur":case"afterblur":ee=ol;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=ui;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=yg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Xf;break;case YT:case XT:case WT:ee=ll;break;case JT:ee=Jf;break;case"scroll":case"scrollend":ee=qf;break;case"wheel":ee=hl;break;case"copy":case"cut":case"paste":ee=ul;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=yc;break;case"toggle":case"beforetoggle":ee=ed}var xe=(a&4)!==0,ot=!xe&&(r==="scroll"||r==="scrollend"),Q=xe?J!==null?J+"Capture":null:J;xe=[];for(var G=W,X;G!==null;){var se=G;if(X=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||X===null||Q===null||(se=Ka(G,Q),se!=null&&xe.push(Qc(G,se,X))),ot)break;G=G.return}0<xe.length&&(J=new ee(J,Ce,null,l,ie),oe.push({event:J,listeners:xe}))}}if((a&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",ee=r==="mouseout"||r==="pointerout",J&&l!==Mr&&(Ce=l.relatedTarget||l.fromElement)&&(Dr(Ce)||Ce[si]))break e;if((ee||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(Ce=l.relatedTarget||l.toElement,ee=W,Ce=Ce?Dr(Ce):null,Ce!==null&&(ot=o(Ce),xe=Ce.tag,Ce!==ot||xe!==5&&xe!==27&&xe!==6)&&(Ce=null)):(ee=null,Ce=W),ee!==Ce)){if(xe=ui,se="onMouseLeave",Q="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(xe=yc,se="onPointerLeave",Q="onPointerEnter",G="pointer"),ot=ee==null?J:$i(ee),X=Ce==null?J:$i(Ce),J=new xe(se,G+"leave",ee,l,ie),J.target=ot,J.relatedTarget=X,se=null,Dr(ie)===W&&(xe=new xe(Q,G+"enter",Ce,l,ie),xe.target=X,xe.relatedTarget=ot,se=xe),ot=se,ee&&Ce)t:{for(xe=ee,Q=Ce,G=0,X=xe;X;X=jl(X))G++;for(X=0,se=Q;se;se=jl(se))X++;for(;0<G-X;)xe=jl(xe),G--;for(;0<X-G;)Q=jl(Q),X--;for(;G--;){if(xe===Q||Q!==null&&xe===Q.alternate)break t;xe=jl(xe),Q=jl(Q)}xe=null}else xe=null;ee!==null&&_w(oe,J,ee,xe,!1),Ce!==null&&ot!==null&&_w(oe,ot,Ce,xe,!0)}}e:{if(J=W?$i(W):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var ye=LT;else if(Ut(J))if(UT)ye=ak;else{ye=rk;var Le=ik}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?W&&cc(W.elementType)&&(ye=LT):ye=sk;if(ye&&(ye=ye(r,W))){zr(oe,ye,l,ie);break e}Le&&Le(r,J,W),r==="focusout"&&W&&J.type==="number"&&W.memoizedProps.value!=null&&Ss(J,"number",J.value)}switch(Le=W?$i(W):window,r){case"focusin":(Ut(Le)||Le.contentEditable==="true")&&(fl=Le,xg=W,bc=null);break;case"focusout":bc=xg=fl=null;break;case"mousedown":Eg=!0;break;case"contextmenu":case"mouseup":case"dragend":Eg=!1,$T(oe,l,ie);break;case"selectionchange":if(lk)break;case"keydown":case"keyup":$T(oe,l,ie)}var be;if(er)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ge?ne(r,l)&&(Ee="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(E&&l.locale!=="ko"&&(Ge||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ge&&(be=fc()):(Xi=ie,As="value"in Xi?Xi.value:Xi.textContent,Ge=!0)),Le=Bd(W,Ee),0<Le.length&&(Ee=new pc(Ee,r,null,l,ie),oe.push({event:Ee,listeners:Le}),be?Ee.data=be:(be=de(l),be!==null&&(Ee.data=be)))),(be=b?Lt(r,l):Ke(r,l))&&(Ee=Bd(W,"onBeforeInput"),0<Ee.length&&(Le=new pc("onBeforeInput","beforeinput",null,l,ie),oe.push({event:Le,listeners:Ee}),Le.data=be)),Hk(oe,r,W,l,ie)}yw(oe,a)})}function Qc(r,a,l){return{instance:r,listener:a,currentTarget:l}}function Bd(r,a){for(var l=a+"Capture",c=[];r!==null;){var p=r,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Ka(r,l),p!=null&&c.unshift(Qc(r,p,v)),p=Ka(r,a),p!=null&&c.push(Qc(r,p,v))),r.tag===3)return c;r=r.return}return[]}function jl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function _w(r,a,l,c,p){for(var v=a._reactName,w=[];l!==null&&l!==c;){var D=l,B=D.alternate,W=D.stateNode;if(D=D.tag,B!==null&&B===c)break;D!==5&&D!==26&&D!==27||W===null||(B=W,p?(W=Ka(l,v),W!=null&&w.unshift(Qc(l,W,B))):p||(W=Ka(l,v),W!=null&&w.push(Qc(l,W,B)))),l=l.return}w.length!==0&&r.push({event:a,listeners:w})}var Qk=/\r\n?/g,Yk=/\u0000|\uFFFD/g;function bw(r){return(typeof r=="string"?r:""+r).replace(Qk,`
`).replace(Yk,"")}function Tw(r,a){return a=bw(a),bw(r)===a}function Fd(){}function at(r,a,l,c,p,v){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||ai(r,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&ai(r,""+c);break;case"className":Qi(r,"class",c);break;case"tabIndex":Qi(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Qi(r,l,c);break;case"style":uc(r,c,v);break;case"data":if(a!=="object"){Qi(r,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=il(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(a!=="input"&&at(r,a,"name",p.name,p,null),at(r,a,"formEncType",p.formEncType,p,null),at(r,a,"formMethod",p.formMethod,p,null),at(r,a,"formTarget",p.formTarget,p,null)):(at(r,a,"encType",p.encType,p,null),at(r,a,"method",p.method,p,null),at(r,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=il(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=Fd);break;case"onScroll":c!=null&&ze("scroll",r);break;case"onScrollEnd":c!=null&&ze("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=il(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":ze("beforetoggle",r),ze("toggle",r),ws(r,"popover",c);break;case"xlinkActuate":Zt(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Zt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Zt(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Zt(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Zt(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Zt(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Zt(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Zt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Zt(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ws(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=pg.get(l)||l,ws(r,l,c))}}function Ky(r,a,l,c,p,v){switch(l){case"style":uc(r,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof c=="string"?ai(r,c):(typeof c=="number"||typeof c=="bigint")&&ai(r,""+c);break;case"onScroll":c!=null&&ze("scroll",r);break;case"onScrollEnd":c!=null&&ze("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Fd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),v=r[Nt]||null,v=v!=null?v[l]:null,typeof v=="function"&&r.removeEventListener(a,v,p),typeof c=="function")){typeof v!="function"&&v!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,c,p);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):ws(r,l,c)}}}function rn(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",r),ze("load",r);var c=!1,p=!1,v;for(v in l)if(l.hasOwnProperty(v)){var w=l[v];if(w!=null)switch(v){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:at(r,a,v,w,l,null)}}p&&at(r,a,"srcSet",l.srcSet,l,null),c&&at(r,a,"src",l.src,l,null);return;case"input":ze("invalid",r);var D=v=w=p=null,B=null,W=null;for(c in l)if(l.hasOwnProperty(c)){var ie=l[c];if(ie!=null)switch(c){case"name":p=ie;break;case"type":w=ie;break;case"checked":B=ie;break;case"defaultChecked":W=ie;break;case"value":v=ie;break;case"defaultValue":D=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,a));break;default:at(r,a,c,ie,l,null)}}qa(r,v,D,B,W,w,p,!1),nl(r);return;case"select":ze("invalid",r),c=w=v=null;for(p in l)if(l.hasOwnProperty(p)&&(D=l[p],D!=null))switch(p){case"value":v=D;break;case"defaultValue":w=D;break;case"multiple":c=D;default:at(r,a,p,D,l,null)}a=v,l=w,r.multiple=!!c,a!=null?Or(r,!!c,a,!1):l!=null&&Or(r,!!c,l,!0);return;case"textarea":ze("invalid",r),v=p=c=null;for(w in l)if(l.hasOwnProperty(w)&&(D=l[w],D!=null))switch(w){case"value":c=D;break;case"defaultValue":p=D;break;case"children":v=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:at(r,a,w,D,l,null)}Ha(r,c,p,v),nl(r);return;case"option":for(B in l)if(l.hasOwnProperty(B)&&(c=l[B],c!=null))switch(B){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:at(r,a,B,c,l,null)}return;case"dialog":ze("beforetoggle",r),ze("toggle",r),ze("cancel",r),ze("close",r);break;case"iframe":case"object":ze("load",r);break;case"video":case"audio":for(c=0;c<$c.length;c++)ze($c[c],r);break;case"image":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"embed":case"source":case"link":ze("error",r),ze("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(c=l[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:at(r,a,W,c,l,null)}return;default:if(cc(a)){for(ie in l)l.hasOwnProperty(ie)&&(c=l[ie],c!==void 0&&Ky(r,a,ie,c,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(c=l[D],c!=null&&at(r,a,D,c,l,null))}function Xk(r,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,w=null,D=null,B=null,W=null,ie=null;for(ee in l){var oe=l[ee];if(l.hasOwnProperty(ee)&&oe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":B=oe;default:c.hasOwnProperty(ee)||at(r,a,ee,null,c,oe)}}for(var J in c){var ee=c[J];if(oe=l[J],c.hasOwnProperty(J)&&(ee!=null||oe!=null))switch(J){case"type":v=ee;break;case"name":p=ee;break;case"checked":W=ee;break;case"defaultChecked":ie=ee;break;case"value":w=ee;break;case"defaultValue":D=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:ee!==oe&&at(r,a,J,ee,c,oe)}}Bn(r,w,D,B,W,ie,v,p);return;case"select":ee=w=D=J=null;for(v in l)if(B=l[v],l.hasOwnProperty(v)&&B!=null)switch(v){case"value":break;case"multiple":ee=B;default:c.hasOwnProperty(v)||at(r,a,v,null,c,B)}for(p in c)if(v=c[p],B=l[p],c.hasOwnProperty(p)&&(v!=null||B!=null))switch(p){case"value":J=v;break;case"defaultValue":D=v;break;case"multiple":w=v;default:v!==B&&at(r,a,p,v,c,B)}a=D,l=w,c=ee,J!=null?Or(r,!!l,J,!1):!!c!=!!l&&(a!=null?Or(r,!!l,a,!0):Or(r,!!l,l?[]:"",!1));return;case"textarea":ee=J=null;for(D in l)if(p=l[D],l.hasOwnProperty(D)&&p!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:at(r,a,D,null,c,p)}for(w in c)if(p=c[w],v=l[w],c.hasOwnProperty(w)&&(p!=null||v!=null))switch(w){case"value":J=p;break;case"defaultValue":ee=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==v&&at(r,a,w,p,c,v)}rt(r,J,ee);return;case"option":for(var Ce in l)if(J=l[Ce],l.hasOwnProperty(Ce)&&J!=null&&!c.hasOwnProperty(Ce))switch(Ce){case"selected":r.selected=!1;break;default:at(r,a,Ce,null,c,J)}for(B in c)if(J=c[B],ee=l[B],c.hasOwnProperty(B)&&J!==ee&&(J!=null||ee!=null))switch(B){case"selected":r.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:at(r,a,B,J,c,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in l)J=l[xe],l.hasOwnProperty(xe)&&J!=null&&!c.hasOwnProperty(xe)&&at(r,a,xe,null,c,J);for(W in c)if(J=c[W],ee=l[W],c.hasOwnProperty(W)&&J!==ee&&(J!=null||ee!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:at(r,a,W,J,c,ee)}return;default:if(cc(a)){for(var ot in l)J=l[ot],l.hasOwnProperty(ot)&&J!==void 0&&!c.hasOwnProperty(ot)&&Ky(r,a,ot,void 0,c,J);for(ie in c)J=c[ie],ee=l[ie],!c.hasOwnProperty(ie)||J===ee||J===void 0&&ee===void 0||Ky(r,a,ie,J,c,ee);return}}for(var Q in l)J=l[Q],l.hasOwnProperty(Q)&&J!=null&&!c.hasOwnProperty(Q)&&at(r,a,Q,null,c,J);for(oe in c)J=c[oe],ee=l[oe],!c.hasOwnProperty(oe)||J===ee||J==null&&ee==null||at(r,a,oe,J,c,ee)}var $y=null,Qy=null;function qd(r){return r.nodeType===9?r:r.ownerDocument}function xw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ew(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Yy(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Xy=null;function Wk(){var r=window.event;return r&&r.type==="popstate"?r===Xy?!1:(Xy=r,!0):(Xy=null,!1)}var ww=typeof setTimeout=="function"?setTimeout:void 0,Jk=typeof clearTimeout=="function"?clearTimeout:void 0,Sw=typeof Promise=="function"?Promise:void 0,Zk=typeof queueMicrotask=="function"?queueMicrotask:typeof Sw<"u"?function(r){return Sw.resolve(null).then(r).catch(eO)}:ww;function eO(r){setTimeout(function(){throw r})}function Fs(r){return r==="head"}function Aw(r,a){var l=a,c=0,p=0;do{var v=l.nextSibling;if(r.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<c&&8>c){l=c;var w=r.ownerDocument;if(l&1&&Yc(w.documentElement),l&2&&Yc(w.body),l&4)for(l=w.head,Yc(l),w=l.firstChild;w;){var D=w.nextSibling,B=w.nodeName;w[Ua]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=D}}if(p===0){r.removeChild(v),ih(a);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=v}while(l);ih(a)}function Wy(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Wy(l),Es(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function tO(r,a,l,c){for(;r.nodeType===1;){var p=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Ua])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Di(r.nextSibling),r===null)break}return null}function nO(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Di(r.nextSibling),r===null))return null;return r}function Jy(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function iO(r,a){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Di(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Zy=null;function Rw(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return r;a--}else l==="/$"&&a++}r=r.previousSibling}return null}function Cw(r,a,l){switch(a=qd(l),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Yc(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Es(r)}var gi=new Map,Iw=new Set;function Hd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Zr=te.d;te.d={f:rO,r:sO,D:aO,C:oO,L:lO,m:uO,X:hO,S:cO,M:fO};function rO(){var r=Zr.f(),a=Md();return r||a}function sO(r){var a=Ki(r);a!==null&&a.tag===5&&a.type==="form"?Yx(a):Zr.r(r)}var Vl=typeof document>"u"?null:document;function Nw(r,a,l){var c=Vl;if(c&&typeof a=="string"&&a){var p=Dt(a);p='link[rel="'+r+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),Iw.has(p)||(Iw.add(p),r={rel:r,crossOrigin:l,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),rn(a,"link",r),St(a),c.head.appendChild(a)))}}function aO(r){Zr.D(r),Nw("dns-prefetch",r,null)}function oO(r,a){Zr.C(r,a),Nw("preconnect",r,a)}function lO(r,a,l){Zr.L(r,a,l);var c=Vl;if(c&&r&&a){var p='link[rel="preload"][as="'+Dt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Dt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Dt(l.imageSizes)+'"]')):p+='[href="'+Dt(r)+'"]';var v=p;switch(a){case"style":v=Ll(r);break;case"script":v=Ul(r)}gi.has(v)||(r=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),gi.set(v,r),c.querySelector(p)!==null||a==="style"&&c.querySelector(Xc(v))||a==="script"&&c.querySelector(Wc(v))||(a=c.createElement("link"),rn(a,"link",r),St(a),c.head.appendChild(a)))}}function uO(r,a){Zr.m(r,a);var l=Vl;if(l&&r){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Dt(c)+'"][href="'+Dt(r)+'"]',v=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Ul(r)}if(!gi.has(v)&&(r=g({rel:"modulepreload",href:r},a),gi.set(v,r),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Wc(v)))return}c=l.createElement("link"),rn(c,"link",r),St(c),l.head.appendChild(c)}}}function cO(r,a,l){Zr.S(r,a,l);var c=Vl;if(c&&r){var p=wn(c).hoistableStyles,v=Ll(r);a=a||"default";var w=p.get(v);if(!w){var D={loading:0,preload:null};if(w=c.querySelector(Xc(v)))D.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":a},l),(l=gi.get(v))&&ev(r,l);var B=w=c.createElement("link");St(B),rn(B,"link",r),B._p=new Promise(function(W,ie){B.onload=W,B.onerror=ie}),B.addEventListener("load",function(){D.loading|=1}),B.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Gd(w,a,c)}w={type:"stylesheet",instance:w,count:1,state:D},p.set(v,w)}}}function hO(r,a){Zr.X(r,a);var l=Vl;if(l&&r){var c=wn(l).hoistableScripts,p=Ul(r),v=c.get(p);v||(v=l.querySelector(Wc(p)),v||(r=g({src:r,async:!0},a),(a=gi.get(p))&&tv(r,a),v=l.createElement("script"),St(v),rn(v,"link",r),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(p,v))}}function fO(r,a){Zr.M(r,a);var l=Vl;if(l&&r){var c=wn(l).hoistableScripts,p=Ul(r),v=c.get(p);v||(v=l.querySelector(Wc(p)),v||(r=g({src:r,async:!0,type:"module"},a),(a=gi.get(p))&&tv(r,a),v=l.createElement("script"),St(v),rn(v,"link",r),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(p,v))}}function Dw(r,a,l,c){var p=(p=Re.current)?Hd(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Ll(l.href),l=wn(p).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=Ll(l.href);var v=wn(p).hoistableStyles,w=v.get(r);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,w),(v=p.querySelector(Xc(r)))&&!v._p&&(w.instance=v,w.state.loading=5),gi.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},gi.set(r,l),v||dO(p,r,l,w.state))),a&&c===null)throw Error(i(528,""));return w}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ul(l),l=wn(p).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ll(r){return'href="'+Dt(r)+'"'}function Xc(r){return'link[rel="stylesheet"]['+r+"]"}function Pw(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function dO(r,a,l,c){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=r.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),rn(a,"link",l),St(a),r.head.appendChild(a))}function Ul(r){return'[src="'+Dt(r)+'"]'}function Wc(r){return"script[async]"+r}function kw(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=r.querySelector('style[data-href~="'+Dt(l.href)+'"]');if(c)return a.instance=c,St(c),c;var p=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),St(c),rn(c,"style",p),Gd(c,l.precedence,r),a.instance=c;case"stylesheet":p=Ll(l.href);var v=r.querySelector(Xc(p));if(v)return a.state.loading|=4,a.instance=v,St(v),v;c=Pw(l),(p=gi.get(p))&&ev(c,p),v=(r.ownerDocument||r).createElement("link"),St(v);var w=v;return w._p=new Promise(function(D,B){w.onload=D,w.onerror=B}),rn(v,"link",c),a.state.loading|=4,Gd(v,l.precedence,r),a.instance=v;case"script":return v=Ul(l.src),(p=r.querySelector(Wc(v)))?(a.instance=p,St(p),p):(c=l,(p=gi.get(v))&&(c=g({},l),tv(c,p)),r=r.ownerDocument||r,p=r.createElement("script"),St(p),rn(p,"link",c),r.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Gd(c,l.precedence,r));return a.instance}function Gd(r,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,v=p,w=0;w<c.length;w++){var D=c[w];if(D.dataset.precedence===a)v=D;else if(v!==p)break}v?v.parentNode.insertBefore(r,v.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function ev(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function tv(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Kd=null;function Ow(r,a,l){if(Kd===null){var c=new Map,p=Kd=new Map;p.set(l,c)}else p=Kd,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),p=0;p<l.length;p++){var v=l[p];if(!(v[Ua]||v[Vt]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var w=v.getAttribute(a)||"";w=r+w;var D=c.get(w);D?D.push(v):c.set(w,[v])}}return c}function Mw(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function mO(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function jw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Jc=null;function pO(){}function gO(r,a,l){if(Jc===null)throw Error(i(475));var c=Jc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Ll(l.href),v=r.querySelector(Xc(p));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=$d.bind(c),r.then(c,c)),a.state.loading|=4,a.instance=v,St(v);return}v=r.ownerDocument||r,l=Pw(l),(p=gi.get(p))&&ev(l,p),v=v.createElement("link"),St(v);var w=v;w._p=new Promise(function(D,B){w.onload=D,w.onerror=B}),rn(v,"link",l),a.instance=v}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=$d.bind(c),r.addEventListener("load",a),r.addEventListener("error",a))}}function yO(){if(Jc===null)throw Error(i(475));var r=Jc;return r.stylesheets&&r.count===0&&nv(r,r.stylesheets),0<r.count?function(a){var l=setTimeout(function(){if(r.stylesheets&&nv(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(l)}}:null}function $d(){if(this.count--,this.count===0){if(this.stylesheets)nv(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Qd=null;function nv(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Qd=new Map,a.forEach(vO,r),Qd=null,$d.call(r))}function vO(r,a){if(!(a.state.loading&4)){var l=Qd.get(r);if(l)var c=l.get(null);else{l=new Map,Qd.set(r,l);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var w=p[v];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),c=w)}c&&l.set(null,c)}p=a.instance,w=p.getAttribute("data-precedence"),v=l.get(w)||c,v===c&&l.set(null,p),l.set(w,p),this.count++,c=$d.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),v?v.parentNode.insertBefore(p,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),a.state.loading|=4}}var Zc={$$typeof:V,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function _O(r,a,l,c,p,v,w,D){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ir(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ir(0),this.hiddenUpdates=Ir(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Vw(r,a,l,c,p,v,w,D,B,W,ie,oe){return r=new _O(r,a,l,w,D,B,W,oe),a=1,v===!0&&(a|=24),v=qn(3,null,null,a),r.current=v,v.stateNode=r,a=Vg(),a.refCount++,r.pooledCache=a,a.refCount++,v.memoizedState={element:c,isDehydrated:l,cache:a},Bg(v),r}function Lw(r){return r?(r=gl,r):gl}function Uw(r,a,l,c,p,v){p=Lw(p),c.context===null?c.context=p:c.pendingContext=p,c=Is(a),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=Ns(r,c,a),l!==null&&(Qn(l,r,a),Ic(l,r,a))}function zw(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function iv(r,a){zw(r,a),(r=r.alternate)&&zw(r,a)}function Bw(r){if(r.tag===13){var a=pl(r,67108864);a!==null&&Qn(a,r,67108864),iv(r,67108864)}}var Yd=!0;function bO(r,a,l,c){var p=Z.T;Z.T=null;var v=te.p;try{te.p=2,rv(r,a,l,c)}finally{te.p=v,Z.T=p}}function TO(r,a,l,c){var p=Z.T;Z.T=null;var v=te.p;try{te.p=8,rv(r,a,l,c)}finally{te.p=v,Z.T=p}}function rv(r,a,l,c){if(Yd){var p=sv(c);if(p===null)Gy(r,a,c,Xd,l),qw(r,c);else if(EO(p,r,a,l,c))c.stopPropagation();else if(qw(r,c),a&4&&-1<xO.indexOf(r)){for(;p!==null;){var v=Ki(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var w=Ai(v.pendingLanes);if(w!==0){var D=v;for(D.pendingLanes|=2,D.entangledLanes|=2;w;){var B=1<<31-dn(w);D.entanglements[1]|=B,w&=~B}ar(v),(nt&6)===0&&(kd=ri()+500,Kc(0))}}break;case 13:D=pl(v,2),D!==null&&Qn(D,v,2),Md(),iv(v,2)}if(v=sv(c),v===null&&Gy(r,a,c,Xd,l),v===p)break;p=v}p!==null&&c.stopPropagation()}else Gy(r,a,c,null,l)}}function sv(r){return r=oi(r),av(r)}var Xd=null;function av(r){if(Xd=null,r=Dr(r),r!==null){var a=o(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=u(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Xd=r,null}function Fw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ug()){case Wu:return 2;case Qo:return 8;case Oa:case cg:return 32;case Yo:return 268435456;default:return 32}default:return 32}}var ov=!1,qs=null,Hs=null,Gs=null,eh=new Map,th=new Map,Ks=[],xO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qw(r,a){switch(r){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":eh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":th.delete(a.pointerId)}}function nh(r,a,l,c,p,v){return r===null||r.nativeEvent!==v?(r={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[p]},a!==null&&(a=Ki(a),a!==null&&Bw(a)),r):(r.eventSystemFlags|=c,a=r.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),r)}function EO(r,a,l,c,p){switch(a){case"focusin":return qs=nh(qs,r,a,l,c,p),!0;case"dragenter":return Hs=nh(Hs,r,a,l,c,p),!0;case"mouseover":return Gs=nh(Gs,r,a,l,c,p),!0;case"pointerover":var v=p.pointerId;return eh.set(v,nh(eh.get(v)||null,r,a,l,c,p)),!0;case"gotpointercapture":return v=p.pointerId,th.set(v,nh(th.get(v)||null,r,a,l,c,p)),!0}return!1}function Hw(r){var a=Dr(r.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){r.blockedOn=a,Mf(r.priority,function(){if(l.tag===13){var c=$n();c=bs(c);var p=pl(l,c);p!==null&&Qn(p,l,c),iv(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Wd(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=sv(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);Mr=c,l.target.dispatchEvent(c),Mr=null}else return a=Ki(l),a!==null&&Bw(a),r.blockedOn=l,!1;a.shift()}return!0}function Gw(r,a,l){Wd(r)&&l.delete(a)}function wO(){ov=!1,qs!==null&&Wd(qs)&&(qs=null),Hs!==null&&Wd(Hs)&&(Hs=null),Gs!==null&&Wd(Gs)&&(Gs=null),eh.forEach(Gw),th.forEach(Gw)}function Jd(r,a){r.blockedOn===a&&(r.blockedOn=null,ov||(ov=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wO)))}var Zd=null;function Kw(r){Zd!==r&&(Zd=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Zd===r&&(Zd=null);for(var a=0;a<r.length;a+=3){var l=r[a],c=r[a+1],p=r[a+2];if(typeof c!="function"){if(av(c||l)===null)continue;break}var v=Ki(l);v!==null&&(r.splice(a,3),a-=3,ay(v,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function ih(r){function a(B){return Jd(B,r)}qs!==null&&Jd(qs,r),Hs!==null&&Jd(Hs,r),Gs!==null&&Jd(Gs,r),eh.forEach(a),th.forEach(a);for(var l=0;l<Ks.length;l++){var c=Ks[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Ks.length&&(l=Ks[0],l.blockedOn===null);)Hw(l),l.blockedOn===null&&Ks.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],v=l[c+1],w=p[Nt]||null;if(typeof v=="function")w||Kw(l);else if(w){var D=null;if(v&&v.hasAttribute("formAction")){if(p=v,w=v[Nt]||null)D=w.formAction;else if(av(p)!==null)continue}else D=w.action;typeof D=="function"?l[c+1]=D:(l.splice(c,3),c-=3),Kw(l)}}}function lv(r){this._internalRoot=r}em.prototype.render=lv.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=$n();Uw(l,c,r,a,null,null)},em.prototype.unmount=lv.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;Uw(r.current,2,null,r,null,null),Md(),a[si]=null}};function em(r){this._internalRoot=r}em.prototype.unstable_scheduleHydration=function(r){if(r){var a=Ts();r={blockedOn:null,target:r,priority:a};for(var l=0;l<Ks.length&&a!==0&&a<Ks[l].priority;l++);Ks.splice(l,0,r),l===0&&Hw(r)}};var $w=e.version;if($w!=="19.1.0")throw Error(i(527,$w,"19.1.0"));te.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=f(a),r=r!==null?d(r):null,r=r===null?null:r.stateNode,r};var SO={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tm.isDisabled&&tm.supportsFiber)try{bt=tm.inject(SO),tt=tm}catch{}}return sh.createRoot=function(r,a){if(!s(r))throw Error(i(299));var l=!1,c="",p=uE,v=cE,w=hE,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks)),a=Vw(r,1,!1,null,null,l,c,p,v,w,D,null),r[si]=a.current,Hy(r),new lv(a)},sh.hydrateRoot=function(r,a,l){if(!s(r))throw Error(i(299));var c=!1,p="",v=uE,w=cE,D=hE,B=null,W=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(B=l.unstable_transitionCallbacks),l.formState!==void 0&&(W=l.formState)),a=Vw(r,1,!0,a,l??null,c,p,v,w,D,B,W),a.context=Lw(null),l=a.current,c=$n(),c=bs(c),p=Is(c),p.callback=null,Ns(l,p,c),l=c,a.current.lanes=l,Nr(a,l),ar(a),r[si]=a.current,Hy(r),new em(a)},sh.version="19.1.0",sh}var r1;function LO(){if(r1)return fv.exports;r1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fv.exports=VO(),fv.exports}var UO=LO(),gv={exports:{}},yv={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s1;function zO(){if(s1)return yv;s1=1;var t=wp();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,s=t.useRef,o=t.useEffect,u=t.useMemo,h=t.useDebugValue;return yv.useSyncExternalStoreWithSelector=function(f,d,g,_,T){var x=s(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=u(function(){function R(A){if(!k){if(k=!0,U=A,A=_(A),T!==void 0&&S.hasValue){var q=S.value;if(T(q,A))return V=q}return V=A}if(q=V,n(U,A))return q;var M=_(A);return T!==void 0&&T(q,M)?(U=A,q):(U=A,V=M)}var k=!1,U,V,$=g===void 0?null:g;return[function(){return R(d())},$===null?void 0:function(){return R($())}]},[d,g,_,T]);var N=i(f,x[0],x[1]);return o(function(){S.hasValue=!0,S.value=N},[N]),h(N),N},yv}var a1;function BO(){return a1||(a1=1,gv.exports=zO()),gv.exports}var FO=BO();function qO(t){t()}function HO(){let t=null,e=null;return{clear(){t=null,e=null},notify(){qO(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var o1={notify(){},get:()=>[]};function GO(t,e){let n,i=o1,s=0,o=!1;function u(N){g();const R=i.subscribe(N);let k=!1;return()=>{k||(k=!0,R(),_())}}function h(){i.notify()}function f(){S.onStateChange&&S.onStateChange()}function d(){return o}function g(){s++,n||(n=t.subscribe(f),i=HO())}function _(){s--,n&&s===0&&(n(),n=void 0,i.clear(),i=o1)}function T(){o||(o=!0,g())}function x(){o&&(o=!1,_())}const S={addNestedSub:u,notifyNestedSubs:h,handleChangeWrapper:f,isSubscribed:d,trySubscribe:T,tryUnsubscribe:x,getListeners:()=>i};return S}var KO=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$O=KO(),QO=()=>typeof navigator<"u"&&navigator.product==="ReactNative",YO=QO(),XO=()=>$O||YO?I.useLayoutEffect:I.useEffect,WO=XO(),vv=Symbol.for("react-redux-context"),_v=typeof globalThis<"u"?globalThis:{};function JO(){if(!I.createContext)return{};const t=_v[vv]??(_v[vv]=new Map);let e=t.get(I.createContext);return e||(e=I.createContext(null),t.set(I.createContext,e)),e}var ya=JO();function ZO(t){const{children:e,context:n,serverState:i,store:s}=t,o=I.useMemo(()=>{const f=GO(s);return{store:s,subscription:f,getServerState:i?()=>i:void 0}},[s,i]),u=I.useMemo(()=>s.getState(),[s]);WO(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),u!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,u]);const h=n||ya;return I.createElement(h.Provider,{value:o},e)}var eM=ZO;function O_(t=ya){return function(){return I.useContext(t)}}var fC=O_();function dC(t=ya){const e=t===ya?fC:O_(t),n=()=>{const{store:i}=e();return i};return Object.assign(n,{withTypes:()=>n}),n}var tM=dC();function nM(t=ya){const e=t===ya?tM:dC(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var wi=nM(),iM=(t,e)=>t===e;function rM(t=ya){const e=t===ya?fC:O_(t),n=(i,s={})=>{const{equalityFn:o=iM}=typeof s=="function"?{equalityFn:s}:s,u=e(),{store:h,subscription:f,getServerState:d}=u;I.useRef(!0);const g=I.useCallback({[i.name](T){return i(T)}}[i.name],[i]),_=FO.useSyncExternalStoreWithSelector(f.addNestedSub,h.getState,d||h.getState,g,o);return I.useDebugValue(_),_};return Object.assign(n,{withTypes:()=>n}),n}var cn=rM();function sn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var sM=typeof Symbol=="function"&&Symbol.observable||"@@observable",l1=sM,bv=()=>Math.random().toString(36).substring(7).split("").join("."),aM={INIT:`@@redux/INIT${bv()}`,REPLACE:`@@redux/REPLACE${bv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${bv()}`},Vm=aM;function M_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function mC(t,e,n){if(typeof t!="function")throw new Error(sn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(sn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(sn(1));return n(mC)(t,e)}let i=t,s=e,o=new Map,u=o,h=0,f=!1;function d(){u===o&&(u=new Map,o.forEach((R,k)=>{u.set(k,R)}))}function g(){if(f)throw new Error(sn(3));return s}function _(R){if(typeof R!="function")throw new Error(sn(4));if(f)throw new Error(sn(5));let k=!0;d();const U=h++;return u.set(U,R),function(){if(k){if(f)throw new Error(sn(6));k=!1,d(),u.delete(U),o=null}}}function T(R){if(!M_(R))throw new Error(sn(7));if(typeof R.type>"u")throw new Error(sn(8));if(typeof R.type!="string")throw new Error(sn(17));if(f)throw new Error(sn(9));try{f=!0,s=i(s,R)}finally{f=!1}return(o=u).forEach(U=>{U()}),R}function x(R){if(typeof R!="function")throw new Error(sn(10));i=R,T({type:Vm.REPLACE})}function S(){const R=_;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(sn(11));function U(){const $=k;$.next&&$.next(g())}return U(),{unsubscribe:R(U)}},[l1](){return this}}}return T({type:Vm.INIT}),{dispatch:T,subscribe:_,getState:g,replaceReducer:x,[l1]:S}}function oM(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Vm.INIT})>"u")throw new Error(sn(12));if(typeof n(void 0,{type:Vm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(sn(13))})}function lM(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const u=e[o];typeof t[u]=="function"&&(n[u]=t[u])}const i=Object.keys(n);let s;try{oM(n)}catch(o){s=o}return function(u={},h){if(s)throw s;let f=!1;const d={};for(let g=0;g<i.length;g++){const _=i[g],T=n[_],x=u[_],S=T(x,h);if(typeof S>"u")throw h&&h.type,new Error(sn(14));d[_]=S,f=f||S!==x}return f=f||i.length!==Object.keys(u).length,f?d:u}}function Lm(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function uM(...t){return e=>(n,i)=>{const s=e(n,i);let o=()=>{throw new Error(sn(15))};const u={getState:s.getState,dispatch:(f,...d)=>o(f,...d)},h=t.map(f=>f(u));return o=Lm(...h)(s.dispatch),{...s,dispatch:o}}}function cM(t){return M_(t)&&"type"in t&&typeof t.type=="string"}var pC=Symbol.for("immer-nothing"),u1=Symbol.for("immer-draftable"),Jn=Symbol.for("immer-state");function Vi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var bu=Object.getPrototypeOf;function Oo(t){return!!t&&!!t[Jn]}function cs(t){var e;return t?gC(t)||Array.isArray(t)||!!t[u1]||!!((e=t.constructor)!=null&&e[u1])||Ap(t)||Rp(t):!1}var hM=Object.prototype.constructor.toString();function gC(t){if(!t||typeof t!="object")return!1;const e=bu(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===hM}function Um(t,e){Sp(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function Sp(t){const e=t[Jn];return e?e.type_:Array.isArray(t)?1:Ap(t)?2:Rp(t)?3:0}function c0(t,e){return Sp(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function yC(t,e,n){const i=Sp(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function fM(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ap(t){return t instanceof Map}function Rp(t){return t instanceof Set}function go(t){return t.copy_||t.base_}function h0(t,e){if(Ap(t))return new Map(t);if(Rp(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=gC(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[Jn];let s=Reflect.ownKeys(i);for(let o=0;o<s.length;o++){const u=s[o],h=i[u];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(i[u]={configurable:!0,writable:!0,enumerable:h.enumerable,value:t[u]})}return Object.create(bu(t),i)}else{const i=bu(t);if(i!==null&&n)return{...t};const s=Object.create(i);return Object.assign(s,t)}}function j_(t,e=!1){return Cp(t)||Oo(t)||!cs(t)||(Sp(t)>1&&(t.set=t.add=t.clear=t.delete=dM),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>j_(i,!0))),t}function dM(){Vi(2)}function Cp(t){return Object.isFrozen(t)}var mM={};function Mo(t){const e=mM[t];return e||Vi(0,t),e}var Dh;function vC(){return Dh}function pM(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function c1(t,e){e&&(Mo("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function f0(t){d0(t),t.drafts_.forEach(gM),t.drafts_=null}function d0(t){t===Dh&&(Dh=t.parent_)}function h1(t){return Dh=pM(Dh,t)}function gM(t){const e=t[Jn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function f1(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Jn].modified_&&(f0(e),Vi(4)),cs(t)&&(t=zm(e,t),e.parent_||Bm(e,t)),e.patches_&&Mo("Patches").generateReplacementPatches_(n[Jn].base_,t,e.patches_,e.inversePatches_)):t=zm(e,n,[]),f0(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==pC?t:void 0}function zm(t,e,n){if(Cp(e))return e;const i=e[Jn];if(!i)return Um(e,(s,o)=>d1(t,i,e,s,o,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return Bm(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let o=s,u=!1;i.type_===3&&(o=new Set(s),s.clear(),u=!0),Um(o,(h,f)=>d1(t,i,s,h,f,n,u)),Bm(t,s,!1),n&&t.patches_&&Mo("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function d1(t,e,n,i,s,o,u){if(Oo(s)){const h=o&&e&&e.type_!==3&&!c0(e.assigned_,i)?o.concat(i):void 0,f=zm(t,s,h);if(yC(n,i,f),Oo(f))t.canAutoFreeze_=!1;else return}else u&&n.add(s);if(cs(s)&&!Cp(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;zm(t,s),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&Bm(t,s)}}function Bm(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&j_(e,n)}function yM(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:vC(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=i,o=V_;n&&(s=[i],o=Ph);const{revoke:u,proxy:h}=Proxy.revocable(s,o);return i.draft_=h,i.revoke_=u,h}var V_={get(t,e){if(e===Jn)return t;const n=go(t);if(!c0(n,e))return vM(t,n,e);const i=n[e];return t.finalized_||!cs(i)?i:i===Tv(t.base_,e)?(xv(t),t.copy_[e]=p0(i,t)):i},has(t,e){return e in go(t)},ownKeys(t){return Reflect.ownKeys(go(t))},set(t,e,n){const i=_C(go(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const s=Tv(go(t),e),o=s==null?void 0:s[Jn];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(fM(n,s)&&(n!==void 0||c0(t.base_,e)))return!0;xv(t),m0(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Tv(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,xv(t),m0(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=go(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){Vi(11)},getPrototypeOf(t){return bu(t.base_)},setPrototypeOf(){Vi(12)}},Ph={};Um(V_,(t,e)=>{Ph[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ph.deleteProperty=function(t,e){return Ph.set.call(this,t,e,void 0)};Ph.set=function(t,e,n){return V_.set.call(this,t[0],e,n,t[0])};function Tv(t,e){const n=t[Jn];return(n?go(n):t)[e]}function vM(t,e,n){var s;const i=_C(e,n);return i?"value"in i?i.value:(s=i.get)==null?void 0:s.call(t.draft_):void 0}function _C(t,e){if(!(e in t))return;let n=bu(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=bu(n)}}function m0(t){t.modified_||(t.modified_=!0,t.parent_&&m0(t.parent_))}function xv(t){t.copy_||(t.copy_=h0(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var _M=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const u=this;return function(f=o,...d){return u.produce(f,g=>n.call(this,g,...d))}}typeof n!="function"&&Vi(6),i!==void 0&&typeof i!="function"&&Vi(7);let s;if(cs(e)){const o=h1(this),u=p0(e,void 0);let h=!0;try{s=n(u),h=!1}finally{h?f0(o):d0(o)}return c1(o,i),f1(s,o)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===pC&&(s=void 0),this.autoFreeze_&&j_(s,!0),i){const o=[],u=[];Mo("Patches").generateReplacementPatches_(e,s,o,u),i(o,u)}return s}else Vi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(u,...h)=>this.produceWithPatches(u,f=>e(f,...h));let i,s;return[this.produce(e,n,(u,h)=>{i=u,s=h}),i,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){cs(t)||Vi(8),Oo(t)&&(t=bM(t));const e=h1(this),n=p0(t,void 0);return n[Jn].isManual_=!0,d0(e),n}finishDraft(t,e){const n=t&&t[Jn];(!n||!n.isManual_)&&Vi(9);const{scope_:i}=n;return c1(i,e),f1(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const i=Mo("Patches").applyPatches_;return Oo(t)?i(t,e):this.produce(t,s=>i(s,e))}};function p0(t,e){const n=Ap(t)?Mo("MapSet").proxyMap_(t,e):Rp(t)?Mo("MapSet").proxySet_(t,e):yM(t,e);return(e?e.scope_:vC()).drafts_.push(n),n}function bM(t){return Oo(t)||Vi(10,t),bC(t)}function bC(t){if(!cs(t)||Cp(t))return t;const e=t[Jn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=h0(t,e.scope_.immer_.useStrictShallowCopy_)}else n=h0(t,!0);return Um(n,(i,s)=>{yC(n,i,bC(s))}),e&&(e.finalized_=!1),n}var Zn=new _M,TC=Zn.produce;Zn.produceWithPatches.bind(Zn);Zn.setAutoFreeze.bind(Zn);Zn.setUseStrictShallowCopy.bind(Zn);Zn.applyPatches.bind(Zn);Zn.createDraft.bind(Zn);Zn.finishDraft.bind(Zn);function xC(t){return({dispatch:n,getState:i})=>s=>o=>typeof o=="function"?o(n,i,t):s(o)}var TM=xC(),xM=xC,EM=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lm:Lm.apply(null,arguments)};function m1(t,e){function n(...i){if(e){let s=e(...i);if(!s)throw new Error(as(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>cM(i)&&i.type===t,n}var EC=class hh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,hh.prototype)}static get[Symbol.species](){return hh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new hh(...e[0].concat(this)):new hh(...e.concat(this))}};function p1(t){return cs(t)?TC(t,()=>{}):t}function g1(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function wM(t){return typeof t=="boolean"}var SM=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=e??{};let u=new EC;return n&&(wM(n)?u.push(TM):u.push(xM(n.extraArgument))),u},AM="RTK_autoBatch",y1=t=>e=>{setTimeout(e,t)},RM=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let s=!0,o=!1,u=!1;const h=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:y1(10):t.type==="callback"?t.queueNotification:y1(t.timeout),d=()=>{u=!1,o&&(o=!1,h.forEach(g=>g()))};return Object.assign({},i,{subscribe(g){const _=()=>s&&g(),T=i.subscribe(_);return h.add(g),()=>{T(),h.delete(g)}},dispatch(g){var _;try{return s=!((_=g==null?void 0:g.meta)!=null&&_[AM]),o=!s,o&&(u||(u=!0,f(d))),i.dispatch(g)}finally{s=!0}}})},CM=t=>function(n){const{autoBatch:i=!0}=n??{};let s=new EC(t);return i&&s.push(RM(typeof i=="object"?i:void 0)),s};function IM(t){const e=SM(),{reducer:n=void 0,middleware:i,devTools:s=!0,preloadedState:o=void 0,enhancers:u=void 0}=t||{};let h;if(typeof n=="function")h=n;else if(M_(n))h=lM(n);else throw new Error(as(1));let f;typeof i=="function"?f=i(e):f=e();let d=Lm;s&&(d=EM({trace:!1,...typeof s=="object"&&s}));const g=uM(...f),_=CM(g);let T=typeof u=="function"?u(_):_();const x=d(...T);return mC(h,o,x)}function wC(t){const e={},n=[];let i;const s={addCase(o,u){const h=typeof o=="string"?o:o.type;if(!h)throw new Error(as(28));if(h in e)throw new Error(as(29));return e[h]=u,s},addMatcher(o,u){return n.push({matcher:o,reducer:u}),s},addDefaultCase(o){return i=o,s}};return t(s),[e,n,i]}function NM(t){return typeof t=="function"}function DM(t,e){let[n,i,s]=wC(e),o;if(NM(t))o=()=>p1(t());else{const h=p1(t);o=()=>h}function u(h=o(),f){let d=[n[f.type],...i.filter(({matcher:g})=>g(f)).map(({reducer:g})=>g)];return d.filter(g=>!!g).length===0&&(d=[s]),d.reduce((g,_)=>{if(_)if(Oo(g)){const x=_(g,f);return x===void 0?g:x}else{if(cs(g))return TC(g,T=>_(T,f));{const T=_(g,f);if(T===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return T}}return g},h)}return u.getInitialState=o,u}var PM=Symbol.for("rtk-slice-createasyncthunk");function kM(t,e){return`${t}/${e}`}function OM({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[PM];return function(s){const{name:o,reducerPath:u=o}=s;if(!o)throw new Error(as(11));const h=(typeof s.reducers=="function"?s.reducers(jM()):s.reducers)||{},f=Object.keys(h),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(V,$){const A=typeof V=="string"?V:V.type;if(!A)throw new Error(as(12));if(A in d.sliceCaseReducersByType)throw new Error(as(13));return d.sliceCaseReducersByType[A]=$,g},addMatcher(V,$){return d.sliceMatchers.push({matcher:V,reducer:$}),g},exposeAction(V,$){return d.actionCreators[V]=$,g},exposeCaseReducer(V,$){return d.sliceCaseReducersByName[V]=$,g}};f.forEach(V=>{const $=h[V],A={reducerName:V,type:kM(o,V),createNotation:typeof s.reducers=="function"};LM($)?zM(A,$,g,e):VM(A,$,g)});function _(){const[V={},$=[],A=void 0]=typeof s.extraReducers=="function"?wC(s.extraReducers):[s.extraReducers],q={...V,...d.sliceCaseReducersByType};return DM(s.initialState,M=>{for(let C in q)M.addCase(C,q[C]);for(let C of d.sliceMatchers)M.addMatcher(C.matcher,C.reducer);for(let C of $)M.addMatcher(C.matcher,C.reducer);A&&M.addDefaultCase(A)})}const T=V=>V,x=new Map;let S;function N(V,$){return S||(S=_()),S(V,$)}function R(){return S||(S=_()),S.getInitialState()}function k(V,$=!1){function A(M){let C=M[V];return typeof C>"u"&&$&&(C=R()),C}function q(M=T){const C=g1(x,$,()=>new WeakMap);return g1(C,M,()=>{const P={};for(const[j,F]of Object.entries(s.selectors??{}))P[j]=MM(F,M,R,$);return P})}return{reducerPath:V,getSelectors:q,get selectors(){return q(A)},selectSlice:A}}const U={name:o,reducer:N,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:R,...k(u),injectInto(V,{reducerPath:$,...A}={}){const q=$??u;return V.inject({reducerPath:q,reducer:N},A),{...U,...k(q,!0)}}};return U}}function MM(t,e,n,i){function s(o,...u){let h=e(o);return typeof h>"u"&&i&&(h=n()),t(h,...u)}return s.unwrapped=t,s}var cf=OM();function jM(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function VM({type:t,reducerName:e,createNotation:n},i,s){let o,u;if("reducer"in i){if(n&&!UM(i))throw new Error(as(17));o=i.reducer,u=i.prepare}else o=i;s.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,u?m1(t,u):m1(t))}function LM(t){return t._reducerDefinitionType==="asyncThunk"}function UM(t){return t._reducerDefinitionType==="reducerWithPrepare"}function zM({type:t,reducerName:e},n,i,s){if(!s)throw new Error(as(18));const{payloadCreator:o,fulfilled:u,pending:h,rejected:f,settled:d,options:g}=n,_=s(t,o,g);i.exposeAction(e,_),u&&i.addCase(_.fulfilled,u),h&&i.addCase(_.pending,h),f&&i.addCase(_.rejected,f),d&&i.addMatcher(_.settled,d),i.exposeCaseReducer(e,{fulfilled:u||im,pending:h||im,rejected:f||im,settled:d||im})}function im(){}function as(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const BM={cartItems:[]},SC=cf({name:"cart",initialState:BM,reducers:{addCartItems:(t,e)=>{const n=e.payload,i=t.cartItems.find(s=>s.id===n.id&&s.variantID===n.variantID);i?i.qty+=n.qty:t.cartItems.push({...n,qty:n.qty})},updateQty:(t,e)=>{const{id:n,variantID:i,qty:s}=e.payload,o=t.cartItems.find(u=>u.id===n&&u.variantID===i);if(o){const u=Number(s);isNaN(u)||(o.qty=Math.max(1,Math.min(u,o.stock)))}},removeItem:(t,e)=>{const{id:n,variantID:i}=e.payload;t.cartItems=t.cartItems.filter(s=>!(s.id===n&&s.variantID===i))},clearCart:t=>{t.cartItems=[]}}}),L_=t=>t.cart.cartItems,{addCartItems:FM,updateQty:v1,removeItem:qM,clearCart:HM}=SC.actions,GM=SC.reducer,KM="TWD",$M={currency:KM},AC=cf({name:"money",initialState:$M,reducers:{updateCurrency:(t,e)=>{t.currency=e.payload}}}),ys=t=>t.money.currency,{updateCurrency:QM}=AC.actions,YM=AC.reducer,RC=window.matchMedia("(prefers-color-scheme: light)").matches;console.log("初始lightMode",RC);const XM={lightMode:RC},CC=cf({name:"color",initialState:XM,reducers:{setColorMode:(t,e)=>{t.lightMode=e.payload}}}),WM=t=>t.color.lightMode,{setColorMode:JM}=CC.actions,ZM=CC.reducer,ej={searchHistory:[]},IC=cf({name:"search",initialState:ej,reducers:{newHistory:(t,e)=>{const n=e.payload;t.searchHistory.unshift(n),t.searchHistory.length>5&&(t.searchHistory=t.searchHistory.slice(0,5))},clearHistory:(t,e)=>{t.searchHistory=[]}}}),NC=t=>t.search.searchHistory,{newHistory:DC,clearHistory:tj}=IC.actions,nj=IC.reducer,ij={user:null},PC=cf({name:"auth",initialState:ij,reducers:{setUser(t,e){t.user=e.payload},clearUser(t){t.user=null}}}),{setUser:kC,clearUser:U_}=PC.actions,rj=PC.reducer,sj=t=>{try{const e=JSON.stringify(t);localStorage.setItem("appState",e)}catch(e){console.error("無法儲存到 localStorage",e)}},aj=()=>{try{const t=localStorage.getItem("appState");return t===null?void 0:JSON.parse(t)}catch(t){console.error("無法載入 localStorage 資料",t);return}},oj=aj(),g0=IM({reducer:{cart:GM,money:YM,color:ZM,search:nj,auth:rj},preloadedState:oj,devTools:!1});g0.subscribe(()=>{const t=g0.getState();sj({cart:t.cart,auth:t.auth})});var ah={},_1;function lj(){if(_1)return ah;_1=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.parse=u,ah.serialize=d;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function u(T,x){const S=new o,N=T.length;if(N<2)return S;const R=(x==null?void 0:x.decode)||g;let k=0;do{const U=T.indexOf("=",k);if(U===-1)break;const V=T.indexOf(";",k),$=V===-1?N:V;if(U>$){k=T.lastIndexOf(";",U-1)+1;continue}const A=h(T,k,U),q=f(T,U,A),M=T.slice(A,q);if(S[M]===void 0){let C=h(T,U+1,$),P=f(T,$,C);const j=R(T.slice(C,P));S[M]=j}k=$+1}while(k<N);return S}function h(T,x,S){do{const N=T.charCodeAt(x);if(N!==32&&N!==9)return x}while(++x<S);return S}function f(T,x,S){for(;x>S;){const N=T.charCodeAt(--x);if(N!==32&&N!==9)return x+1}return S}function d(T,x,S){const N=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(T))throw new TypeError(`argument name is invalid: ${T}`);const R=N(x);if(!e.test(R))throw new TypeError(`argument val is invalid: ${x}`);let k=T+"="+R;if(!S)return k;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);k+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);k+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);k+="; Path="+S.path}if(S.expires){if(!_(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);k+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(k+="; HttpOnly"),S.secure&&(k+="; Secure"),S.partitioned&&(k+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return k}function g(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function _(T){return s.call(T)==="[object Date]"}return ah}lj();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var b1="popstate";function uj(t={}){function e(i,s){let{pathname:o,search:u,hash:h}=i.location;return y0("",{pathname:o,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:kh(s)}return hj(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cj(){return Math.random().toString(36).substring(2,10)}function T1(t,e){return{usr:t.state,key:t.key,idx:e}}function y0(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Mu(e):e,state:n,key:e&&e.key||i||cj()}}function kh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Mu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function hj(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,h="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function _(){h="POP";let R=g(),k=R==null?null:R-d;d=R,f&&f({action:h,location:N.location,delta:k})}function T(R,k){h="PUSH";let U=y0(N.location,R,k);d=g()+1;let V=T1(U,d),$=N.createHref(U);try{u.pushState(V,"",$)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign($)}o&&f&&f({action:h,location:N.location,delta:1})}function x(R,k){h="REPLACE";let U=y0(N.location,R,k);d=g();let V=T1(U,d),$=N.createHref(U);u.replaceState(V,"",$),o&&f&&f({action:h,location:N.location,delta:0})}function S(R){let k=s.location.origin!=="null"?s.location.origin:s.location.href,U=typeof R=="string"?R:kh(R);return U=U.replace(/ $/,"%20"),vt(k,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,k)}let N={get action(){return h},get location(){return t(s,u)},listen(R){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(b1,_),f=R,()=>{s.removeEventListener(b1,_),f=null}},createHref(R){return e(s,R)},createURL:S,encodeLocation(R){let k=S(R);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:T,replace:x,go(R){return u.go(R)}};return N}function OC(t,e,n="/"){return fj(t,e,n,!1)}function fj(t,e,n,i){let s=typeof e=="string"?Mu(e):e,o=hs(s.pathname||"/",n);if(o==null)return null;let u=MC(t);dj(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let d=wj(o);h=xj(u[f],d,i)}return h}function MC(t,e=[],n=[],i=""){let s=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(vt(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let d=os([i,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(vt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),MC(o.children,e,g,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:bj(d,o.index),routesMeta:g})};return t.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))s(o,u);else for(let f of jC(o.path))s(o,u,f)}),e}function jC(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let u=jC(i.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function dj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Tj(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var mj=/^:[\w-]+$/,pj=3,gj=2,yj=1,vj=10,_j=-2,x1=t=>t==="*";function bj(t,e){let n=t.split("/"),i=n.length;return n.some(x1)&&(i+=_j),e&&(i+=gj),n.filter(s=>!x1(s)).reduce((s,o)=>s+(mj.test(o)?pj:o===""?yj:vj),i)}function Tj(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function xj(t,e,n=!1){let{routesMeta:i}=t,s={},o="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],d=h===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=Fm({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),T=f.route;if(!_&&d&&n&&!i[i.length-1].route.index&&(_=Fm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:os([o,_.pathname]),pathnameBase:Cj(os([o,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(o=os([o,_.pathnameBase]))}return u}function Fm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Ej(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:_},T)=>{if(g==="*"){let S=h[T]||"";u=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const x=h[T];return _&&!x?d[g]=void 0:d[g]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:t}}function Ej(t,e=!1,n=!0){Bi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function wj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function hs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function Sj(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?Mu(t):t;return{pathname:n?n.startsWith("/")?n:Aj(n,e):e,search:Ij(i),hash:Nj(s)}}function Aj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ev(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function VC(t){let e=Rj(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function LC(t,e,n,i=!1){let s;typeof t=="string"?s=Mu(t):(s={...t},vt(!s.pathname||!s.pathname.includes("?"),Ev("?","pathname","search",s)),vt(!s.pathname||!s.pathname.includes("#"),Ev("#","pathname","hash",s)),vt(!s.search||!s.search.includes("#"),Ev("#","search","hash",s)));let o=t===""||s.pathname==="",u=o?"/":s.pathname,h;if(u==null)h=n;else{let _=e.length-1;if(!i&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),_-=1;s.pathname=T.join("/")}h=_>=0?e[_]:"/"}let f=Sj(s,h),d=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var os=t=>t.join("/").replace(/\/\/+/g,"/"),Cj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ij=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Nj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Dj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var UC=["POST","PUT","PATCH","DELETE"];new Set(UC);var Pj=["GET",...UC];new Set(Pj);var ju=I.createContext(null);ju.displayName="DataRouter";var Ip=I.createContext(null);Ip.displayName="DataRouterState";var zC=I.createContext({isTransitioning:!1});zC.displayName="ViewTransition";var kj=I.createContext(new Map);kj.displayName="Fetchers";var Oj=I.createContext(null);Oj.displayName="Await";var Sr=I.createContext(null);Sr.displayName="Navigation";var hf=I.createContext(null);hf.displayName="Location";var Ar=I.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var z_=I.createContext(null);z_.displayName="RouteError";function Mj(t,{relative:e}={}){vt(ff(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=I.useContext(Sr),{hash:s,pathname:o,search:u}=df(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:os([n,o])),i.createHref({pathname:h,search:u,hash:s})}function ff(){return I.useContext(hf)!=null}function ii(){return vt(ff(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(hf).location}var BC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FC(t){I.useContext(Sr).static||I.useLayoutEffect(t)}function Si(){let{isDataRoute:t}=I.useContext(Ar);return t?Qj():jj()}function jj(){vt(ff(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(ju),{basename:e,navigator:n}=I.useContext(Sr),{matches:i}=I.useContext(Ar),{pathname:s}=ii(),o=JSON.stringify(VC(i)),u=I.useRef(!1);return FC(()=>{u.current=!0}),I.useCallback((f,d={})=>{if(Bi(u.current,BC),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=LC(f,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:os([e,g.pathname])),(d.replace?n.replace:n.push)(g,d.state,d)},[e,n,o,s,t])}I.createContext(null);function B_(){let{matches:t}=I.useContext(Ar),e=t[t.length-1];return e?e.params:{}}function df(t,{relative:e}={}){let{matches:n}=I.useContext(Ar),{pathname:i}=ii(),s=JSON.stringify(VC(n));return I.useMemo(()=>LC(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function Vj(t,e){return qC(t,e)}function qC(t,e,n,i){var U;vt(ff(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=I.useContext(Sr),{matches:u}=I.useContext(Ar),h=u[u.length-1],f=h?h.params:{},d=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let V=_&&_.path||"";HC(d,!_||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let T=ii(),x;if(e){let V=typeof e=="string"?Mu(e):e;vt(g==="/"||((U=V.pathname)==null?void 0:U.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${V.pathname}" was given in the \`location\` prop.`),x=V}else x=T;let S=x.pathname||"/",N=S;if(g!=="/"){let V=g.replace(/^\//,"").split("/");N="/"+S.replace(/^\//,"").split("/").slice(V.length).join("/")}let R=!o&&n&&n.matches&&n.matches.length>0?n.matches:OC(t,{pathname:N});Bi(_||R!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Bi(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=Fj(R&&R.map(V=>Object.assign({},V,{params:Object.assign({},f,V.params),pathname:os([g,s.encodeLocation?s.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?g:os([g,s.encodeLocation?s.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),u,n,i);return e&&k?I.createElement(hf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},k):k}function Lj(){let t=$j(),e=Dj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:o},"ErrorBoundary")," or"," ",I.createElement("code",{style:o},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:s},n):null,u)}var Uj=I.createElement(Lj,null),zj=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?I.createElement(Ar.Provider,{value:this.props.routeContext},I.createElement(z_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Bj({routeContext:t,match:e,children:n}){let i=I.useContext(ju);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Ar.Provider,{value:t},n)}function Fj(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let f=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);vt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(n)for(let f=0;f<s.length;f++){let d=s[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=f),d.route.id){let{loaderData:g,errors:_}=n,T=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!_||_[d.route.id]===void 0);if(d.route.lazy||T){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,d,g)=>{let _,T=!1,x=null,S=null;n&&(_=o&&d.route.id?o[d.route.id]:void 0,x=d.route.errorElement||Uj,u&&(h<0&&g===0?(HC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,S=null):h===g&&(T=!0,S=d.route.hydrateFallbackElement||null)));let N=e.concat(s.slice(0,g+1)),R=()=>{let k;return _?k=x:T?k=S:d.route.Component?k=I.createElement(d.route.Component,null):d.route.element?k=d.route.element:k=f,I.createElement(Bj,{match:d,routeContext:{outlet:f,matches:N,isDataRoute:n!=null},children:k})};return n&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?I.createElement(zj,{location:n.location,revalidation:n.revalidation,component:x,error:_,children:R(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):R()},null)}function F_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qj(t){let e=I.useContext(ju);return vt(e,F_(t)),e}function Hj(t){let e=I.useContext(Ip);return vt(e,F_(t)),e}function Gj(t){let e=I.useContext(Ar);return vt(e,F_(t)),e}function q_(t){let e=Gj(t),n=e.matches[e.matches.length-1];return vt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Kj(){return q_("useRouteId")}function $j(){var i;let t=I.useContext(z_),e=Hj("useRouteError"),n=q_("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function Qj(){let{router:t}=qj("useNavigate"),e=q_("useNavigate"),n=I.useRef(!1);return FC(()=>{n.current=!0}),I.useCallback(async(s,o={})=>{Bi(n.current,BC),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var E1={};function HC(t,e,n){!e&&!E1[t]&&(E1[t]=!0,Bi(!1,n))}I.memo(Yj);function Yj({routes:t,future:e,state:n}){return qC(t,void 0,n,e)}function yn(t){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Xj({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:o=!1}){vt(!ff(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=I.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof n=="string"&&(n=Mu(n));let{pathname:f="/",search:d="",hash:g="",state:_=null,key:T="default"}=n,x=I.useMemo(()=>{let S=hs(f,u);return S==null?null:{location:{pathname:S,search:d,hash:g,state:_,key:T},navigationType:i}},[u,f,d,g,_,T,i]);return Bi(x!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:I.createElement(Sr.Provider,{value:h},I.createElement(hf.Provider,{children:e,value:x}))}function Wj({children:t,location:e}){return Vj(v0(t),e)}function v0(t,e=[]){let n=[];return I.Children.forEach(t,(i,s)=>{if(!I.isValidElement(i))return;let o=[...e,s];if(i.type===I.Fragment){n.push.apply(n,v0(i.props.children,o));return}vt(i.type===yn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=v0(i.props.children,o)),n.push(u)}),n}var _m="get",bm="application/x-www-form-urlencoded";function Np(t){return t!=null&&typeof t.tagName=="string"}function Jj(t){return Np(t)&&t.tagName.toLowerCase()==="button"}function Zj(t){return Np(t)&&t.tagName.toLowerCase()==="form"}function eV(t){return Np(t)&&t.tagName.toLowerCase()==="input"}function tV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nV(t,e){return t.button===0&&(!e||e==="_self")&&!tV(t)}function _0(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(s=>[n,s]):[[n,i]])},[]))}function iV(t,e){let n=_0(t);return e&&e.forEach((i,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}var rm=null;function rV(){if(rm===null)try{new FormData(document.createElement("form"),0),rm=!1}catch{rm=!0}return rm}var sV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wv(t){return t!=null&&!sV.has(t)?(Bi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bm}"`),null):t}function aV(t,e){let n,i,s,o,u;if(Zj(t)){let h=t.getAttribute("action");i=h?hs(h,e):null,n=t.getAttribute("method")||_m,s=wv(t.getAttribute("enctype"))||bm,o=new FormData(t)}else if(Jj(t)||eV(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(i=f?hs(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||_m,s=wv(t.getAttribute("formenctype"))||wv(h.getAttribute("enctype"))||bm,o=new FormData(h,t),!rV()){let{name:d,type:g,value:_}=t;if(g==="image"){let T=d?`${d}.`:"";o.append(`${T}x`,"0"),o.append(`${T}y`,"0")}else d&&o.append(d,_)}}else{if(Np(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_m,i=null,s=bm,u=t}return o&&s==="text/plain"&&(u=o,o=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:o,body:u}}function H_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function oV(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lV(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function uV(t,e,n){let i=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await oV(o,n);return u.links?u.links():[]}return[]}));return dV(i.flat(1).filter(lV).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function w1(t,e,n,i,s,o){let u=(f,d)=>n[d]?f.route.id!==n[d].route.id:!0,h=(f,d)=>{var g;return n[d].pathname!==f.pathname||((g=n[d].route.path)==null?void 0:g.endsWith("*"))&&n[d].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,d)=>u(f,d)||h(f,d)):o==="data"?e.filter((f,d)=>{var _;let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let T=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function cV(t,e,{includeHydrateFallback:n}={}){return hV(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function hV(t){return[...new Set(t)]}function fV(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function dV(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let o=JSON.stringify(fV(s));return n.has(o)||(n.add(o),i.push({key:o,link:s})),i},[])}function mV(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&hs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function GC(){let t=I.useContext(ju);return H_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function pV(){let t=I.useContext(Ip);return H_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var G_=I.createContext(void 0);G_.displayName="FrameworkContext";function KC(){let t=I.useContext(G_);return H_(t,"You must render this element inside a <HydratedRouter> element"),t}function gV(t,e){let n=I.useContext(G_),[i,s]=I.useState(!1),[o,u]=I.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:_}=e,T=I.useRef(null);I.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let N=k=>{k.forEach(U=>{u(U.isIntersecting)})},R=new IntersectionObserver(N,{threshold:.5});return T.current&&R.observe(T.current),()=>{R.disconnect()}}},[t]),I.useEffect(()=>{if(i){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[i]);let x=()=>{s(!0)},S=()=>{s(!1),u(!1)};return n?t!=="intent"?[o,T,{}]:[o,T,{onFocus:oh(h,x),onBlur:oh(f,S),onMouseEnter:oh(d,x),onMouseLeave:oh(g,S),onTouchStart:oh(_,x)}]:[!1,T,{}]}function oh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function yV({page:t,...e}){let{router:n}=GC(),i=I.useMemo(()=>OC(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?I.createElement(_V,{page:t,matches:i,...e}):null}function vV(t){let{manifest:e,routeModules:n}=KC(),[i,s]=I.useState([]);return I.useEffect(()=>{let o=!1;return uV(t,e,n).then(u=>{o||s(u)}),()=>{o=!0}},[t,e,n]),i}function _V({page:t,matches:e,...n}){let i=ii(),{manifest:s,routeModules:o}=KC(),{basename:u}=GC(),{loaderData:h,matches:f}=pV(),d=I.useMemo(()=>w1(t,e,f,s,i,"data"),[t,e,f,s,i]),g=I.useMemo(()=>w1(t,e,f,s,i,"assets"),[t,e,f,s,i]),_=I.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let S=new Set,N=!1;if(e.forEach(k=>{var V;let U=s.routes[k.route.id];!U||!U.hasLoader||(!d.some($=>$.route.id===k.route.id)&&k.route.id in h&&((V=o[k.route.id])!=null&&V.shouldRevalidate)||U.hasClientLoader?N=!0:S.add(k.route.id))}),S.size===0)return[];let R=mV(t,u);return N&&S.size>0&&R.searchParams.set("_routes",e.filter(k=>S.has(k.route.id)).map(k=>k.route.id).join(",")),[R.pathname+R.search]},[u,h,i,s,d,e,t,o]),T=I.useMemo(()=>cV(g,s),[g,s]),x=vV(g);return I.createElement(I.Fragment,null,_.map(S=>I.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),T.map(S=>I.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),x.map(({key:S,link:N})=>I.createElement("link",{key:S,...N})))}function bV(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var $C=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$C&&(window.__reactRouterVersion="7.5.0")}catch{}function TV({basename:t,children:e,window:n}){let i=I.useRef();i.current==null&&(i.current=uj({window:n,v5Compat:!0}));let s=i.current,[o,u]=I.useState({action:s.action,location:s.location}),h=I.useCallback(f=>{I.startTransition(()=>u(f))},[u]);return I.useLayoutEffect(()=>s.listen(h),[s,h]),I.createElement(Xj,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var QC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,We=I.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:o,replace:u,state:h,target:f,to:d,preventScrollReset:g,viewTransition:_,...T},x){let{basename:S}=I.useContext(Sr),N=typeof d=="string"&&QC.test(d),R,k=!1;if(typeof d=="string"&&N&&(R=d,$C))try{let P=new URL(window.location.href),j=d.startsWith("//")?new URL(P.protocol+d):new URL(d),F=hs(j.pathname,S);j.origin===P.origin&&F!=null?d=F+j.search+j.hash:k=!0}catch{Bi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=Mj(d,{relative:s}),[V,$,A]=gV(i,T),q=SV(d,{replace:u,state:h,target:f,preventScrollReset:g,relative:s,viewTransition:_});function M(P){e&&e(P),P.defaultPrevented||q(P)}let C=I.createElement("a",{...T,...A,href:R||U,onClick:k||o?e:M,ref:bV(x,$),target:f,"data-discover":!N&&n==="render"?"true":void 0});return V&&!N?I.createElement(I.Fragment,null,C,I.createElement(yV,{page:U})):C});We.displayName="Link";var xV=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:o,to:u,viewTransition:h,children:f,...d},g){let _=df(u,{relative:d.relative}),T=ii(),x=I.useContext(Ip),{navigator:S,basename:N}=I.useContext(Sr),R=x!=null&&DV(_)&&h===!0,k=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,U=T.pathname,V=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(U=U.toLowerCase(),V=V?V.toLowerCase():null,k=k.toLowerCase()),V&&N&&(V=hs(V,N)||V);const $=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let A=U===k||!s&&U.startsWith(k)&&U.charAt($)==="/",q=V!=null&&(V===k||!s&&V.startsWith(k)&&V.charAt(k.length)==="/"),M={isActive:A,isPending:q,isTransitioning:R},C=A?e:void 0,P;typeof i=="function"?P=i(M):P=[i,A?"active":null,q?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let j=typeof o=="function"?o(M):o;return I.createElement(We,{...d,"aria-current":C,className:P,ref:g,style:j,to:u,viewTransition:h},typeof f=="function"?f(M):f)});xV.displayName="NavLink";var EV=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:o,method:u=_m,action:h,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:_,...T},x)=>{let S=IV(),N=NV(h,{relative:d}),R=u.toLowerCase()==="get"?"get":"post",k=typeof h=="string"&&QC.test(h),U=V=>{if(f&&f(V),V.defaultPrevented)return;V.preventDefault();let $=V.nativeEvent.submitter,A=($==null?void 0:$.getAttribute("formmethod"))||u;S($||V.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:s,state:o,relative:d,preventScrollReset:g,viewTransition:_})};return I.createElement("form",{ref:x,method:R,action:N,onSubmit:i?f:U,...T,"data-discover":!k&&t==="render"?"true":void 0})});EV.displayName="Form";function wV(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YC(t){let e=I.useContext(ju);return vt(e,wV(t)),e}function SV(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:u}={}){let h=Si(),f=ii(),d=df(t,{relative:o});return I.useCallback(g=>{if(nV(g,e)){g.preventDefault();let _=n!==void 0?n:kh(f)===kh(d);h(t,{replace:_,state:i,preventScrollReset:s,relative:o,viewTransition:u})}},[f,h,d,n,i,e,t,s,o,u])}function AV(t){Bi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=I.useRef(_0(t)),n=I.useRef(!1),i=ii(),s=I.useMemo(()=>iV(i.search,n.current?null:e.current),[i.search]),o=Si(),u=I.useCallback((h,f)=>{const d=_0(typeof h=="function"?h(s):h);n.current=!0,o("?"+d,f)},[o,s]);return[s,u]}var RV=0,CV=()=>`__${String(++RV)}__`;function IV(){let{router:t}=YC("useSubmit"),{basename:e}=I.useContext(Sr),n=Kj();return I.useCallback(async(i,s={})=>{let{action:o,method:u,encType:h,formData:f,body:d}=aV(i,e);if(s.navigate===!1){let g=s.fetcherKey||CV();await t.fetch(g,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function NV(t,{relative:e}={}){let{basename:n}=I.useContext(Sr),i=I.useContext(Ar);vt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...df(t||".",{relative:e})},u=ii();if(t==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:os([n,o.pathname])),kh(o)}function DV(t,e={}){let n=I.useContext(zC);vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=YC("useViewTransitionState"),s=df(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=hs(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=hs(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Fm(s.pathname,u)!=null||Fm(s.pathname,o)!=null}new TextEncoder;var Sv,S1;function PV(){if(S1)return Sv;S1=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(o,u){if(o===u)return!0;if(o&&u&&typeof o=="object"&&typeof u=="object"){if(o.constructor!==u.constructor)return!1;var h,f,d;if(Array.isArray(o)){if(h=o.length,h!=u.length)return!1;for(f=h;f--!==0;)if(!s(o[f],u[f]))return!1;return!0}var g;if(e&&o instanceof Map&&u instanceof Map){if(o.size!==u.size)return!1;for(g=o.entries();!(f=g.next()).done;)if(!u.has(f.value[0]))return!1;for(g=o.entries();!(f=g.next()).done;)if(!s(f.value[1],u.get(f.value[0])))return!1;return!0}if(n&&o instanceof Set&&u instanceof Set){if(o.size!==u.size)return!1;for(g=o.entries();!(f=g.next()).done;)if(!u.has(f.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(u)){if(h=o.length,h!=u.length)return!1;for(f=h;f--!==0;)if(o[f]!==u[f])return!1;return!0}if(o.constructor===RegExp)return o.source===u.source&&o.flags===u.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof u.valueOf=="function")return o.valueOf()===u.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof u.toString=="function")return o.toString()===u.toString();if(d=Object.keys(o),h=d.length,h!==Object.keys(u).length)return!1;for(f=h;f--!==0;)if(!Object.prototype.hasOwnProperty.call(u,d[f]))return!1;if(t&&o instanceof Element)return!1;for(f=h;f--!==0;)if(!((d[f]==="_owner"||d[f]==="__v"||d[f]==="__o")&&o.$$typeof)&&!s(o[d[f]],u[d[f]]))return!1;return!0}return o!==o&&u!==u}return Sv=function(u,h){try{return s(u,h)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},Sv}var kV=PV();const OV=Ep(kV);var Av,A1;function MV(){if(A1)return Av;A1=1;var t=function(e,n,i,s,o,u,h,f){if(!e){var d;if(n===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[i,s,o,u,h,f],_=0;d=new Error(n.replace(/%s/g,function(){return g[_++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};return Av=t,Av}var jV=MV();const R1=Ep(jV);var Rv,C1;function VV(){return C1||(C1=1,Rv=function(e,n,i,s){var o=i?i.call(s,e,n):void 0;if(o!==void 0)return!!o;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var u=Object.keys(e),h=Object.keys(n);if(u.length!==h.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(n),d=0;d<u.length;d++){var g=u[d];if(!f(g))return!1;var _=e[g],T=n[g];if(o=i?i.call(s,_,T,g):void 0,o===!1||o===void 0&&_!==T)return!1}return!0}),Rv}var LV=VV();const UV=Ep(LV);var XC=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(XC||{}),Cv={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},I1=Object.values(XC),K_={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},zV=Object.entries(K_).reduce((t,[e,n])=>(t[n]=e,t),{}),Li="data-rh",Zl={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},eu=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const i=t[n];if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}return null},BV=t=>{let e=eu(t,"title");const n=eu(t,Zl.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const i=eu(t,Zl.DEFAULT_TITLE);return e||i||void 0},FV=t=>eu(t,Zl.ON_CHANGE_CLIENT_STATE)||(()=>{}),Iv=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,i)=>({...n,...i}),{}),qV=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,i)=>{if(!n.length){const s=Object.keys(i);for(let o=0;o<s.length;o+=1){const h=s[o].toLowerCase();if(t.indexOf(h)!==-1&&i[h])return n.concat(i)}}return n},[]),HV=t=>console&&typeof console.warn=="function"&&console.warn(t),lh=(t,e,n)=>{const i={};return n.filter(s=>Array.isArray(s[t])?!0:(typeof s[t]<"u"&&HV(`Helmet: ${t} should be of type "Array". Instead found type "${typeof s[t]}"`),!1)).map(s=>s[t]).reverse().reduce((s,o)=>{const u={};o.filter(f=>{let d;const g=Object.keys(f);for(let T=0;T<g.length;T+=1){const x=g[T],S=x.toLowerCase();e.indexOf(S)!==-1&&!(d==="rel"&&f[d].toLowerCase()==="canonical")&&!(S==="rel"&&f[S].toLowerCase()==="stylesheet")&&(d=S),e.indexOf(x)!==-1&&(x==="innerHTML"||x==="cssText"||x==="itemprop")&&(d=x)}if(!d||!f[d])return!1;const _=f[d].toLowerCase();return i[d]||(i[d]={}),u[d]||(u[d]={}),i[d][_]?!1:(u[d][_]=!0,!0)}).reverse().forEach(f=>s.push(f));const h=Object.keys(u);for(let f=0;f<h.length;f+=1){const d=h[f],g={...i[d],...u[d]};i[d]=g}return s},[]).reverse()},GV=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},KV=t=>({baseTag:qV(["href"],t),bodyAttributes:Iv("bodyAttributes",t),defer:eu(t,Zl.DEFER),encode:eu(t,Zl.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Iv("htmlAttributes",t),linkTags:lh("link",["rel","href"],t),metaTags:lh("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:lh("noscript",["innerHTML"],t),onChangeClientState:FV(t),scriptTags:lh("script",["src","innerHTML"],t),styleTags:lh("style",["cssText"],t),title:BV(t),titleAttributes:Iv("titleAttributes",t),prioritizeSeoTags:GV(t,Zl.PRIORITIZE_SEO_TAGS)}),WC=t=>Array.isArray(t)?t.join(""):t,$V=(t,e)=>{const n=Object.keys(t);for(let i=0;i<n.length;i+=1)if(e[n[i]]&&e[n[i]].includes(t[n[i]]))return!0;return!1},Nv=(t,e)=>Array.isArray(t)?t.reduce((n,i)=>($V(i,e)?n.priority.push(i):n.default.push(i),n),{priority:[],default:[]}):{default:t,priority:[]},N1=(t,e)=>({...t,[e]:void 0}),QV=["noscript","script","style"],b0=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),JC=t=>Object.keys(t).reduce((e,n)=>{const i=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${i}`:i},""),YV=(t,e,n,i)=>{const s=JC(n),o=WC(e);return s?`<${t} ${Li}="true" ${s}>${b0(o,i)}</${t}>`:`<${t} ${Li}="true">${b0(o,i)}</${t}>`},XV=(t,e,n=!0)=>e.reduce((i,s)=>{const o=s,u=Object.keys(o).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,g)=>{const _=typeof o[g]>"u"?g:`${g}="${b0(o[g],n)}"`;return d?`${d} ${_}`:_},""),h=o.innerHTML||o.cssText||"",f=QV.indexOf(t)===-1;return`${i}<${t} ${Li}="true" ${u}${f?"/>":`>${h}</${t}>`}`},""),ZC=(t,e={})=>Object.keys(t).reduce((n,i)=>{const s=K_[i];return n[s||i]=t[i],n},e),WV=(t,e,n)=>{const i={key:e,[Li]:!0},s=ZC(n,i);return[is.createElement("title",s,e)]},Tm=(t,e)=>e.map((n,i)=>{const s={key:i,[Li]:!0};return Object.keys(n).forEach(o=>{const h=K_[o]||o;if(h==="innerHTML"||h==="cssText"){const f=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:f}}else s[h]=n[o]}),is.createElement(t,s)}),_i=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>WV(t,e.title,e.titleAttributes),toString:()=>YV(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>ZC(e),toString:()=>JC(e)};default:return{toComponent:()=>Tm(t,e),toString:()=>XV(t,e,n)}}},JV=({metaTags:t,linkTags:e,scriptTags:n,encode:i})=>{const s=Nv(t,Cv.meta),o=Nv(e,Cv.link),u=Nv(n,Cv.script);return{priorityMethods:{toComponent:()=>[...Tm("meta",s.priority),...Tm("link",o.priority),...Tm("script",u.priority)],toString:()=>`${_i("meta",s.priority,i)} ${_i("link",o.priority,i)} ${_i("script",u.priority,i)}`},metaTags:s.default,linkTags:o.default,scriptTags:u.default}},ZV=t=>{const{baseTag:e,bodyAttributes:n,encode:i=!0,htmlAttributes:s,noscriptTags:o,styleTags:u,title:h="",titleAttributes:f,prioritizeSeoTags:d}=t;let{linkTags:g,metaTags:_,scriptTags:T}=t,x={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:x,linkTags:g,metaTags:_,scriptTags:T}=JV(t)),{priority:x,base:_i("base",e,i),bodyAttributes:_i("bodyAttributes",n,i),htmlAttributes:_i("htmlAttributes",s,i),link:_i("link",g,i),meta:_i("meta",_,i),noscript:_i("noscript",o,i),script:_i("script",T,i),style:_i("style",u,i),title:_i("title",{title:h,titleAttributes:f},i)}},T0=ZV,sm=[],e2=!!(typeof window<"u"&&window.document&&window.document.createElement),x0=class{constructor(t,e){es(this,"instances",[]);es(this,"canUseDOM",e2);es(this,"context");es(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?sm:this.instances,add:t=>{(this.canUseDOM?sm:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?sm:this.instances).indexOf(t);(this.canUseDOM?sm:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=T0({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},e3={},t2=is.createContext(e3),Eo,n2=(Eo=class extends I.Component{constructor(n){super(n);es(this,"helmetData");this.helmetData=new x0(this.props.context||{},Eo.canUseDOM)}render(){return is.createElement(t2.Provider,{value:this.helmetData.value},this.props.children)}},es(Eo,"canUseDOM",e2),Eo),zl=(t,e)=>{const n=document.head||document.querySelector("head"),i=n.querySelectorAll(`${t}[${Li}]`),s=[].slice.call(i),o=[];let u;return e&&e.length&&e.forEach(h=>{const f=document.createElement(t);for(const d in h)if(Object.prototype.hasOwnProperty.call(h,d))if(d==="innerHTML")f.innerHTML=h.innerHTML;else if(d==="cssText")f.styleSheet?f.styleSheet.cssText=h.cssText:f.appendChild(document.createTextNode(h.cssText));else{const g=d,_=typeof h[g]>"u"?"":h[g];f.setAttribute(d,_)}f.setAttribute(Li,"true"),s.some((d,g)=>(u=g,f.isEqualNode(d)))?s.splice(u,1):o.push(f)}),s.forEach(h=>{var f;return(f=h.parentNode)==null?void 0:f.removeChild(h)}),o.forEach(h=>n.appendChild(h)),{oldTags:s,newTags:o}},E0=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const i=n.getAttribute(Li),s=i?i.split(","):[],o=[...s],u=Object.keys(e);for(const h of u){const f=e[h]||"";n.getAttribute(h)!==f&&n.setAttribute(h,f),s.indexOf(h)===-1&&s.push(h);const d=o.indexOf(h);d!==-1&&o.splice(d,1)}for(let h=o.length-1;h>=0;h-=1)n.removeAttribute(o[h]);s.length===o.length?n.removeAttribute(Li):n.getAttribute(Li)!==u.join(",")&&n.setAttribute(Li,u.join(","))},t3=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=WC(t)),E0("title",e)},D1=(t,e)=>{const{baseTag:n,bodyAttributes:i,htmlAttributes:s,linkTags:o,metaTags:u,noscriptTags:h,onChangeClientState:f,scriptTags:d,styleTags:g,title:_,titleAttributes:T}=t;E0("body",i),E0("html",s),t3(_,T);const x={baseTag:zl("base",n),linkTags:zl("link",o),metaTags:zl("meta",u),noscriptTags:zl("noscript",h),scriptTags:zl("script",d),styleTags:zl("style",g)},S={},N={};Object.keys(x).forEach(R=>{const{newTags:k,oldTags:U}=x[R];k.length&&(S[R]=k),U.length&&(N[R]=x[R].oldTags)}),e&&e(),f(t,S,N)},uh=null,n3=t=>{uh&&cancelAnimationFrame(uh),t.defer?uh=requestAnimationFrame(()=>{D1(t,()=>{uh=null})}):(D1(t),uh=null)},i3=n3,P1=class extends I.Component{constructor(){super(...arguments);es(this,"rendered",!1)}shouldComponentUpdate(e){return!UV(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let i=null;const s=KV(e.get().map(o=>{const u={...o.props};return delete u.context,u}));n2.canUseDOM?i3(s):T0&&(i=T0(s)),n(i)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},u0,ei=(u0=class extends I.Component{shouldComponentUpdate(t){return!OV(N1(this.props,"helmetData"),N1(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,i){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,i)}]}}mapObjectTypeChildren(t,e,n,i){switch(t.type){case"title":return{...e,[t.type]:i,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(i=>{n={...n,[i]:t[i]}}),n}warnOnInvalidChildren(t,e){return R1(I1.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${I1.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),R1(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return is.Children.forEach(t,i=>{if(!i||!i.props)return;const{children:s,...o}=i.props,u=Object.keys(o).reduce((f,d)=>(f[zV[d]||d]=o[d],f),{});let{type:h}=i;switch(typeof h=="symbol"?h=h.toString():this.warnOnInvalidChildren(i,s),h){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(i,n,u,s);break;default:e=this.mapObjectTypeChildren(i,e,u,s);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:i}=e;if(t&&(n=this.mapChildrenToProps(t,n)),i&&!(i instanceof x0)){const s=i;i=new x0(s.context,!0),delete n.helmetData}return i?is.createElement(P1,{...n,context:i.value}):is.createElement(t2.Consumer,null,s=>is.createElement(P1,{...n,context:s}))}},es(u0,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),u0),mf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jo=typeof window>"u"||"Deno"in globalThis;function Vn(){}function r3(t,e){return typeof t=="function"?t(e):t}function w0(t){return typeof t=="number"&&t>=0&&t!==1/0}function i2(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ca(t,e){return typeof t=="function"?t(e):t}function ji(t,e){return typeof t=="function"?t(e):t}function k1(t,e){const{type:n="all",exact:i,fetchStatus:s,predicate:o,queryKey:u,stale:h}=t;if(u){if(i){if(e.queryHash!==$_(u,e.options))return!1}else if(!Mh(e.queryKey,u))return!1}if(n!=="all"){const f=e.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||s&&s!==e.state.fetchStatus||o&&!o(e))}function O1(t,e){const{exact:n,status:i,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Oh(e.options.mutationKey)!==Oh(o))return!1}else if(!Mh(e.options.mutationKey,o))return!1}return!(i&&e.state.status!==i||s&&!s(e))}function $_(t,e){return((e==null?void 0:e.queryKeyHashFn)||Oh)(t)}function Oh(t){return JSON.stringify(t,(e,n)=>A0(n)?Object.keys(n).sort().reduce((i,s)=>(i[s]=n[s],i),{}):n)}function Mh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Mh(t[n],e[n])):!1}function r2(t,e){if(t===e)return t;const n=M1(t)&&M1(e);if(n||A0(t)&&A0(e)){const i=n?t:Object.keys(t),s=i.length,o=n?e:Object.keys(e),u=o.length,h=n?[]:{},f=new Set(i);let d=0;for(let g=0;g<u;g++){const _=n?g:o[g];(!n&&f.has(_)||n)&&t[_]===void 0&&e[_]===void 0?(h[_]=void 0,d++):(h[_]=r2(t[_],e[_]),h[_]===t[_]&&t[_]!==void 0&&d++)}return s===u&&d===s?t:h}return e}function S0(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function M1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function A0(t){if(!j1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!j1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function j1(t){return Object.prototype.toString.call(t)==="[object Object]"}function s3(t){return new Promise(e=>{setTimeout(e,t)})}function R0(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?r2(t,e):e}function a3(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function o3(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var Q_=Symbol();function s2(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Q_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function l3(t,e){return typeof t=="function"?t(...e):!!t}var wo,ta,ou,nC,u3=(nC=class extends mf{constructor(){super();Ie(this,wo);Ie(this,ta);Ie(this,ou);ve(this,ou,e=>{if(!jo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){K(this,ta)||this.setEventListener(K(this,ou))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,ta))==null||e.call(this),ve(this,ta,void 0))}setEventListener(e){var n;ve(this,ou,e),(n=K(this,ta))==null||n.call(this),ve(this,ta,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){K(this,wo)!==e&&(ve(this,wo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof K(this,wo)=="boolean"?K(this,wo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},wo=new WeakMap,ta=new WeakMap,ou=new WeakMap,nC),Y_=new u3,lu,na,uu,iC,c3=(iC=class extends mf{constructor(){super();Ie(this,lu,!0);Ie(this,na);Ie(this,uu);ve(this,uu,e=>{if(!jo&&window.addEventListener){const n=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){K(this,na)||this.setEventListener(K(this,uu))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,na))==null||e.call(this),ve(this,na,void 0))}setEventListener(e){var n;ve(this,uu,e),(n=K(this,na))==null||n.call(this),ve(this,na,e(this.setOnline.bind(this)))}setOnline(e){K(this,lu)!==e&&(ve(this,lu,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return K(this,lu)}},lu=new WeakMap,na=new WeakMap,uu=new WeakMap,iC),qm=new c3;function C0(){let t,e;const n=new Promise((s,o)=>{t=s,e=o});n.status="pending",n.catch(()=>{});function i(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{i({status:"fulfilled",value:s}),t(s)},n.reject=s=>{i({status:"rejected",reason:s}),e(s)},n}function h3(t){return Math.min(1e3*2**t,3e4)}function a2(t){return(t??"online")==="online"?qm.isOnline():!0}var o2=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Dv(t){return t instanceof o2}function l2(t){let e=!1,n=0,i=!1,s;const o=C0(),u=N=>{var R;i||(T(new o2(N)),(R=t.abort)==null||R.call(t))},h=()=>{e=!0},f=()=>{e=!1},d=()=>Y_.isFocused()&&(t.networkMode==="always"||qm.isOnline())&&t.canRun(),g=()=>a2(t.networkMode)&&t.canRun(),_=N=>{var R;i||(i=!0,(R=t.onSuccess)==null||R.call(t,N),s==null||s(),o.resolve(N))},T=N=>{var R;i||(i=!0,(R=t.onError)==null||R.call(t,N),s==null||s(),o.reject(N))},x=()=>new Promise(N=>{var R;s=k=>{(i||d())&&N(k)},(R=t.onPause)==null||R.call(t)}).then(()=>{var N;s=void 0,i||(N=t.onContinue)==null||N.call(t)}),S=()=>{if(i)return;let N;const R=n===0?t.initialPromise:void 0;try{N=R??t.fn()}catch(k){N=Promise.reject(k)}Promise.resolve(N).then(_).catch(k=>{var q;if(i)return;const U=t.retry??(jo?0:3),V=t.retryDelay??h3,$=typeof V=="function"?V(n,k):V,A=U===!0||typeof U=="number"&&n<U||typeof U=="function"&&U(n,k);if(e||!A){T(k);return}n++,(q=t.onFail)==null||q.call(t,n,k),s3($).then(()=>d()?void 0:x()).then(()=>{e?T(k):S()})})};return{promise:o,cancel:u,continue:()=>(s==null||s(),o),cancelRetry:h,continueRetry:f,canStart:g,start:()=>(g()?S():x().then(S),o)}}var f3=t=>setTimeout(t,0);function d3(){let t=[],e=0,n=h=>{h()},i=h=>{h()},s=f3;const o=h=>{e?t.push(h):s(()=>{n(h)})},u=()=>{const h=t;t=[],h.length&&s(()=>{i(()=>{h.forEach(f=>{n(f)})})})};return{batch:h=>{let f;e++;try{f=h()}finally{e--,e||u()}return f},batchCalls:h=>(...f)=>{o(()=>{h(...f)})},schedule:o,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{i=h},setScheduler:h=>{s=h}}}var ln=d3(),So,rC,u2=(rC=class{constructor(){Ie(this,So)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),w0(this.gcTime)&&ve(this,So,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(jo?1/0:5*60*1e3))}clearGcTimeout(){K(this,So)&&(clearTimeout(K(this,So)),ve(this,So,void 0))}},So=new WeakMap,rC),cu,hu,bi,Ao,vn,af,Ro,Oi,ts,sC,m3=(sC=class extends u2{constructor(n){super();Ie(this,Oi);Ie(this,cu);Ie(this,hu);Ie(this,bi);Ie(this,Ao);Ie(this,vn);Ie(this,af);Ie(this,Ro);ve(this,Ro,!1),ve(this,af,n.defaultOptions),this.setOptions(n.options),this.observers=[],ve(this,Ao,n.client),ve(this,bi,K(this,Ao).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ve(this,cu,p3(this.options)),this.state=n.state??K(this,cu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=K(this,vn))==null?void 0:n.promise}setOptions(n){this.options={...K(this,af),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,bi).remove(this)}setData(n,i){const s=R0(this.state.data,n,this.options);return qe(this,Oi,ts).call(this,{data:s,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt,manual:i==null?void 0:i.manual}),s}setState(n,i){qe(this,Oi,ts).call(this,{type:"setState",state:n,setStateOptions:i})}cancel(n){var s,o;const i=(s=K(this,vn))==null?void 0:s.promise;return(o=K(this,vn))==null||o.cancel(n),i?i.then(Vn).catch(Vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,cu))}isActive(){return this.observers.some(n=>ji(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Q_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>ca(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!i2(this.state.dataUpdatedAt,n)}onFocus(){var i;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(i=K(this,vn))==null||i.continue()}onOnline(){var i;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(i=K(this,vn))==null||i.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),K(this,bi).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(i=>i!==n),this.observers.length||(K(this,vn)&&(K(this,Ro)?K(this,vn).cancel({revert:!0}):K(this,vn).cancelRetry()),this.scheduleGc()),K(this,bi).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qe(this,Oi,ts).call(this,{type:"invalidate"})}fetch(n,i){var g,_,T;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(K(this,vn))return K(this,vn).continueRetry(),K(this,vn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const x=this.observers.find(S=>S.options.queryFn);x&&this.setOptions(x.options)}const s=new AbortController,o=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(ve(this,Ro,!0),s.signal)})},u=()=>{const x=s2(this.options,i),N=(()=>{const R={client:K(this,Ao),queryKey:this.queryKey,meta:this.meta};return o(R),R})();return ve(this,Ro,!1),this.options.persister?this.options.persister(x,N,this):x(N)},f=(()=>{const x={fetchOptions:i,options:this.options,queryKey:this.queryKey,client:K(this,Ao),state:this.state,fetchFn:u};return o(x),x})();(g=this.options.behavior)==null||g.onFetch(f,this),ve(this,hu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((_=f.fetchOptions)==null?void 0:_.meta))&&qe(this,Oi,ts).call(this,{type:"fetch",meta:(T=f.fetchOptions)==null?void 0:T.meta});const d=x=>{var S,N,R,k;Dv(x)&&x.silent||qe(this,Oi,ts).call(this,{type:"error",error:x}),Dv(x)||((N=(S=K(this,bi).config).onError)==null||N.call(S,x,this),(k=(R=K(this,bi).config).onSettled)==null||k.call(R,this.state.data,x,this)),this.scheduleGc()};return ve(this,vn,l2({initialPromise:i==null?void 0:i.initialPromise,fn:f.fetchFn,abort:s.abort.bind(s),onSuccess:x=>{var S,N,R,k;if(x===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(U){d(U);return}(N=(S=K(this,bi).config).onSuccess)==null||N.call(S,x,this),(k=(R=K(this,bi).config).onSettled)==null||k.call(R,x,this.state.error,this),this.scheduleGc()},onError:d,onFail:(x,S)=>{qe(this,Oi,ts).call(this,{type:"failed",failureCount:x,error:S})},onPause:()=>{qe(this,Oi,ts).call(this,{type:"pause"})},onContinue:()=>{qe(this,Oi,ts).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0})),K(this,vn).start()}},cu=new WeakMap,hu=new WeakMap,bi=new WeakMap,Ao=new WeakMap,vn=new WeakMap,af=new WeakMap,Ro=new WeakMap,Oi=new WeakSet,ts=function(n){const i=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...c2(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=n.error;return Dv(o)&&o.revert&&K(this,hu)?{...K(this,hu),fetchStatus:"idle"}:{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=i(this.state),ln.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),K(this,bi).notify({query:this,type:"updated",action:n})})},sC);function c2(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:a2(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function p3(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var lr,aC,g3=(aC=class extends mf{constructor(e={}){super();Ie(this,lr);this.config=e,ve(this,lr,new Map)}build(e,n,i){const s=n.queryKey,o=n.queryHash??$_(s,n);let u=this.get(o);return u||(u=new m3({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:i,defaultOptions:e.getQueryDefaults(s)}),this.add(u)),u}add(e){K(this,lr).has(e.queryHash)||(K(this,lr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=K(this,lr).get(e.queryHash);n&&(e.destroy(),n===e&&K(this,lr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return K(this,lr).get(e)}getAll(){return[...K(this,lr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(i=>k1(n,i))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(i=>k1(e,i)):n}notify(e){ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ln.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ln.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},lr=new WeakMap,aC),ur,Cn,Co,cr,Ys,oC,y3=(oC=class extends u2{constructor(n){super();Ie(this,cr);Ie(this,ur);Ie(this,Cn);Ie(this,Co);this.mutationId=n.mutationId,ve(this,Cn,n.mutationCache),ve(this,ur,[]),this.state=n.state||v3(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){K(this,ur).includes(n)||(K(this,ur).push(n),this.clearGcTimeout(),K(this,Cn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ve(this,ur,K(this,ur).filter(i=>i!==n)),this.scheduleGc(),K(this,Cn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){K(this,ur).length||(this.state.status==="pending"?this.scheduleGc():K(this,Cn).remove(this))}continue(){var n;return((n=K(this,Co))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var u,h,f,d,g,_,T,x,S,N,R,k,U,V,$,A,q,M,C,P;const i=()=>{qe(this,cr,Ys).call(this,{type:"continue"})};ve(this,Co,l2({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(j,F)=>{qe(this,cr,Ys).call(this,{type:"failed",failureCount:j,error:F})},onPause:()=>{qe(this,cr,Ys).call(this,{type:"pause"})},onContinue:i,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,Cn).canRun(this)}));const s=this.state.status==="pending",o=!K(this,Co).canStart();try{if(s)i();else{qe(this,cr,Ys).call(this,{type:"pending",variables:n,isPaused:o}),await((h=(u=K(this,Cn).config).onMutate)==null?void 0:h.call(u,n,this));const F=await((d=(f=this.options).onMutate)==null?void 0:d.call(f,n));F!==this.state.context&&qe(this,cr,Ys).call(this,{type:"pending",context:F,variables:n,isPaused:o})}const j=await K(this,Co).start();return await((_=(g=K(this,Cn).config).onSuccess)==null?void 0:_.call(g,j,n,this.state.context,this)),await((x=(T=this.options).onSuccess)==null?void 0:x.call(T,j,n,this.state.context)),await((N=(S=K(this,Cn).config).onSettled)==null?void 0:N.call(S,j,null,this.state.variables,this.state.context,this)),await((k=(R=this.options).onSettled)==null?void 0:k.call(R,j,null,n,this.state.context)),qe(this,cr,Ys).call(this,{type:"success",data:j}),j}catch(j){try{throw await((V=(U=K(this,Cn).config).onError)==null?void 0:V.call(U,j,n,this.state.context,this)),await((A=($=this.options).onError)==null?void 0:A.call($,j,n,this.state.context)),await((M=(q=K(this,Cn).config).onSettled)==null?void 0:M.call(q,void 0,j,this.state.variables,this.state.context,this)),await((P=(C=this.options).onSettled)==null?void 0:P.call(C,void 0,j,n,this.state.context)),j}finally{qe(this,cr,Ys).call(this,{type:"error",error:j})}}finally{K(this,Cn).runNext(this)}}},ur=new WeakMap,Cn=new WeakMap,Co=new WeakMap,cr=new WeakSet,Ys=function(n){const i=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=i(this.state),ln.batch(()=>{K(this,ur).forEach(s=>{s.onMutationUpdate(n)}),K(this,Cn).notify({mutation:this,type:"updated",action:n})})},oC);function v3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ns,Mi,of,lC,_3=(lC=class extends mf{constructor(e={}){super();Ie(this,ns);Ie(this,Mi);Ie(this,of);this.config=e,ve(this,ns,new Set),ve(this,Mi,new Map),ve(this,of,0)}build(e,n,i){const s=new y3({mutationCache:this,mutationId:++nm(this,of)._,options:e.defaultMutationOptions(n),state:i});return this.add(s),s}add(e){K(this,ns).add(e);const n=am(e);if(typeof n=="string"){const i=K(this,Mi).get(n);i?i.push(e):K(this,Mi).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(K(this,ns).delete(e)){const n=am(e);if(typeof n=="string"){const i=K(this,Mi).get(n);if(i)if(i.length>1){const s=i.indexOf(e);s!==-1&&i.splice(s,1)}else i[0]===e&&K(this,Mi).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=am(e);if(typeof n=="string"){const i=K(this,Mi).get(n),s=i==null?void 0:i.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var i;const n=am(e);if(typeof n=="string"){const s=(i=K(this,Mi).get(n))==null?void 0:i.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ln.batch(()=>{K(this,ns).forEach(e=>{this.notify({type:"removed",mutation:e})}),K(this,ns).clear(),K(this,Mi).clear()})}getAll(){return Array.from(K(this,ns))}find(e){const n={exact:!0,...e};return this.getAll().find(i=>O1(n,i))}findAll(e={}){return this.getAll().filter(n=>O1(e,n))}notify(e){ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ln.batch(()=>Promise.all(e.map(n=>n.continue().catch(Vn))))}},ns=new WeakMap,Mi=new WeakMap,of=new WeakMap,lC);function am(t){var e;return(e=t.options.scope)==null?void 0:e.id}function V1(t){return{onFetch:(e,n)=>{var g,_,T,x,S;const i=e.options,s=(T=(_=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:_.fetchMore)==null?void 0:T.direction,o=((x=e.state.data)==null?void 0:x.pages)||[],u=((S=e.state.data)==null?void 0:S.pageParams)||[];let h={pages:[],pageParams:[]},f=0;const d=async()=>{let N=!1;const R=V=>{Object.defineProperty(V,"signal",{enumerable:!0,get:()=>(e.signal.aborted?N=!0:e.signal.addEventListener("abort",()=>{N=!0}),e.signal)})},k=s2(e.options,e.fetchOptions),U=async(V,$,A)=>{if(N)return Promise.reject();if($==null&&V.pages.length)return Promise.resolve(V);const M=(()=>{const F={client:e.client,queryKey:e.queryKey,pageParam:$,direction:A?"backward":"forward",meta:e.options.meta};return R(F),F})(),C=await k(M),{maxPages:P}=e.options,j=A?o3:a3;return{pages:j(V.pages,C,P),pageParams:j(V.pageParams,$,P)}};if(s&&o.length){const V=s==="backward",$=V?b3:L1,A={pages:o,pageParams:u},q=$(i,A);h=await U(A,q,V)}else{const V=t??o.length;do{const $=f===0?u[0]??i.initialPageParam:L1(i,h);if(f>0&&$==null)break;h=await U(h,$),f++}while(f<V)}return h};e.options.persister?e.fetchFn=()=>{var N,R;return(R=(N=e.options).persister)==null?void 0:R.call(N,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function L1(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function b3(t,{pages:e,pageParams:n}){var i;return e.length>0?(i=t.getPreviousPageParam)==null?void 0:i.call(t,e[0],e,n[0],n):void 0}var Et,ia,ra,fu,du,sa,mu,pu,uC,T3=(uC=class{constructor(t={}){Ie(this,Et);Ie(this,ia);Ie(this,ra);Ie(this,fu);Ie(this,du);Ie(this,sa);Ie(this,mu);Ie(this,pu);ve(this,Et,t.queryCache||new g3),ve(this,ia,t.mutationCache||new _3),ve(this,ra,t.defaultOptions||{}),ve(this,fu,new Map),ve(this,du,new Map),ve(this,sa,0)}mount(){nm(this,sa)._++,K(this,sa)===1&&(ve(this,mu,Y_.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,Et).onFocus())})),ve(this,pu,qm.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,Et).onOnline())})))}unmount(){var t,e;nm(this,sa)._--,K(this,sa)===0&&((t=K(this,mu))==null||t.call(this),ve(this,mu,void 0),(e=K(this,pu))==null||e.call(this),ve(this,pu,void 0))}isFetching(t){return K(this,Et).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return K(this,ia).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=K(this,Et).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=K(this,Et).build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ca(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return K(this,Et).findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),s=K(this,Et).get(i.queryHash),o=s==null?void 0:s.state.data,u=r3(e,o);if(u!==void 0)return K(this,Et).build(this,i).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return ln.batch(()=>K(this,Et).findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=K(this,Et).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=K(this,Et);ln.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=K(this,Et);return ln.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=ln.batch(()=>K(this,Et).findAll(t).map(s=>s.cancel(n)));return Promise.all(i).then(Vn).catch(Vn)}invalidateQueries(t,e={}){return ln.batch(()=>(K(this,Et).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=ln.batch(()=>K(this,Et).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Vn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(i).then(Vn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=K(this,Et).build(this,e);return n.isStaleByTime(ca(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Vn).catch(Vn)}fetchInfiniteQuery(t){return t.behavior=V1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Vn).catch(Vn)}ensureInfiniteQueryData(t){return t.behavior=V1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qm.isOnline()?K(this,ia).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,Et)}getMutationCache(){return K(this,ia)}getDefaultOptions(){return K(this,ra)}setDefaultOptions(t){ve(this,ra,t)}setQueryDefaults(t,e){K(this,fu).set(Oh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...K(this,fu).values()],n={};return e.forEach(i=>{Mh(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){K(this,du).set(Oh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...K(this,du).values()],n={};return e.forEach(i=>{Mh(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...K(this,ra).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=$_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Q_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...K(this,ra).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){K(this,Et).clear(),K(this,ia).clear()}},Et=new WeakMap,ia=new WeakMap,ra=new WeakMap,fu=new WeakMap,du=new WeakMap,sa=new WeakMap,mu=new WeakMap,pu=new WeakMap,uC),jn,He,lf,In,Io,gu,aa,oa,uf,yu,vu,No,Do,la,_u,Ze,fh,I0,N0,D0,P0,k0,O0,M0,h2,cC,x3=(cC=class extends mf{constructor(e,n){super();Ie(this,Ze);Ie(this,jn);Ie(this,He);Ie(this,lf);Ie(this,In);Ie(this,Io);Ie(this,gu);Ie(this,aa);Ie(this,oa);Ie(this,uf);Ie(this,yu);Ie(this,vu);Ie(this,No);Ie(this,Do);Ie(this,la);Ie(this,_u,new Set);this.options=n,ve(this,jn,e),ve(this,oa,null),ve(this,aa,C0()),this.options.experimental_prefetchInRender||K(this,aa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(K(this,He).addObserver(this),U1(K(this,He),this.options)?qe(this,Ze,fh).call(this):this.updateResult(),qe(this,Ze,P0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return j0(K(this,He),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return j0(K(this,He),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,qe(this,Ze,k0).call(this),qe(this,Ze,O0).call(this),K(this,He).removeObserver(this)}setOptions(e){const n=this.options,i=K(this,He);if(this.options=K(this,jn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ji(this.options.enabled,K(this,He))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");qe(this,Ze,M0).call(this),K(this,He).setOptions(this.options),n._defaulted&&!S0(this.options,n)&&K(this,jn).getQueryCache().notify({type:"observerOptionsUpdated",query:K(this,He),observer:this});const s=this.hasListeners();s&&z1(K(this,He),i,this.options,n)&&qe(this,Ze,fh).call(this),this.updateResult(),s&&(K(this,He)!==i||ji(this.options.enabled,K(this,He))!==ji(n.enabled,K(this,He))||ca(this.options.staleTime,K(this,He))!==ca(n.staleTime,K(this,He)))&&qe(this,Ze,I0).call(this);const o=qe(this,Ze,N0).call(this);s&&(K(this,He)!==i||ji(this.options.enabled,K(this,He))!==ji(n.enabled,K(this,He))||o!==K(this,la))&&qe(this,Ze,D0).call(this,o)}getOptimisticResult(e){const n=K(this,jn).getQueryCache().build(K(this,jn),e),i=this.createResult(n,e);return w3(this,i)&&(ve(this,In,i),ve(this,gu,this.options),ve(this,Io,K(this,He).state)),i}getCurrentResult(){return K(this,In)}trackResult(e,n){return new Proxy(e,{get:(i,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(i,s))})}trackProp(e){K(this,_u).add(e)}getCurrentQuery(){return K(this,He)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=K(this,jn).defaultQueryOptions(e),i=K(this,jn).getQueryCache().build(K(this,jn),n);return i.fetch().then(()=>this.createResult(i,n))}fetch(e){return qe(this,Ze,fh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),K(this,In)))}createResult(e,n){var P;const i=K(this,He),s=this.options,o=K(this,In),u=K(this,Io),h=K(this,gu),d=e!==i?e.state:K(this,lf),{state:g}=e;let _={...g},T=!1,x;if(n._optimisticResults){const j=this.hasListeners(),F=!j&&U1(e,n),H=j&&z1(e,i,n,s);(F||H)&&(_={..._,...c2(g.data,e.options)}),n._optimisticResults==="isRestoring"&&(_.fetchStatus="idle")}let{error:S,errorUpdatedAt:N,status:R}=_;x=_.data;let k=!1;if(n.placeholderData!==void 0&&x===void 0&&R==="pending"){let j;o!=null&&o.isPlaceholderData&&n.placeholderData===(h==null?void 0:h.placeholderData)?(j=o.data,k=!0):j=typeof n.placeholderData=="function"?n.placeholderData((P=K(this,vu))==null?void 0:P.state.data,K(this,vu)):n.placeholderData,j!==void 0&&(R="success",x=R0(o==null?void 0:o.data,j,n),T=!0)}if(n.select&&x!==void 0&&!k)if(o&&x===(u==null?void 0:u.data)&&n.select===K(this,uf))x=K(this,yu);else try{ve(this,uf,n.select),x=n.select(x),x=R0(o==null?void 0:o.data,x,n),ve(this,yu,x),ve(this,oa,null)}catch(j){ve(this,oa,j)}K(this,oa)&&(S=K(this,oa),x=K(this,yu),N=Date.now(),R="error");const U=_.fetchStatus==="fetching",V=R==="pending",$=R==="error",A=V&&U,q=x!==void 0,C={status:R,fetchStatus:_.fetchStatus,isPending:V,isSuccess:R==="success",isError:$,isInitialLoading:A,isLoading:A,data:x,dataUpdatedAt:_.dataUpdatedAt,error:S,errorUpdatedAt:N,failureCount:_.fetchFailureCount,failureReason:_.fetchFailureReason,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>d.dataUpdateCount||_.errorUpdateCount>d.errorUpdateCount,isFetching:U,isRefetching:U&&!V,isLoadingError:$&&!q,isPaused:_.fetchStatus==="paused",isPlaceholderData:T,isRefetchError:$&&q,isStale:X_(e,n),refetch:this.refetch,promise:K(this,aa)};if(this.options.experimental_prefetchInRender){const j=L=>{C.status==="error"?L.reject(C.error):C.data!==void 0&&L.resolve(C.data)},F=()=>{const L=ve(this,aa,C.promise=C0());j(L)},H=K(this,aa);switch(H.status){case"pending":e.queryHash===i.queryHash&&j(H);break;case"fulfilled":(C.status==="error"||C.data!==H.value)&&F();break;case"rejected":(C.status!=="error"||C.error!==H.reason)&&F();break}}return C}updateResult(){const e=K(this,In),n=this.createResult(K(this,He),this.options);if(ve(this,Io,K(this,He).state),ve(this,gu,this.options),K(this,Io).data!==void 0&&ve(this,vu,K(this,He)),S0(n,e))return;ve(this,In,n);const i=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!K(this,_u).size)return!0;const u=new Set(o??K(this,_u));return this.options.throwOnError&&u.add("error"),Object.keys(K(this,In)).some(h=>{const f=h;return K(this,In)[f]!==e[f]&&u.has(f)})};qe(this,Ze,h2).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&qe(this,Ze,P0).call(this)}},jn=new WeakMap,He=new WeakMap,lf=new WeakMap,In=new WeakMap,Io=new WeakMap,gu=new WeakMap,aa=new WeakMap,oa=new WeakMap,uf=new WeakMap,yu=new WeakMap,vu=new WeakMap,No=new WeakMap,Do=new WeakMap,la=new WeakMap,_u=new WeakMap,Ze=new WeakSet,fh=function(e){qe(this,Ze,M0).call(this);let n=K(this,He).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Vn)),n},I0=function(){qe(this,Ze,k0).call(this);const e=ca(this.options.staleTime,K(this,He));if(jo||K(this,In).isStale||!w0(e))return;const i=i2(K(this,In).dataUpdatedAt,e)+1;ve(this,No,setTimeout(()=>{K(this,In).isStale||this.updateResult()},i))},N0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(K(this,He)):this.options.refetchInterval)??!1},D0=function(e){qe(this,Ze,O0).call(this),ve(this,la,e),!(jo||ji(this.options.enabled,K(this,He))===!1||!w0(K(this,la))||K(this,la)===0)&&ve(this,Do,setInterval(()=>{(this.options.refetchIntervalInBackground||Y_.isFocused())&&qe(this,Ze,fh).call(this)},K(this,la)))},P0=function(){qe(this,Ze,I0).call(this),qe(this,Ze,D0).call(this,qe(this,Ze,N0).call(this))},k0=function(){K(this,No)&&(clearTimeout(K(this,No)),ve(this,No,void 0))},O0=function(){K(this,Do)&&(clearInterval(K(this,Do)),ve(this,Do,void 0))},M0=function(){const e=K(this,jn).getQueryCache().build(K(this,jn),this.options);if(e===K(this,He))return;const n=K(this,He);ve(this,He,e),ve(this,lf,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},h2=function(e){ln.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(K(this,In))}),K(this,jn).getQueryCache().notify({query:K(this,He),type:"observerResultsUpdated"})})},cC);function E3(t,e){return ji(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function U1(t,e){return E3(t,e)||t.state.data!==void 0&&j0(t,e,e.refetchOnMount)}function j0(t,e,n){if(ji(e.enabled,t)!==!1&&ca(e.staleTime,t)!=="static"){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&X_(t,e)}return!1}function z1(t,e,n,i){return(t!==e||ji(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&X_(t,n)}function X_(t,e){return ji(e.enabled,t)!==!1&&t.isStaleByTime(ca(e.staleTime,t))}function w3(t,e){return!S0(t.getCurrentResult(),e)}var f2=I.createContext(void 0),S3=t=>{const e=I.useContext(f2);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},A3=({client:t,children:e})=>(I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),y.jsx(f2.Provider,{value:t,children:e})),d2=I.createContext(!1),R3=()=>I.useContext(d2);d2.Provider;function C3(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var I3=I.createContext(C3()),N3=()=>I.useContext(I3),D3=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},P3=t=>{I.useEffect(()=>{t.clearReset()},[t])},k3=({result:t,errorResetBoundary:e,throwOnError:n,query:i,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(s&&t.data===void 0||l3(n,[t.error,i])),O3=t=>{if(t.suspense){const e=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>e(n(...i)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},M3=(t,e)=>t.isLoading&&t.isFetching&&!e,j3=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,B1=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function V3(t,e,n){var _,T,x,S,N;const i=R3(),s=N3(),o=S3(),u=o.defaultQueryOptions(t);(T=(_=o.getDefaultOptions().queries)==null?void 0:_._experimental_beforeQuery)==null||T.call(_,u),u._optimisticResults=i?"isRestoring":"optimistic",O3(u),D3(u,s),P3(s);const h=!o.getQueryCache().get(u.queryHash),[f]=I.useState(()=>new e(o,u)),d=f.getOptimisticResult(u),g=!i&&t.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(R=>{const k=g?f.subscribe(ln.batchCalls(R)):Vn;return f.updateResult(),k},[f,g]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),I.useEffect(()=>{f.setOptions(u)},[u,f]),j3(u,d))throw B1(u,f,s);if(k3({result:d,errorResetBoundary:s,throwOnError:u.throwOnError,query:o.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw d.error;if((S=(x=o.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||S.call(x,u,d),u.experimental_prefetchInRender&&!jo&&M3(d,i)){const R=h?B1(u,f,s):(N=o.getQueryCache().get(u.queryHash))==null?void 0:N.promise;R==null||R.catch(Vn).finally(()=>{f.updateResult()})}return u.notifyOnChangeProps?d:f.trackResult(d)}function m2(t,e){return V3(t,x3)}const L3=()=>{};var F1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},U3=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],u=t[n++],h=t[n++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],u=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},g2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],u=s+1<t.length,h=u?t[s+1]:0,f=s+2<t.length,d=f?t[s+2]:0,g=o>>2,_=(o&3)<<4|h>>4;let T=(h&15)<<2|d>>6,x=d&63;f||(x=64,u||(T=64)),i.push(n[g],n[_],n[T],n[x])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(p2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):U3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||h==null||d==null||_==null)throw new z3;const T=o<<2|h>>4;if(i.push(T),d!==64){const x=h<<4&240|d>>2;if(i.push(x),_!==64){const S=d<<6&192|_;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class z3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B3=function(t){const e=p2(t);return g2.encodeByteArray(e,!0)},Hm=function(t){return B3(t).replace(/\./g,"")},y2=function(t){try{return g2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=()=>F3().__FIREBASE_DEFAULTS__,H3=()=>{if(typeof process>"u"||typeof F1>"u")return;const t=F1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},G3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&y2(t[1]);return e&&JSON.parse(e)},Dp=()=>{try{return L3()||q3()||H3()||G3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},v2=t=>{var e,n;return(n=(e=Dp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},K3=t=>{const e=v2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},_2=()=>{var t;return(t=Dp())===null||t===void 0?void 0:t.config},b2=t=>{var e;return(e=Dp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hm(JSON.stringify(n)),Hm(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function X3(){var t;const e=(t=Dp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function J3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Z3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e4(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function t4(){return!X3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n4(){try{return typeof indexedDB=="object"}catch{return!1}}function i4(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="FirebaseError";class vs extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=r4,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pf.prototype.create)}}class pf{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?s4(o,i):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new vs(s,h,i)}}function s4(t,e){return t.replace(a4,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const a4=/\{\$([^}]+)}/g;function o4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vo(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],u=e[s];if(q1(o)&&q1(u)){if(!Vo(o,u))return!1}else if(o!==u)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function q1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function dh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function mh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function l4(t,e){const n=new u4(t,e);return n.subscribe.bind(n)}class u4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");c4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Pv),s.error===void 0&&(s.error=Pv),s.complete===void 0&&(s.complete=Pv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(t){return t.endsWith(".cloudworkstations.dev")}async function T2(t){return(await fetch(t,{credentials:"include"})).ok}class Lo{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new $3;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(d4(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yo){return this.instances.has(e)}getOptions(e=yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:f4(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=yo){return this.component?this.component.multipleInstances?e:yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f4(t){return t===yo?void 0:t}function d4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new h4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const p4={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},g4=Be.INFO,y4={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},v4=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=y4[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class W_{constructor(e){this.name=e,this._logLevel=g4,this._logHandler=v4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const _4=(t,e)=>e.some(n=>t instanceof n);let H1,G1;function b4(){return H1||(H1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T4(){return G1||(G1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x2=new WeakMap,V0=new WeakMap,E2=new WeakMap,kv=new WeakMap,J_=new WeakMap;function x4(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(ha(t.result)),s()},u=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&x2.set(n,t)}).catch(()=>{}),J_.set(e,t),e}function E4(t){if(V0.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),s()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});V0.set(t,e)}let L0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return V0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||E2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ha(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function w4(t){L0=t(L0)}function S4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Ov(this),e,...n);return E2.set(i,e.sort?e.sort():[e]),ha(i)}:T4().includes(t)?function(...e){return t.apply(Ov(this),e),ha(x2.get(this))}:function(...e){return ha(t.apply(Ov(this),e))}}function A4(t){return typeof t=="function"?S4(t):(t instanceof IDBTransaction&&E4(t),_4(t,b4())?new Proxy(t,L0):t)}function ha(t){if(t instanceof IDBRequest)return x4(t);if(kv.has(t))return kv.get(t);const e=A4(t);return e!==t&&(kv.set(t,e),J_.set(e,t)),e}const Ov=t=>J_.get(t);function R4(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const u=indexedDB.open(t,e),h=ha(u);return i&&u.addEventListener("upgradeneeded",f=>{i(ha(u.result),f.oldVersion,f.newVersion,ha(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const C4=["get","getKey","getAll","getAllKeys","count"],I4=["put","add","delete","clear"],Mv=new Map;function K1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mv.get(e))return Mv.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=I4.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||C4.includes(n)))return;const o=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(h.shift())),(await Promise.all([d[n](...h),s&&f.done]))[0]};return Mv.set(e,o),o}w4(t=>({...t,get:(e,n,i)=>K1(e,n)||t.get(e,n,i),has:(e,n)=>!!K1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(D4(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function D4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const U0="@firebase/app",$1="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new W_("@firebase/app"),P4="@firebase/app-compat",k4="@firebase/analytics-compat",O4="@firebase/analytics",M4="@firebase/app-check-compat",j4="@firebase/app-check",V4="@firebase/auth",L4="@firebase/auth-compat",U4="@firebase/database",z4="@firebase/data-connect",B4="@firebase/database-compat",F4="@firebase/functions",q4="@firebase/functions-compat",H4="@firebase/installations",G4="@firebase/installations-compat",K4="@firebase/messaging",$4="@firebase/messaging-compat",Q4="@firebase/performance",Y4="@firebase/performance-compat",X4="@firebase/remote-config",W4="@firebase/remote-config-compat",J4="@firebase/storage",Z4="@firebase/storage-compat",eL="@firebase/firestore",tL="@firebase/vertexai",nL="@firebase/firestore-compat",iL="firebase",rL="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="[DEFAULT]",sL={[U0]:"fire-core",[P4]:"fire-core-compat",[O4]:"fire-analytics",[k4]:"fire-analytics-compat",[j4]:"fire-app-check",[M4]:"fire-app-check-compat",[V4]:"fire-auth",[L4]:"fire-auth-compat",[U4]:"fire-rtdb",[z4]:"fire-data-connect",[B4]:"fire-rtdb-compat",[F4]:"fire-fn",[q4]:"fire-fn-compat",[H4]:"fire-iid",[G4]:"fire-iid-compat",[K4]:"fire-fcm",[$4]:"fire-fcm-compat",[Q4]:"fire-perf",[Y4]:"fire-perf-compat",[X4]:"fire-rc",[W4]:"fire-rc-compat",[J4]:"fire-gcs",[Z4]:"fire-gcs-compat",[eL]:"fire-fst",[nL]:"fire-fst-compat",[tL]:"fire-vertex","fire-js":"fire-js",[iL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new Map,aL=new Map,B0=new Map;function Q1(t,e){try{t.container.addComponent(e)}catch(n){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tu(t){const e=t.name;if(B0.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;B0.set(e,t);for(const n of jh.values())Q1(n,t);for(const n of aL.values())Q1(n,t);return!0}function Z_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ti(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new pf("app","Firebase",oL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=rL;function w2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:z0,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw fa.create("bad-app-name",{appName:String(s)});if(n||(n=_2()),!n)throw fa.create("no-options");const o=jh.get(s);if(o){if(Vo(n,o.options)&&Vo(i,o.config))return o;throw fa.create("duplicate-app",{appName:s})}const u=new m4(s);for(const f of B0.values())u.addComponent(f);const h=new lL(n,i,u);return jh.set(s,h),h}function eb(t=z0){const e=jh.get(t);if(!e&&t===z0&&_2())return w2();if(!e)throw fa.create("no-app",{appName:t});return e}function uL(){return Array.from(jh.values())}function da(t,e,n){var i;let s=(i=sL[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(h.join(" "));return}Tu(new Lo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="firebase-heartbeat-database",hL=1,Vh="firebase-heartbeat-store";let jv=null;function S2(){return jv||(jv=R4(cL,hL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vh)}catch(n){console.warn(n)}}}}).catch(t=>{throw fa.create("idb-open",{originalErrorMessage:t.message})})),jv}async function fL(t){try{const n=(await S2()).transaction(Vh),i=await n.objectStore(Vh).get(A2(t));return await n.done,i}catch(e){if(e instanceof vs)fs.warn(e.message);else{const n=fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fs.warn(n.message)}}}async function Y1(t,e){try{const i=(await S2()).transaction(Vh,"readwrite");await i.objectStore(Vh).put(e,A2(t)),await i.done}catch(n){if(n instanceof vs)fs.warn(n.message);else{const i=fa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fs.warn(i.message)}}}function A2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=1024,mL=30;class pL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yL(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=X1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>mL){const u=vL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){fs.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=X1(),{heartbeatsToSend:i,unsentEntries:s}=gL(this._heartbeatsCache.heartbeats),o=Hm(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return fs.warn(n),""}}}function X1(){return new Date().toISOString().substring(0,10)}function gL(t,e=dL){const n=[];let i=t.slice();for(const s of t){const o=n.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),W1(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),W1(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class yL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n4()?i4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Y1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Y1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function W1(t){return Hm(JSON.stringify({version:2,heartbeats:t})).length}function vL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t){Tu(new Lo("platform-logger",e=>new N4(e),"PRIVATE")),Tu(new Lo("heartbeat",e=>new pL(e),"PRIVATE")),da(U0,$1,t),da(U0,$1,"esm2017"),da("fire-js","")}_L("");function tb(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function R2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bL=R2,C2=new pf("auth","Firebase",R2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=new W_("@firebase/auth");function TL(t,...e){Gm.logLevel<=Be.WARN&&Gm.warn(`Auth (${Vu}): ${t}`,...e)}function xm(t,...e){Gm.logLevel<=Be.ERROR&&Gm.error(`Auth (${Vu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t,...e){throw nb(t,...e)}function fr(t,...e){return nb(t,...e)}function I2(t,e,n){const i=Object.assign(Object.assign({},bL()),{[e]:n});return new pf("auth","Firebase",i).create(e,{appName:t.name})}function ls(t){return I2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nb(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return C2.create(t,...e)}function Se(t,e,...n){if(!t)throw nb(e,...n)}function rs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xm(e),new Error(e)}function ds(t,e){t||rs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xL(){return J1()==="http:"||J1()==="https:"}function J1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xL()||J3()||"connection"in navigator)?navigator.onLine:!0}function wL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ds(n>e,"Short delay should be less than long delay!"),this.isMobile=Y3()||Z3()}get(){return EL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t,e){ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RL=new yf(3e4,6e4);function _s(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rr(t,e,n,i,s={}){return D2(t,s,async()=>{let o={},u={};i&&(e==="GET"?u=i:o={body:JSON.stringify(i)});const h=gf(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:f},o);return W3()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Pp(t.emulatorConfig.host)&&(d.credentials="include"),N2.fetch()(await P2(t,t.config.apiHost,n,h),d)})}async function D2(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},SL),e);try{const s=new IL(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw om(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw om(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw om(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw om(t,"user-disabled",u);const g=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw I2(t,g,d);Fi(t,g)}}catch(s){if(s instanceof vs)throw s;Fi(t,"network-request-failed",{message:String(s)})}}async function vf(t,e,n,i,s={}){const o=await Rr(t,e,n,i,s);return"mfaPendingCredential"in o&&Fi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function P2(t,e,n,i){const s=`${e}${n}?${i}`,o=t,u=o.config.emulator?ib(t.config,s):`${t.config.apiScheme}://${s}`;return AL.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function CL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class IL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(fr(this.auth,"network-request-failed")),RL.get())})}}function om(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=fr(t,e,i);return s.customData._tokenResponse=n,s}function Z1(t){return t!==void 0&&t.enterprise!==void 0}class NL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DL(t,e){return Rr(t,"GET","/v2/recaptchaConfig",_s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(t,e){return Rr(t,"POST","/v1/accounts:delete",e)}async function Km(t,e){return Rr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kL(t,e=!1){const n=jt(t),i=await n.getIdToken(e),s=rb(i);Se(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:Th(Vv(s.auth_time)),issuedAtTime:Th(Vv(s.iat)),expirationTime:Th(Vv(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Vv(t){return Number(t)*1e3}function rb(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return xm("JWT malformed, contained fewer than 3 sections"),null;try{const s=y2(n);return s?JSON.parse(s):(xm("Failed to decode base64 JWT payload"),null)}catch(s){return xm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function eS(t){const e=rb(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof vs&&OL(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function OL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Th(this.lastLoginAt),this.creationTime=Th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $m(t){var e;const n=t.auth,i=await t.getIdToken(),s=await xu(t,Km(n,{idToken:i}));Se(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?k2(o.providerUserInfo):[],h=VL(t.providerData,u),f=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!(h!=null&&h.length),g=f?d:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new q0(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function jL(t){const e=jt(t);await $m(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VL(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function k2(t){return t.map(e=>{var{providerId:n}=e,i=tb(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(t,e){const n=await D2(t,{},async()=>{const i=gf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,u=await P2(t,s,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",N2.fetch()(u,{method:"POST",headers:h,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UL(t,e){return Rr(t,"POST","/v2/accounts:revokeToken",_s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=eS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await LL(e,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,u=new tu;return i&&(Se(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),s&&(Se(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(Se(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tu,this.toJSON())}_performRefresh(){return rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ui{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,o=tb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ML(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new q0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await xu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kL(this,e)}reload(){return jL(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await $m(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ti(this.auth.app))return Promise.reject(ls(this.auth));const e=await this.getIdToken();return await xu(this,PL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,o,u,h,f,d,g;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,T=(s=n.email)!==null&&s!==void 0?s:void 0,x=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(u=n.photoURL)!==null&&u!==void 0?u:void 0,N=(h=n.tenantId)!==null&&h!==void 0?h:void 0,R=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,k=(d=n.createdAt)!==null&&d!==void 0?d:void 0,U=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:V,emailVerified:$,isAnonymous:A,providerData:q,stsTokenManager:M}=n;Se(V&&M,e,"internal-error");const C=tu.fromJSON(this.name,M);Se(typeof V=="string",e,"internal-error"),Qs(_,e.name),Qs(T,e.name),Se(typeof $=="boolean",e,"internal-error"),Se(typeof A=="boolean",e,"internal-error"),Qs(x,e.name),Qs(S,e.name),Qs(N,e.name),Qs(R,e.name),Qs(k,e.name),Qs(U,e.name);const P=new Ui({uid:V,auth:e,email:T,emailVerified:$,displayName:_,isAnonymous:A,photoURL:S,phoneNumber:x,tenantId:N,stsTokenManager:C,createdAt:k,lastLoginAt:U});return q&&Array.isArray(q)&&(P.providerData=q.map(j=>Object.assign({},j))),R&&(P._redirectEventId=R),P}static async _fromIdTokenResponse(e,n,i=!1){const s=new tu;s.updateFromServerResponse(n);const o=new Ui({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await $m(o),o}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];Se(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?k2(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),h=new tu;h.updateFromIdToken(i);const f=new Ui({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new q0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=new Map;function ss(t){ds(t instanceof Function,"Expected a class definition");let e=tS.get(t);return e?(ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}O2.type="NONE";const nS=O2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t,e,n){return`firebase:${t}:${e}:${n}`}class nu{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Em(this.userKey,s.apiKey,o),this.fullPersistenceKey=Em("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Km(this.auth,{idToken:e}).catch(()=>{});return n?Ui._fromGetAccountInfoResponse(this.auth,n,e):null}return Ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new nu(ss(nS),e,i);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||ss(nS);const u=Em(i,e.config.apiKey,e.name);let h=null;for(const d of n)try{const g=await d._get(u);if(g){let _;if(typeof g=="string"){const T=await Km(e,{idToken:g}).catch(()=>{});if(!T)break;_=await Ui._fromGetAccountInfoResponse(e,T,g)}else _=Ui._fromJSON(e,g);d!==o&&(h=_),o=d;break}}catch{}const f=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new nu(o,e,i):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new nu(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z2(e))return"Blackberry";if(B2(e))return"Webos";if(j2(e))return"Safari";if((e.includes("chrome/")||V2(e))&&!e.includes("edge/"))return"Chrome";if(U2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function M2(t=En()){return/firefox\//i.test(t)}function j2(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V2(t=En()){return/crios\//i.test(t)}function L2(t=En()){return/iemobile/i.test(t)}function U2(t=En()){return/android/i.test(t)}function z2(t=En()){return/blackberry/i.test(t)}function B2(t=En()){return/webos/i.test(t)}function sb(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zL(t=En()){var e;return sb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BL(){return e4()&&document.documentMode===10}function F2(t=En()){return sb(t)||U2(t)||B2(t)||z2(t)||/windows phone/i.test(t)||L2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t,e=[]){let n;switch(t){case"Browser":n=iS(En());break;case"Worker":n=`${iS(En())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(t,e={}){return Rr(t,"GET","/v2/passwordPolicy",_s(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=6;class GL{constructor(e){var n,i,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:HL,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rS(this),this.idTokenSubscription=new rS(this),this.beforeStateQueue=new FL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ss(n)),this._initializationPromise=this.queue(async()=>{var i,s,o;if(!this._deleted&&(this.persistenceManager=await nu.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Km(this,{idToken:e}),i=await Ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ti(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $m(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ti(this.app))return Promise.reject(ls(this));const n=e?jt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ti(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ti(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qL(this),n=new GL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pf("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await UL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ss(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await nu.create(this,[ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,s);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&TL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ca(t){return jt(t)}class rS{constructor(e){this.auth=e,this.observer=null,this.addObserver=l4(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $L(t){kp=t}function H2(t){return kp.loadJS(t)}function QL(){return kp.recaptchaEnterpriseScript}function YL(){return kp.gapiScript}function XL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class WL{constructor(){this.enterprise=new JL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZL="recaptcha-enterprise",G2="NO_RECAPTCHA";class eU{constructor(e){this.type=ZL,this.auth=Ca(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{DL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new NL(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{h(f)})})}function s(o,u,h){const f=window.grecaptcha;Z1(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(G2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WL().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{i(this.auth).then(h=>{if(!n&&Z1(window.grecaptcha))s(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=QL();f.length!==0&&(f+=h),H2(f).then(()=>{s(h,o,u)}).catch(d=>{u(d)})}}).catch(h=>{u(h)})})}}async function sS(t,e,n,i=!1,s=!1){const o=new eU(t);let u;if(s)u=G2;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Qm(t,e,n,i,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await sS(t,e,n,n==="getOobCode");return i(t,u)}else return i(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await sS(t,e,n,n==="getOobCode");return i(t,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(t,e){const n=Z_(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Vo(o,e??{}))return s;Fi(s,"already-initialized")}return n.initialize({options:e})}function nU(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ss);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function iU(t,e,n){const i=Ca(t);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=K2(e),{host:u,port:h}=rU(e),f=h===null?"":`:${h}`,d={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(Vo(d,i.config.emulator)&&Vo(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,sU(),Pp(u)&&T2(`${o}//${u}${f}`)}function K2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rU(t){const e=K2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:aS(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:aS(u)}}}function aS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,n){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}async function aU(t,e){return Rr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU(t,e){return vf(t,"POST","/v1/accounts:signInWithPassword",_s(t,e))}async function $2(t,e){return Rr(t,"POST","/v1/accounts:sendOobCode",_s(t,e))}async function lU(t,e){return $2(t,e)}async function uU(t,e){return $2(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cU(t,e){return vf(t,"POST","/v1/accounts:signInWithEmailLink",_s(t,e))}async function hU(t,e){return vf(t,"POST","/v1/accounts:signInWithEmailLink",_s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends ab{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Lh(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Lh(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qm(e,n,"signInWithPassword",oU);case"emailLink":return cU(e,{email:this._email,oobCode:this._password});default:Fi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qm(e,i,"signUpPassword",aU);case"emailLink":return hU(e,{idToken:n,email:this._email,oobCode:this._password});default:Fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(t,e){return vf(t,"POST","/v1/accounts:signInWithIdp",_s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU="http://localhost";class Uo extends ab{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,o=tb(n,["providerId","signInMethod"]);if(!i||!s)return null;const u=new Uo(i,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return iu(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,iu(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,iu(e,n)}buildRequest(){const e={requestUri:fU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mU(t){const e=dh(mh(t)).link,n=e?dh(mh(e)).deep_link_id:null,i=dh(mh(t)).deep_link_id;return(i?dh(mh(i)).link:null)||i||n||e||t}class ob{constructor(e){var n,i,s,o,u,h;const f=dh(mh(e)),d=(n=f.apiKey)!==null&&n!==void 0?n:null,g=(i=f.oobCode)!==null&&i!==void 0?i:null,_=dU((s=f.mode)!==null&&s!==void 0?s:null);Se(d&&g&&_,"argument-error"),this.apiKey=d,this.operation=_,this.code=g,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=mU(e);try{return new ob(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(){this.providerId=Lu.PROVIDER_ID}static credential(e,n){return Lh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=ob.parseLink(n);return Se(i,"argument-error"),Lh._fromEmailAndCode(e,i.code,i.tenantId)}}Lu.PROVIDER_ID="password";Lu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends Q2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends _f{constructor(){super("facebook.com")}static credential(e){return Uo._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends _f{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Uo._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Js.credential(n,i)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends _f{constructor(){super("github.com")}static credential(e){return Uo._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends _f{constructor(){super("twitter.com")}static credential(e,n){return Uo._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ea.credential(n,i)}catch{return null}}}ea.TWITTER_SIGN_IN_METHOD="twitter.com";ea.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(t,e){return vf(t,"POST","/v1/accounts:signUp",_s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const o=await Ui._fromIdTokenResponse(e,i,s),u=oS(i);return new zo({user:o,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=oS(i);return new zo({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function oS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym extends vs{constructor(e,n,i,s){var o;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Ym.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Ym(e,n,i,s)}}function Y2(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ym._fromErrorAndOperation(t,o,e,i):o})}async function gU(t,e,n=!1){const i=await xu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return zo._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(t,e,n=!1){const{auth:i}=t;if(Ti(i.app))return Promise.reject(ls(i));const s="reauthenticate";try{const o=await xu(t,Y2(i,s,e,t),n);Se(o.idToken,i,"internal-error");const u=rb(o.idToken);Se(u,i,"internal-error");const{sub:h}=u;return Se(t.uid===h,i,"user-mismatch"),zo._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Fi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(t,e,n=!1){if(Ti(t.app))return Promise.reject(ls(t));const i="signIn",s=await Y2(t,i,e),o=await zo._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(o.user),o}async function vU(t,e){return X2(Ca(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(t){const e=Ca(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _U(t,e,n){const i=Ca(t);await Qm(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",uU)}async function bU(t,e,n){if(Ti(t.app))return Promise.reject(ls(t));const i=Ca(t),u=await Qm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pU).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&W2(t),f}),h=await zo._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function TU(t,e,n){return Ti(t.app)?Promise.reject(ls(t)):vU(jt(t),Lu.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&W2(t),i})}async function lb(t,e){const n=jt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await lU(n.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xU(t,e){return Rr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EU(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=jt(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await xu(i,xU(i.auth,o));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const h=i.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function wU(t,e,n,i){return jt(t).onIdTokenChanged(e,n,i)}function SU(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function J2(t,e,n,i){return jt(t).onAuthStateChanged(e,n,i)}function Z2(t){return jt(t).signOut()}const Xm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xm,"1"),this.storage.removeItem(Xm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=1e3,RU=10;class tI extends eI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);BL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,RU):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},AU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tI.type="LOCAL";const CU=tI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI extends eI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nI.type="SESSION";const iI=nI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Op(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:o}=n.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const h=Array.from(u).map(async d=>d(n.origin,o)),f=await IU(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Op.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const d=ub("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:s,onMessage(_){const T=_;if(T.data.eventId===d)switch(T.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(T.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function DU(t){dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function PU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function OU(){return rI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="firebaseLocalStorageDb",MU=1,Wm="firebaseLocalStorage",aI="fbase_key";class bf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mp(t,e){return t.transaction([Wm],e?"readwrite":"readonly").objectStore(Wm)}function jU(){const t=indexedDB.deleteDatabase(sI);return new bf(t).toPromise()}function H0(){const t=indexedDB.open(sI,MU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Wm,{keyPath:aI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Wm)?e(i):(i.close(),await jU(),e(await H0()))})})}async function lS(t,e,n){const i=Mp(t,!0).put({[aI]:e,value:n});return new bf(i).toPromise()}async function VU(t,e){const n=Mp(t,!1).get(e),i=await new bf(n).toPromise();return i===void 0?null:i.value}function uS(t,e){const n=Mp(t,!0).delete(e);return new bf(n).toPromise()}const LU=800,UU=3;class oI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await H0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>UU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Op._getInstance(OU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await PU(),!this.activeServiceWorker)return;this.sender=new NU(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await H0();return await lS(e,Xm,"1"),await uS(e,Xm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>lS(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>VU(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>uS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Mp(s,!1).getAll();return new bf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oI.type="LOCAL";const zU=oI;new yf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(t,e){return e?ss(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb extends ab{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return iu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return iu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return iu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FU(t){return X2(t.auth,new cb(t),t.bypassAuthState)}function qU(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),yU(n,new cb(t),t.bypassAuthState)}async function HU(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),gU(n,new cb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FU;case"linkViaPopup":case"linkViaRedirect":return HU;case"reauthViaPopup":case"reauthViaRedirect":return qU;default:Fi(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=new yf(2e3,1e4);class Kl extends lI{constructor(e,n,i,s,o){super(e,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,Kl.currentPopupAction&&Kl.currentPopupAction.cancel(),Kl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=ub();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GU.get())};e()}}Kl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU="pendingRedirect",wm=new Map;class $U extends lI{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=wm.get(this.auth._key());if(!e){try{const i=await QU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}wm.set(this.auth._key(),e)}return this.bypassAuthState||wm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QU(t,e){const n=WU(e),i=XU(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function YU(t,e){wm.set(t._key(),e)}function XU(t){return ss(t._redirectPersistence)}function WU(t){return Em(KU,t.config.apiKey,t.name)}async function JU(t,e,n=!1){if(Ti(t.app))return Promise.reject(ls(t));const i=Ca(t),s=BU(i,e),u=await new $U(i,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU=10*60*1e3;class ez{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!uI(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(fr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZU&&this.cachedEventUids.clear(),this.cachedEventUids.has(cS(e))}saveEventToCache(e){this.cachedEventUids.add(cS(e)),this.lastProcessedEventTime=Date.now()}}function cS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nz(t,e={}){return Rr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rz=/^https?/;async function sz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nz(t);for(const n of e)try{if(az(n))return}catch{}Fi(t,"unauthorized-domain")}function az(t){const e=F0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!rz.test(n))return!1;if(iz.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz=new yf(3e4,6e4);function hS(){const t=dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lz(t){return new Promise((e,n)=>{var i,s,o;function u(){hS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hS(),n(fr(t,"network-request-failed"))},timeout:oz.get()})}if(!((s=(i=dr().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=dr().gapi)===null||o===void 0)&&o.load)u();else{const h=XL("iframefcb");return dr()[h]=()=>{gapi.load?u():n(fr(t,"network-request-failed"))},H2(`${YL()}?onload=${h}`).catch(f=>n(f))}}).catch(e=>{throw Sm=null,e})}let Sm=null;function uz(t){return Sm=Sm||lz(t),Sm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz=new yf(5e3,15e3),hz="__/auth/iframe",fz="emulator/auth/iframe",dz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pz(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ib(e,fz):`https://${t.config.authDomain}/${hz}`,i={apiKey:e.apiKey,appName:t.name,v:Vu},s=mz.get(t.config.apiHost);s&&(i.eid=s);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${gf(i).slice(1)}`}async function gz(t){const e=await uz(t),n=dr().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:pz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dz,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const u=fr(t,"network-request-failed"),h=dr().setTimeout(()=>{o(u)},cz.get());function f(){dr().clearTimeout(h),s(i)}i.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vz=500,_z=600,bz="_blank",Tz="http://localhost";class fS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xz(t,e,n,i=vz,s=_z){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},yz),{width:i.toString(),height:s.toString(),top:o,left:u}),d=En().toLowerCase();n&&(h=V2(d)?bz:n),M2(d)&&(e=e||Tz,f.scrollbars="yes");const g=Object.entries(f).reduce((T,[x,S])=>`${T}${x}=${S},`,"");if(zL(d)&&h!=="_self")return Ez(e||"",h),new fS(null);const _=window.open(e||"",h,g);Se(_,t,"popup-blocked");try{_.focus()}catch{}return new fS(_)}function Ez(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz="__/auth/handler",Sz="emulator/auth/handler",Az=encodeURIComponent("fac");async function dS(t,e,n,i,s,o){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Vu,eventId:s};if(e instanceof Q2){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",o4(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))u[g]=_}if(e instanceof _f){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await t._getAppCheckToken(),d=f?`#${Az}=${encodeURIComponent(f)}`:"";return`${Rz(t)}?${gf(h).slice(1)}${d}`}function Rz({config:t}){return t.emulator?ib(t,Sz):`https://${t.authDomain}/${wz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="webStorageSupport";class Cz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iI,this._completeRedirectFn=JU,this._overrideRedirectResult=YU}async _openPopup(e,n,i,s){var o;ds((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await dS(e,n,i,F0(),s);return xz(e,u,ub())}async _openRedirect(e,n,i,s){await this._originValidation(e);const o=await dS(e,n,i,F0(),s);return DU(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(ds(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await gz(e),i=new ez(e);return n.register("authEvent",s=>(Se(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lv,{type:Lv},s=>{var o;const u=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Lv];u!==void 0&&n(!!u),Fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return F2()||j2()||sb()}}const Iz=Cz;var mS="@firebase/auth",pS="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Pz(t){Tu(new Lo("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q2(t)},d=new KL(i,s,o,f);return nU(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Tu(new Lo("auth-internal",e=>{const n=Ca(e.getProvider("auth").getImmediate());return(i=>new Nz(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),da(mS,pS,Dz(t)),da(mS,pS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz=5*60,Oz=b2("authIdTokenMaxAge")||kz;let gS=null;const Mz=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Oz)return;const s=n==null?void 0:n.token;gS!==s&&(gS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Uu(t=eb()){const e=Z_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tU(t,{popupRedirectResolver:Iz,persistence:[zU,CU,iI]}),i=b2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=Mz(o.toString());SU(n,u,()=>u(n.currentUser)),wU(n,h=>u(h))}}const s=v2("auth");return s&&iU(n,`http://${s}`),n}function jz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$L({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const o=fr("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",jz().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Pz("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Vz(t,e,n,i){function s(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function h(g){try{d(i.next(g))}catch(_){u(_)}}function f(g){try{d(i.throw(g))}catch(_){u(_)}}function d(g){g.done?o(g.value):s(g.value).then(h,f)}d((i=i.apply(t,[])).next())})}function Lz(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(d){return function(g){return f([d,g])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(g){d=[6,g],s=0}finally{i=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $l=function(){return $l=Object.assign||function(e){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},$l.apply(this,arguments)},cI=function(t){return{loading:t==null,value:t}},Uz=function(){return function(t,e){switch(e.type){case"error":return $l($l({},t),{error:e.error,loading:!1,value:void 0});case"reset":return cI(e.defaultValue);case"value":return $l($l({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},zz=function(t){var e=t?t():void 0,n=I.useReducer(Uz(),cI(e)),i=n[0],s=n[1],o=I.useCallback(function(){var f=t?t():void 0;s({type:"reset",defaultValue:f})},[t]),u=I.useCallback(function(f){s({type:"error",error:f})},[]),h=I.useCallback(function(f){s({type:"value",value:f})},[]);return I.useMemo(function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:h,value:i.value}},[i.error,i.loading,o,u,h,i.value])},hI=function(t,e){var n=zz(function(){return t.currentUser}),i=n.error,s=n.loading,o=n.setError,u=n.setValue,h=n.value;return I.useEffect(function(){var f=J2(t,function(d){return Vz(void 0,void 0,void 0,function(){var g;return Lz(this,function(_){switch(_.label){case 0:return[3,4];case 1:return _.trys.push([1,3,,4]),[4,e.onUserChanged(d)];case 2:return _.sent(),[3,4];case 3:return g=_.sent(),o(g),[3,4];case 4:return u(d),[2]}})})},o);return function(){f()}},[t]),[h,s,i]},Bz="firebase",Fz="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */da(Bz,Fz,"app");var yS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ma,fI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function P(){}P.prototype=C.prototype,M.D=C.prototype,M.prototype=new P,M.prototype.constructor=M,M.C=function(j,F,H){for(var L=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)L[fe-2]=arguments[fe];return C.prototype[F].apply(j,L)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,C,P){P||(P=0);var j=Array(16);if(typeof C=="string")for(var F=0;16>F;++F)j[F]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(F=0;16>F;++F)j[F]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=M.g[0],P=M.g[1],F=M.g[2];var H=M.g[3],L=C+(H^P&(F^H))+j[0]+3614090360&4294967295;C=P+(L<<7&4294967295|L>>>25),L=H+(F^C&(P^F))+j[1]+3905402710&4294967295,H=C+(L<<12&4294967295|L>>>20),L=F+(P^H&(C^P))+j[2]+606105819&4294967295,F=H+(L<<17&4294967295|L>>>15),L=P+(C^F&(H^C))+j[3]+3250441966&4294967295,P=F+(L<<22&4294967295|L>>>10),L=C+(H^P&(F^H))+j[4]+4118548399&4294967295,C=P+(L<<7&4294967295|L>>>25),L=H+(F^C&(P^F))+j[5]+1200080426&4294967295,H=C+(L<<12&4294967295|L>>>20),L=F+(P^H&(C^P))+j[6]+2821735955&4294967295,F=H+(L<<17&4294967295|L>>>15),L=P+(C^F&(H^C))+j[7]+4249261313&4294967295,P=F+(L<<22&4294967295|L>>>10),L=C+(H^P&(F^H))+j[8]+1770035416&4294967295,C=P+(L<<7&4294967295|L>>>25),L=H+(F^C&(P^F))+j[9]+2336552879&4294967295,H=C+(L<<12&4294967295|L>>>20),L=F+(P^H&(C^P))+j[10]+4294925233&4294967295,F=H+(L<<17&4294967295|L>>>15),L=P+(C^F&(H^C))+j[11]+2304563134&4294967295,P=F+(L<<22&4294967295|L>>>10),L=C+(H^P&(F^H))+j[12]+1804603682&4294967295,C=P+(L<<7&4294967295|L>>>25),L=H+(F^C&(P^F))+j[13]+4254626195&4294967295,H=C+(L<<12&4294967295|L>>>20),L=F+(P^H&(C^P))+j[14]+2792965006&4294967295,F=H+(L<<17&4294967295|L>>>15),L=P+(C^F&(H^C))+j[15]+1236535329&4294967295,P=F+(L<<22&4294967295|L>>>10),L=C+(F^H&(P^F))+j[1]+4129170786&4294967295,C=P+(L<<5&4294967295|L>>>27),L=H+(P^F&(C^P))+j[6]+3225465664&4294967295,H=C+(L<<9&4294967295|L>>>23),L=F+(C^P&(H^C))+j[11]+643717713&4294967295,F=H+(L<<14&4294967295|L>>>18),L=P+(H^C&(F^H))+j[0]+3921069994&4294967295,P=F+(L<<20&4294967295|L>>>12),L=C+(F^H&(P^F))+j[5]+3593408605&4294967295,C=P+(L<<5&4294967295|L>>>27),L=H+(P^F&(C^P))+j[10]+38016083&4294967295,H=C+(L<<9&4294967295|L>>>23),L=F+(C^P&(H^C))+j[15]+3634488961&4294967295,F=H+(L<<14&4294967295|L>>>18),L=P+(H^C&(F^H))+j[4]+3889429448&4294967295,P=F+(L<<20&4294967295|L>>>12),L=C+(F^H&(P^F))+j[9]+568446438&4294967295,C=P+(L<<5&4294967295|L>>>27),L=H+(P^F&(C^P))+j[14]+3275163606&4294967295,H=C+(L<<9&4294967295|L>>>23),L=F+(C^P&(H^C))+j[3]+4107603335&4294967295,F=H+(L<<14&4294967295|L>>>18),L=P+(H^C&(F^H))+j[8]+1163531501&4294967295,P=F+(L<<20&4294967295|L>>>12),L=C+(F^H&(P^F))+j[13]+2850285829&4294967295,C=P+(L<<5&4294967295|L>>>27),L=H+(P^F&(C^P))+j[2]+4243563512&4294967295,H=C+(L<<9&4294967295|L>>>23),L=F+(C^P&(H^C))+j[7]+1735328473&4294967295,F=H+(L<<14&4294967295|L>>>18),L=P+(H^C&(F^H))+j[12]+2368359562&4294967295,P=F+(L<<20&4294967295|L>>>12),L=C+(P^F^H)+j[5]+4294588738&4294967295,C=P+(L<<4&4294967295|L>>>28),L=H+(C^P^F)+j[8]+2272392833&4294967295,H=C+(L<<11&4294967295|L>>>21),L=F+(H^C^P)+j[11]+1839030562&4294967295,F=H+(L<<16&4294967295|L>>>16),L=P+(F^H^C)+j[14]+4259657740&4294967295,P=F+(L<<23&4294967295|L>>>9),L=C+(P^F^H)+j[1]+2763975236&4294967295,C=P+(L<<4&4294967295|L>>>28),L=H+(C^P^F)+j[4]+1272893353&4294967295,H=C+(L<<11&4294967295|L>>>21),L=F+(H^C^P)+j[7]+4139469664&4294967295,F=H+(L<<16&4294967295|L>>>16),L=P+(F^H^C)+j[10]+3200236656&4294967295,P=F+(L<<23&4294967295|L>>>9),L=C+(P^F^H)+j[13]+681279174&4294967295,C=P+(L<<4&4294967295|L>>>28),L=H+(C^P^F)+j[0]+3936430074&4294967295,H=C+(L<<11&4294967295|L>>>21),L=F+(H^C^P)+j[3]+3572445317&4294967295,F=H+(L<<16&4294967295|L>>>16),L=P+(F^H^C)+j[6]+76029189&4294967295,P=F+(L<<23&4294967295|L>>>9),L=C+(P^F^H)+j[9]+3654602809&4294967295,C=P+(L<<4&4294967295|L>>>28),L=H+(C^P^F)+j[12]+3873151461&4294967295,H=C+(L<<11&4294967295|L>>>21),L=F+(H^C^P)+j[15]+530742520&4294967295,F=H+(L<<16&4294967295|L>>>16),L=P+(F^H^C)+j[2]+3299628645&4294967295,P=F+(L<<23&4294967295|L>>>9),L=C+(F^(P|~H))+j[0]+4096336452&4294967295,C=P+(L<<6&4294967295|L>>>26),L=H+(P^(C|~F))+j[7]+1126891415&4294967295,H=C+(L<<10&4294967295|L>>>22),L=F+(C^(H|~P))+j[14]+2878612391&4294967295,F=H+(L<<15&4294967295|L>>>17),L=P+(H^(F|~C))+j[5]+4237533241&4294967295,P=F+(L<<21&4294967295|L>>>11),L=C+(F^(P|~H))+j[12]+1700485571&4294967295,C=P+(L<<6&4294967295|L>>>26),L=H+(P^(C|~F))+j[3]+2399980690&4294967295,H=C+(L<<10&4294967295|L>>>22),L=F+(C^(H|~P))+j[10]+4293915773&4294967295,F=H+(L<<15&4294967295|L>>>17),L=P+(H^(F|~C))+j[1]+2240044497&4294967295,P=F+(L<<21&4294967295|L>>>11),L=C+(F^(P|~H))+j[8]+1873313359&4294967295,C=P+(L<<6&4294967295|L>>>26),L=H+(P^(C|~F))+j[15]+4264355552&4294967295,H=C+(L<<10&4294967295|L>>>22),L=F+(C^(H|~P))+j[6]+2734768916&4294967295,F=H+(L<<15&4294967295|L>>>17),L=P+(H^(F|~C))+j[13]+1309151649&4294967295,P=F+(L<<21&4294967295|L>>>11),L=C+(F^(P|~H))+j[4]+4149444226&4294967295,C=P+(L<<6&4294967295|L>>>26),L=H+(P^(C|~F))+j[11]+3174756917&4294967295,H=C+(L<<10&4294967295|L>>>22),L=F+(C^(H|~P))+j[2]+718787259&4294967295,F=H+(L<<15&4294967295|L>>>17),L=P+(H^(F|~C))+j[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(F+(L<<21&4294967295|L>>>11))&4294967295,M.g[2]=M.g[2]+F&4294967295,M.g[3]=M.g[3]+H&4294967295}i.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var P=C-this.blockSize,j=this.B,F=this.h,H=0;H<C;){if(F==0)for(;H<=P;)s(this,M,H),H+=this.blockSize;if(typeof M=="string"){for(;H<C;)if(j[F++]=M.charCodeAt(H++),F==this.blockSize){s(this,j),F=0;break}}else for(;H<C;)if(j[F++]=M[H++],F==this.blockSize){s(this,j),F=0;break}}this.h=F,this.o+=C},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var P=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=P&255,P/=256;for(this.u(M),M=Array(16),C=P=0;4>C;++C)for(var j=0;32>j;j+=8)M[P++]=this.g[C]>>>j&255;return M};function o(M,C){var P=h;return Object.prototype.hasOwnProperty.call(P,M)?P[M]:P[M]=C(M)}function u(M,C){this.h=C;for(var P=[],j=!0,F=M.length-1;0<=F;F--){var H=M[F]|0;j&&H==C||(P[F]=H,j=!1)}this.g=P}var h={};function f(M){return-128<=M&&128>M?o(M,function(C){return new u([C|0],0>C?-1:0)}):new u([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return R(d(-M));for(var C=[],P=1,j=0;M>=P;j++)C[j]=M/P|0,P*=4294967296;return new u(C,0)}function g(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return R(g(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=d(Math.pow(C,8)),j=_,F=0;F<M.length;F+=8){var H=Math.min(8,M.length-F),L=parseInt(M.substring(F,F+H),C);8>H?(H=d(Math.pow(C,H)),j=j.j(H).add(d(L))):(j=j.j(P),j=j.add(d(L)))}return j}var _=f(0),T=f(1),x=f(16777216);t=u.prototype,t.m=function(){if(N(this))return-R(this).m();for(var M=0,C=1,P=0;P<this.g.length;P++){var j=this.i(P);M+=(0<=j?j:4294967296+j)*C,C*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(S(this))return"0";if(N(this))return"-"+R(this).toString(M);for(var C=d(Math.pow(M,6)),P=this,j="";;){var F=$(P,C).g;P=k(P,F.j(C));var H=((0<P.g.length?P.g[0]:P.h)>>>0).toString(M);if(P=F,S(P))return H+j;for(;6>H.length;)H="0"+H;j=H+j}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function S(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function N(M){return M.h==-1}t.l=function(M){return M=k(this,M),N(M)?-1:S(M)?0:1};function R(M){for(var C=M.g.length,P=[],j=0;j<C;j++)P[j]=~M.g[j];return new u(P,~M.h).add(T)}t.abs=function(){return N(this)?R(this):this},t.add=function(M){for(var C=Math.max(this.g.length,M.g.length),P=[],j=0,F=0;F<=C;F++){var H=j+(this.i(F)&65535)+(M.i(F)&65535),L=(H>>>16)+(this.i(F)>>>16)+(M.i(F)>>>16);j=L>>>16,H&=65535,L&=65535,P[F]=L<<16|H}return new u(P,P[P.length-1]&-2147483648?-1:0)};function k(M,C){return M.add(R(C))}t.j=function(M){if(S(this)||S(M))return _;if(N(this))return N(M)?R(this).j(R(M)):R(R(this).j(M));if(N(M))return R(this.j(R(M)));if(0>this.l(x)&&0>M.l(x))return d(this.m()*M.m());for(var C=this.g.length+M.g.length,P=[],j=0;j<2*C;j++)P[j]=0;for(j=0;j<this.g.length;j++)for(var F=0;F<M.g.length;F++){var H=this.i(j)>>>16,L=this.i(j)&65535,fe=M.i(F)>>>16,Oe=M.i(F)&65535;P[2*j+2*F]+=L*Oe,U(P,2*j+2*F),P[2*j+2*F+1]+=H*Oe,U(P,2*j+2*F+1),P[2*j+2*F+1]+=L*fe,U(P,2*j+2*F+1),P[2*j+2*F+2]+=H*fe,U(P,2*j+2*F+2)}for(j=0;j<C;j++)P[j]=P[2*j+1]<<16|P[2*j];for(j=C;j<2*C;j++)P[j]=0;return new u(P,0)};function U(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function V(M,C){this.g=M,this.h=C}function $(M,C){if(S(C))throw Error("division by zero");if(S(M))return new V(_,_);if(N(M))return C=$(R(M),C),new V(R(C.g),R(C.h));if(N(C))return C=$(M,R(C)),new V(R(C.g),C.h);if(30<M.g.length){if(N(M)||N(C))throw Error("slowDivide_ only works with positive integers.");for(var P=T,j=C;0>=j.l(M);)P=A(P),j=A(j);var F=q(P,1),H=q(j,1);for(j=q(j,2),P=q(P,2);!S(j);){var L=H.add(j);0>=L.l(M)&&(F=F.add(P),H=L),j=q(j,1),P=q(P,1)}return C=k(M,F.j(C)),new V(F,C)}for(F=_;0<=M.l(C);){for(P=Math.max(1,Math.floor(M.m()/C.m())),j=Math.ceil(Math.log(P)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),H=d(P),L=H.j(C);N(L)||0<L.l(M);)P-=j,H=d(P),L=H.j(C);S(H)&&(H=T),F=F.add(H),M=k(M,L)}return new V(F,M)}t.A=function(M){return $(this,M).h},t.and=function(M){for(var C=Math.max(this.g.length,M.g.length),P=[],j=0;j<C;j++)P[j]=this.i(j)&M.i(j);return new u(P,this.h&M.h)},t.or=function(M){for(var C=Math.max(this.g.length,M.g.length),P=[],j=0;j<C;j++)P[j]=this.i(j)|M.i(j);return new u(P,this.h|M.h)},t.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),P=[],j=0;j<C;j++)P[j]=this.i(j)^M.i(j);return new u(P,this.h^M.h)};function A(M){for(var C=M.g.length+1,P=[],j=0;j<C;j++)P[j]=M.i(j)<<1|M.i(j-1)>>>31;return new u(P,M.h)}function q(M,C){var P=C>>5;C%=32;for(var j=M.g.length-P,F=[],H=0;H<j;H++)F[H]=0<C?M.i(H+P)>>>C|M.i(H+P+1)<<32-C:M.i(H+P);return new u(F,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,fI=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,ma=u}).apply(typeof yS<"u"?yS:typeof self<"u"?self:typeof window<"u"?window:{});var lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dI,ph,mI,Am,G0,pI,gI,yI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,b,E){return m==Array.prototype||m==Object.prototype||(m[b]=E.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof lm=="object"&&lm];for(var b=0;b<m.length;++b){var E=m[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function s(m,b){if(b)e:{var E=i;m=m.split(".");for(var O=0;O<m.length-1;O++){var Y=m[O];if(!(Y in E))break e;E=E[Y]}m=m[m.length-1],O=E[m],b=b(O),b!=O&&b!=null&&e(E,m,{configurable:!0,writable:!0,value:b})}}function o(m,b){m instanceof String&&(m+="");var E=0,O=!1,Y={next:function(){if(!O&&E<m.length){var ne=E++;return{value:b(ne,m[ne]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(m){return m||function(){return o(this,function(b,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(m){var b=typeof m;return b=b!="object"?b:m?Array.isArray(m)?"array":b:"null",b=="array"||b=="object"&&typeof m.length=="number"}function d(m){var b=typeof m;return b=="object"&&m!=null||b=="function"}function g(m,b,E){return m.call.apply(m.bind,arguments)}function _(m,b,E){if(!m)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,O),m.apply(b,Y)}}return function(){return m.apply(b,arguments)}}function T(m,b,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,T.apply(null,arguments)}function x(m,b){var E=Array.prototype.slice.call(arguments,1);return function(){var O=E.slice();return O.push.apply(O,arguments),m.apply(this,O)}}function S(m,b){function E(){}E.prototype=b.prototype,m.aa=b.prototype,m.prototype=new E,m.prototype.constructor=m,m.Qb=function(O,Y,ne){for(var de=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)de[Ge-2]=arguments[Ge];return b.prototype[Y].apply(O,de)}}function N(m){const b=m.length;if(0<b){const E=Array(b);for(let O=0;O<b;O++)E[O]=m[O];return E}return[]}function R(m,b){for(let E=1;E<arguments.length;E++){const O=arguments[E];if(f(O)){const Y=m.length||0,ne=O.length||0;m.length=Y+ne;for(let de=0;de<ne;de++)m[Y+de]=O[de]}else m.push(O)}}class k{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function U(m){return/^[\s\xa0]*$/.test(m)}function V(){var m=h.navigator;return m&&(m=m.userAgent)?m:""}function $(m){return $[" "](m),m}$[" "]=function(){};var A=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function q(m,b,E){for(const O in m)b.call(E,m[O],O,m)}function M(m,b){for(const E in m)b.call(void 0,m[E],E,m)}function C(m){const b={};for(const E in m)b[E]=m[E];return b}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(m,b){let E,O;for(let Y=1;Y<arguments.length;Y++){O=arguments[Y];for(E in O)m[E]=O[E];for(let ne=0;ne<P.length;ne++)E=P[ne],Object.prototype.hasOwnProperty.call(O,E)&&(m[E]=O[E])}}function F(m){var b=1;m=m.split(":");const E=[];for(;0<b&&m.length;)E.push(m.shift()),b--;return m.length&&E.push(m.join(":")),E}function H(m){h.setTimeout(()=>{throw m},0)}function L(){var m=me;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}class fe{constructor(){this.h=this.g=null}add(b,E){const O=Oe.get();O.set(b,E),this.h?this.h.next=O:this.g=O,this.h=O}}var Oe=new k(()=>new Z,m=>m.reset());class Z{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let te,re=!1,me=new fe,z=()=>{const m=h.Promise.resolve(void 0);te=()=>{m.then(ae)}};var ae=()=>{for(var m;m=L();){try{m.h.call(m.g)}catch(E){H(E)}var b=Oe;b.j(m),100>b.h&&(b.h++,m.next=b.g,b.g=m)}re=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const E=()=>{};h.addEventListener("test",E,b),h.removeEventListener("test",E,b)}catch{}return m}();function Ne(m,b){if(le.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var E=this.type=m.type,O=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget){if(A){e:{try{$(b.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(b=null)}}else E=="mouseover"?b=m.fromElement:E=="mouseout"&&(b=m.toElement);this.relatedTarget=b,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Re[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Ne.aa.h.call(this)}}S(Ne,le);var Re={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),De=0;function lt(m,b,E,O,Y){this.listener=m,this.proxy=null,this.src=b,this.type=E,this.capture=!!O,this.ha=Y,this.key=++De,this.da=this.fa=!1}function fn(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Jt(m){this.src=m,this.g={},this.h=0}Jt.prototype.add=function(m,b,E,O,Y){var ne=m.toString();m=this.g[ne],m||(m=this.g[ne]=[],this.h++);var de=Pa(m,b,O,Y);return-1<de?(b=m[de],E||(b.fa=!1)):(b=new lt(b,this.src,ne,!!O,Y),b.fa=E,m.push(b)),b};function Pn(m,b){var E=b.type;if(E in m.g){var O=m.g[E],Y=Array.prototype.indexOf.call(O,b,void 0),ne;(ne=0<=Y)&&Array.prototype.splice.call(O,Y,1),ne&&(fn(b),m.g[E].length==0&&(delete m.g[E],m.h--))}}function Pa(m,b,E,O){for(var Y=0;Y<m.length;++Y){var ne=m[Y];if(!ne.da&&ne.listener==b&&ne.capture==!!E&&ne.ha==O)return Y}return-1}var ka="closure_lm_"+(1e6*Math.random()|0),Xu={};function Pf(m,b,E,O,Y){if(Array.isArray(b)){for(var ne=0;ne<b.length;ne++)Pf(m,b[ne],E,O,Y);return null}return E=kf(E),m&&m[ft]?m.K(b,E,d(O)?!!O.capture:!1,Y):ri(m,b,E,!1,O,Y)}function ri(m,b,E,O,Y,ne){if(!b)throw Error("Invalid event type");var de=d(Y)?!!Y.capture:!!Y,Ge=Yo(m);if(Ge||(m[ka]=Ge=new Jt(m)),E=Ge.add(b,E,O,de,ne),E.proxy)return E;if(O=ug(),E.proxy=O,O.src=m,O.listener=E,m.addEventListener)_e||(Y=de),Y===void 0&&(Y=!1),m.addEventListener(b.toString(),O,Y);else if(m.attachEvent)m.attachEvent(Oa(b.toString()),O);else if(m.addListener&&m.removeListener)m.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ug(){function m(E){return b.call(m.src,m.listener,E)}const b=cg;return m}function Wu(m,b,E,O,Y){if(Array.isArray(b))for(var ne=0;ne<b.length;ne++)Wu(m,b[ne],E,O,Y);else O=d(O)?!!O.capture:!!O,E=kf(E),m&&m[ft]?(m=m.i,b=String(b).toString(),b in m.g&&(ne=m.g[b],E=Pa(ne,E,O,Y),-1<E&&(fn(ne[E]),Array.prototype.splice.call(ne,E,1),ne.length==0&&(delete m.g[b],m.h--)))):m&&(m=Yo(m))&&(b=m.g[b.toString()],m=-1,b&&(m=Pa(b,E,O,Y)),(E=-1<m?b[m]:null)&&Qo(E))}function Qo(m){if(typeof m!="number"&&m&&!m.da){var b=m.src;if(b&&b[ft])Pn(b.i,m);else{var E=m.type,O=m.proxy;b.removeEventListener?b.removeEventListener(E,O,m.capture):b.detachEvent?b.detachEvent(Oa(E),O):b.addListener&&b.removeListener&&b.removeListener(O),(E=Yo(b))?(Pn(E,m),E.h==0&&(E.src=null,b[ka]=null)):fn(m)}}}function Oa(m){return m in Xu?Xu[m]:Xu[m]="on"+m}function cg(m,b){if(m.da)m=!0;else{b=new Ne(b,this);var E=m.listener,O=m.ha||m.src;m.fa&&Qo(m),m=E.call(O,b)}return m}function Yo(m){return m=m[ka],m instanceof Jt?m:null}var Ju="__closure_events_fn_"+(1e9*Math.random()>>>0);function kf(m){return typeof m=="function"?m:(m[Ju]||(m[Ju]=function(b){return m.handleEvent(b)}),m[Ju])}function bt(){he.call(this),this.i=new Jt(this),this.M=this,this.F=null}S(bt,he),bt.prototype[ft]=!0,bt.prototype.removeEventListener=function(m,b,E,O){Wu(this,m,b,E,O)};function tt(m,b){var E,O=m.F;if(O)for(E=[];O;O=O.F)E.push(O);if(m=m.M,O=b.type||b,typeof b=="string")b=new le(b,m);else if(b instanceof le)b.target=b.target||m;else{var Y=b;b=new le(O,m),j(b,Y)}if(Y=!0,E)for(var ne=E.length-1;0<=ne;ne--){var de=b.g=E[ne];Y=zn(de,O,!0,b)&&Y}if(de=b.g=m,Y=zn(de,O,!0,b)&&Y,Y=zn(de,O,!1,b)&&Y,E)for(ne=0;ne<E.length;ne++)de=b.g=E[ne],Y=zn(de,O,!1,b)&&Y}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var m=this.i,b;for(b in m.g){for(var E=m.g[b],O=0;O<E.length;O++)fn(E[O]);delete m.g[b],m.h--}}this.F=null},bt.prototype.K=function(m,b,E,O){return this.i.add(String(m),b,!1,E,O)},bt.prototype.L=function(m,b,E,O){return this.i.add(String(m),b,!0,E,O)};function zn(m,b,E,O){if(b=m.i.g[String(b)],!b)return!0;b=b.concat();for(var Y=!0,ne=0;ne<b.length;++ne){var de=b[ne];if(de&&!de.da&&de.capture==E){var Ge=de.listener,Lt=de.ha||de.src;de.fa&&Pn(m.i,de),Y=Ge.call(Lt,O)!==!1&&Y}}return Y&&!O.defaultPrevented}function dn(m,b,E){if(typeof m=="function")E&&(m=T(m,E));else if(m&&typeof m.handleEvent=="function")m=T(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:h.setTimeout(m,b||0)}function Of(m){m.g=dn(()=>{m.g=null,m.i&&(m.i=!1,Of(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}class hg extends he{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Of(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ma(m){he.call(this),this.h=m,this.g={}}S(Ma,he);var ja=[];function Va(m){q(m.g,function(b,E){this.g.hasOwnProperty(E)&&Qo(b)},m),m.g={}}Ma.prototype.N=function(){Ma.aa.N.call(this),Va(this)},Ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ai=h.JSON.stringify,Xo=h.JSON.parse,La=class{stringify(m){return h.JSON.stringify(m,void 0)}parse(m){return h.JSON.parse(m,void 0)}};function Zu(){}Zu.prototype.h=null;function ec(m){return m.h||(m.h=m.i())}function tc(){}var Ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nr(){le.call(this,"d")}S(Nr,le);function nc(){le.call(this,"c")}S(nc,le);var Gi={},ic=null;function bs(){return ic=ic||new bt}Gi.La="serverreachability";function Wo(m){le.call(this,Gi.La,m)}S(Wo,le);function Ts(m){const b=bs();tt(b,new Wo(b))}Gi.STAT_EVENT="statevent";function Mf(m,b){le.call(this,Gi.STAT_EVENT,m),this.stat=b}S(Mf,le);function mt(m){const b=bs();tt(b,new Mf(b,m))}Gi.Ma="timingevent";function Vt(m,b){le.call(this,Gi.Ma,m),this.size=b}S(Vt,le);function Nt(m,b){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){m()},b)}function si(){this.g=!0}si.prototype.xa=function(){this.g=!1};function rc(m,b,E,O,Y,ne){m.info(function(){if(m.g)if(ne)for(var de="",Ge=ne.split("&"),Lt=0;Lt<Ge.length;Lt++){var Ke=Ge[Lt].split("=");if(1<Ke.length){var $t=Ke[0];Ke=Ke[1];var Ut=$t.split("_");de=2<=Ut.length&&Ut[1]=="type"?de+($t+"="+Ke+"&"):de+($t+"=redacted&")}}else de=null;else de=ne;return"XMLHTTP REQ ("+O+") [attempt "+Y+"]: "+b+`
`+E+`
`+de})}function fg(m,b,E,O,Y,ne,de){m.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Y+"]: "+b+`
`+E+`
`+ne+" "+de})}function xs(m,b,E,O){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+Ua(m,E)+(O?" "+O:"")})}function jf(m,b){m.info(function(){return"TIMEOUT: "+b})}si.prototype.info=function(){};function Ua(m,b){if(!m.g)return b;if(!b)return null;try{var E=JSON.parse(b);if(E){for(m=0;m<E.length;m++)if(Array.isArray(E[m])){var O=E[m];if(!(2>O.length)){var Y=O[1];if(Array.isArray(Y)&&!(1>Y.length)){var ne=Y[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var de=1;de<Y.length;de++)Y[de]=""}}}}return Ai(E)}catch{return b}}var Es={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ki;function $i(){}S($i,Zu),$i.prototype.g=function(){return new XMLHttpRequest},$i.prototype.i=function(){return{}},Ki=new $i;function wn(m,b,E,O){this.j=m,this.i=b,this.l=E,this.R=O||1,this.U=new Ma(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}var sc={},Jo={};function Ri(m,b,E){m.L=1,m.v=Ha(Bn(b)),m.m=E,m.P=!0,Pr(m,null)}function Pr(m,b){m.F=Date.now(),za(m),m.A=Bn(m.v);var E=m.A,O=m.R;Array.isArray(O)||(O=[String(O)]),hc(E.i,"t",O),m.C=0,E=m.j.J,m.h=new St,m.g=Jf(m.j,E?b:null,!m.m),0<m.O&&(m.M=new hg(T(m.Y,m,m.g),m.O)),b=m.U,E=m.g,O=m.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ja[0]=Y.toString()),Y=ja);for(var ne=0;ne<Y.length;ne++){var de=Pf(E,Y[ne],O||b.handleEvent,!1,b.h||b);if(!de)break;b.g[de.key]=de}b=m.H?C(m.H):{},m.m?(m.u||(m.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,b)):(m.u="GET",m.g.ea(m.A,m.u,null,b)),Ts(),rc(m.i,m.u,m.A,m.l,m.R,m.m)}wn.prototype.ca=function(m){m=m.target;const b=this.M;b&&ui(m)==3?b.j():this.Y(m)},wn.prototype.Y=function(m){try{if(m==this.g)e:{const Ut=ui(this.g);var b=this.g.Ba();const zr=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||Hf(this.g)))){this.J||Ut!=4||b==7||(b==8||0>=zr?Ts(3):Ts(2)),ws(this);var E=this.g.Z();this.X=E;t:if(Vf(this)){var O=Hf(this.g);m="";var Y=O.length,ne=ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zt(this),Qi(this);var de="";break t}this.h.i=new h.TextDecoder}for(b=0;b<Y;b++)this.h.h=!0,m+=this.h.i.decode(O[b],{stream:!(ne&&b==Y-1)});O.length=0,this.h.g+=m,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=E==200,fg(this.i,this.u,this.A,this.l,this.R,Ut,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Lt=this.g;if((Ge=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ge)){var Ke=Ge;break t}}Ke=null}if(E=Ke)xs(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ba(this,E);else{this.o=!1,this.s=3,mt(12),Zt(this),Qi(this);break e}}if(this.P){E=!0;let en;for(;!this.J&&this.C<de.length;)if(en=Lf(this,de),en==Jo){Ut==4&&(this.s=4,mt(14),E=!1),xs(this.i,this.l,null,"[Incomplete Response]");break}else if(en==sc){this.s=4,mt(15),xs(this.i,this.l,de,"[Invalid Chunk]"),E=!1;break}else xs(this.i,this.l,en,null),Ba(this,en);if(Vf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||de.length!=0||this.h.h||(this.s=1,mt(16),E=!1),this.o=this.o&&E,!E)xs(this.i,this.l,de,"[Invalid Chunked Response]"),Zt(this),Qi(this);else if(0<de.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Ja($t),$t.M=!0,mt(11))}}else xs(this.i,this.l,de,null),Ba(this,de);Ut==4&&Zt(this),this.o&&!this.J&&(Ut==4?Yf(this.j,this):(this.o=!1,za(this)))}else yg(this.g),E==400&&0<de.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Zt(this),Qi(this)}}}catch{}finally{}};function Vf(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Lf(m,b){var E=m.C,O=b.indexOf(`
`,E);return O==-1?Jo:(E=Number(b.substring(E,O)),isNaN(E)?sc:(O+=1,O+E>b.length?Jo:(b=b.slice(O,O+E),m.C=O+E,b)))}wn.prototype.cancel=function(){this.J=!0,Zt(this)};function za(m){m.S=Date.now()+m.I,Uf(m,m.I)}function Uf(m,b){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Nt(T(m.ba,m),b)}function ws(m){m.B&&(h.clearTimeout(m.B),m.B=null)}wn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(jf(this.i,this.A),this.L!=2&&(Ts(),mt(17)),Zt(this),this.s=2,Qi(this)):Uf(this,this.S-m)};function Qi(m){m.j.G==0||m.J||Yf(m.j,m)}function Zt(m){ws(m);var b=m.M;b&&typeof b.ma=="function"&&b.ma(),m.M=null,Va(m.U),m.g&&(b=m.g,m.g=null,b.abort(),b.ma())}function Ba(m,b){try{var E=m.j;if(E.G!=0&&(E.g==m||ac(E.h,m))){if(!m.K&&ac(E.h,m)&&E.G==3){try{var O=E.Da.g.parse(b)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Y=O;if(Y[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<m.F)cl(E),ll(E);else break e;gc(E),mt(18)}}else E.za=Y[1],0<E.za-E.T&&37500>Y[2]&&E.F&&E.v==0&&!E.C&&(E.C=Nt(T(E.Za,E),6e3));if(1>=el(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ur(E,11)}else if((m.K||E.g==m)&&cl(E),!U(b))for(Y=E.Da.g.parse(b),b=0;b<Y.length;b++){let Ke=Y[b];if(E.T=Ke[0],Ke=Ke[1],E.G==2)if(Ke[0]=="c"){E.K=Ke[1],E.ia=Ke[2];const $t=Ke[3];$t!=null&&(E.la=$t,E.j.info("VER="+E.la));const Ut=Ke[4];Ut!=null&&(E.Aa=Ut,E.j.info("SVER="+E.Aa));const zr=Ke[5];zr!=null&&typeof zr=="number"&&0<zr&&(O=1.5*zr,E.L=O,E.j.info("backChannelRequestTimeoutMs_="+O)),O=E;const en=m.g;if(en){const tr=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tr){var ne=O.h;ne.g||tr.indexOf("spdy")==-1&&tr.indexOf("quic")==-1&&tr.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(tl(ne,ne.h),ne.h=null))}if(O.D){const vc=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;vc&&(O.ya=vc,rt(O.I,O.D,vc))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-m.F,E.j.info("Handshake RTT: "+E.R+"ms")),O=E;var de=m;if(O.qa=Wf(O,O.J?O.ia:null,O.W),de.K){Sn(O.h,de);var Ge=de,Lt=O.L;Lt&&(Ge.I=Lt),Ge.B&&(ws(Ge),za(Ge)),O.g=de}else $f(O);0<E.i.length&&ul(E)}else Ke[0]!="stop"&&Ke[0]!="close"||Ur(E,7);else E.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ur(E,7):mc(E):Ke[0]!="noop"&&E.l&&E.l.ta(Ke),E.v=0)}}Ts(4)}catch{}}var zf=class{constructor(m,b){this.g=m,this.map=b}};function kr(m){this.l=m||10,h.PerformanceNavigationTiming?(m=h.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zo(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function el(m){return m.h?1:m.g?m.g.size:0}function ac(m,b){return m.h?m.h==b:m.g?m.g.has(b):!1}function tl(m,b){m.g?m.g.add(b):m.h=b}function Sn(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}kr.prototype.cancel=function(){if(this.i=oc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function oc(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let b=m.i;for(const E of m.g.values())b=b.concat(E.D);return b}return N(m.i)}function dg(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var b=[],E=m.length,O=0;O<E;O++)b.push(m[O]);return b}b=[],E=0;for(O in m)b[E++]=m[O];return b}function nl(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var b=[];m=m.length;for(var E=0;E<m;E++)b.push(E);return b}b=[],E=0;for(const O in m)b[E++]=O;return b}}}function lc(m,b){if(m.forEach&&typeof m.forEach=="function")m.forEach(b,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,b,void 0);else for(var E=nl(m),O=dg(m),Y=O.length,ne=0;ne<Y;ne++)b.call(void 0,O[ne],E&&E[ne],m)}var Fa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mg(m,b){if(m){m=m.split("&");for(var E=0;E<m.length;E++){var O=m[E].indexOf("="),Y=null;if(0<=O){var ne=m[E].substring(0,O);Y=m[E].substring(O+1)}else ne=m[E];b(ne,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Dt(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Dt){this.h=m.h,qa(this,m.j),this.o=m.o,this.g=m.g,Ss(this,m.s),this.l=m.l;var b=m.i,E=new Mr;E.i=b.i,b.g&&(E.g=new Map(b.g),E.h=b.h),Or(this,E),this.m=m.m}else m&&(b=String(m).match(Fa))?(this.h=!1,qa(this,b[1]||"",!0),this.o=ai(b[2]||""),this.g=ai(b[3]||"",!0),Ss(this,b[4]),this.l=ai(b[5]||"",!0),Or(this,b[6]||"",!0),this.m=ai(b[7]||"")):(this.h=!1,this.i=new Mr(null,this.h))}Dt.prototype.toString=function(){var m=[],b=this.j;b&&m.push(Ga(b,uc,!0),":");var E=this.g;return(E||b=="file")&&(m.push("//"),(b=this.o)&&m.push(Ga(b,uc,!0),"@"),m.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&m.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&m.push("/"),m.push(Ga(E,E.charAt(0)=="/"?pg:cc,!0))),(E=this.i.toString())&&m.push("?",E),(E=this.m)&&m.push("#",Ga(E,il)),m.join("")};function Bn(m){return new Dt(m)}function qa(m,b,E){m.j=E?ai(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function Ss(m,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);m.s=b}else m.s=null}function Or(m,b,E){b instanceof Mr?(m.i=b,Ff(m.i,m.h)):(E||(b=Ga(b,gg)),m.i=new Mr(b,m.h))}function rt(m,b,E){m.i.set(b,E)}function Ha(m){return rt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ai(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ga(m,b,E){return typeof m=="string"?(m=encodeURI(m).replace(b,Bf),E&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Bf(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var uc=/[#\/\?@]/g,cc=/[#\?:]/g,pg=/[#\?]/g,gg=/[#\?@]/g,il=/#/g;function Mr(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function oi(m){m.g||(m.g=new Map,m.h=0,m.i&&mg(m.i,function(b,E){m.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}t=Mr.prototype,t.add=function(m,b){oi(this),this.i=null,m=Yi(this,m);var E=this.g.get(m);return E||this.g.set(m,E=[]),E.push(b),this.h+=1,this};function jr(m,b){oi(m),b=Yi(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function Vr(m,b){return oi(m),b=Yi(m,b),m.g.has(b)}t.forEach=function(m,b){oi(this),this.g.forEach(function(E,O){E.forEach(function(Y){m.call(b,Y,O,this)},this)},this)},t.na=function(){oi(this);const m=Array.from(this.g.values()),b=Array.from(this.g.keys()),E=[];for(let O=0;O<b.length;O++){const Y=m[O];for(let ne=0;ne<Y.length;ne++)E.push(b[O])}return E},t.V=function(m){oi(this);let b=[];if(typeof m=="string")Vr(this,m)&&(b=b.concat(this.g.get(Yi(this,m))));else{m=Array.from(this.g.values());for(let E=0;E<m.length;E++)b=b.concat(m[E])}return b},t.set=function(m,b){return oi(this),this.i=null,m=Yi(this,m),Vr(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},t.get=function(m,b){return m?(m=this.V(m),0<m.length?String(m[0]):b):b};function hc(m,b,E){jr(m,b),0<E.length&&(m.i=null,m.g.set(Yi(m,b),N(E)),m.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(var E=0;E<b.length;E++){var O=b[E];const ne=encodeURIComponent(String(O)),de=this.V(O);for(O=0;O<de.length;O++){var Y=ne;de[O]!==""&&(Y+="="+encodeURIComponent(String(de[O]))),m.push(Y)}}return this.i=m.join("&")};function Yi(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function Ff(m,b){b&&!m.j&&(oi(m),m.i=null,m.g.forEach(function(E,O){var Y=O.toLowerCase();O!=Y&&(jr(this,O),hc(this,Y,E))},m)),m.j=b}function Ka(m,b){const E=new si;if(h.Image){const O=new Image;O.onload=x(li,E,"TestLoadImage: loaded",!0,b,O),O.onerror=x(li,E,"TestLoadImage: error",!1,b,O),O.onabort=x(li,E,"TestLoadImage: abort",!1,b,O),O.ontimeout=x(li,E,"TestLoadImage: timeout",!1,b,O),h.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=m}else b(!1)}function Ci(m,b){const E=new si,O=new AbortController,Y=setTimeout(()=>{O.abort(),li(E,"TestPingServer: timeout",!1,b)},1e4);fetch(m,{signal:O.signal}).then(ne=>{clearTimeout(Y),ne.ok?li(E,"TestPingServer: ok",!0,b):li(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),li(E,"TestPingServer: error",!1,b)})}function li(m,b,E,O,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),O(E)}catch{}}function $a(){this.g=new La}function Xi(m,b,E){const O=E||"";try{lc(m,function(Y,ne){let de=Y;d(Y)&&(de=Ai(Y)),b.push(O+ne+"="+encodeURIComponent(de))})}catch(Y){throw b.push(O+"type="+encodeURIComponent("_badmap")),Y}}function As(m){this.l=m.Ub||null,this.j=m.eb||!1}S(As,Zu),As.prototype.g=function(){return new Lr(this.l,this.j)},As.prototype.i=function(m){return function(){return m}}({});function Lr(m,b){bt.call(this),this.D=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Lr,bt),t=Lr.prototype,t.open=function(m,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=b,this.readyState=1,Ji(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(b.body=m),(this.D||h).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wi(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ji(this)),this.g&&(this.readyState=3,Ji(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function fc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?Wi(this):Ji(this),this.readyState==3&&fc(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Wi(this))},t.Qa=function(m){this.g&&(this.response=m,Wi(this))},t.ga=function(){this.g&&Wi(this)};function Wi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ji(m)}t.setRequestHeader=function(m,b){this.u.append(m,b)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,m.push(E[0]+": "+E[1]),E=b.next();return m.join(`\r
`)};function Ji(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function dc(m){let b="";return q(m,function(E,O){b+=O,b+=":",b+=E,b+=`\r
`}),b}function Kt(m,b,E){e:{for(O in E){var O=!1;break e}O=!0}O||(E=dc(E),typeof m=="string"?E!=null&&encodeURIComponent(String(E)):rt(m,b,E))}function Je(m){bt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Je,bt);var rl=/^https?$/i,Qa=["POST","PUT"];t=Je.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,b,E,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ki.g(),this.v=this.o?ec(this.o):ec(Ki),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(ne){qf(this,ne);return}if(m=E||"",E=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Y in O)E.set(Y,O[Y]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ne of O.keys())E.set(ne,O.get(ne));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(E.keys()).find(ne=>ne.toLowerCase()=="content-type"),Y=h.FormData&&m instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Qa,b,void 0))||O||Y||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,de]of E)this.g.setRequestHeader(ne,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ya(this),this.u=!0,this.g.send(m),this.u=!1}catch(ne){qf(this,ne)}};function qf(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.m=5,sl(m),Zi(m)}function sl(m){m.A||(m.A=!0,tt(m,"complete"),tt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,tt(this,"complete"),tt(this,"abort"),Zi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),Je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?al(this):this.bb())},t.bb=function(){al(this)};function al(m){if(m.h&&typeof u<"u"&&(!m.v[1]||ui(m)!=4||m.Z()!=2)){if(m.u&&ui(m)==4)dn(m.Ea,0,m);else if(tt(m,"readystatechange"),ui(m)==4){m.h=!1;try{const de=m.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var O;if(O=de===0){var Y=String(m.D).match(Fa)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),O=!rl.test(Y?Y.toLowerCase():"")}E=O}if(E)tt(m,"complete"),tt(m,"success");else{m.m=6;try{var ne=2<ui(m)?m.g.statusText:""}catch{ne=""}m.l=ne+" ["+m.Z()+"]",sl(m)}}finally{Zi(m)}}}}function Zi(m,b){if(m.g){Ya(m);const E=m.g,O=m.v[0]?()=>{}:null;m.g=null,m.v=null,b||tt(m,"ready");try{E.onreadystatechange=O}catch{}}}function Ya(m){m.I&&(h.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function ui(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<ui(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var b=this.g.responseText;return m&&b.indexOf(m)==0&&(b=b.substring(m.length)),Xo(b)}};function Hf(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function yg(m){const b={};m=(m.g&&2<=ui(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<m.length;O++){if(U(m[O]))continue;var E=F(m[O]);const Y=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ne=b[Y]||[];b[Y]=ne,ne.push(E)}M(b,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xa(m,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[m]||b}function ol(m){this.Aa=0,this.i=[],this.j=new si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xa("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xa("baseRetryDelayMs",5e3,m),this.cb=Xa("retryDelaySeedMs",1e4,m),this.Wa=Xa("forwardChannelMaxRetries",2,m),this.wa=Xa("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new kr(m&&m.concurrentRequestLimit),this.Da=new $a,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ol.prototype,t.la=8,t.G=1,t.connect=function(m,b,E,O){mt(0),this.W=m,this.H=b||{},E&&O!==void 0&&(this.H.OSID=E,this.H.OAID=O),this.F=this.X,this.I=Wf(this,null,this.W),ul(this)};function mc(m){if(Gf(m),m.G==3){var b=m.U++,E=Bn(m.I);if(rt(E,"SID",m.K),rt(E,"RID",b),rt(E,"TYPE","terminate"),Wa(m,E),b=new wn(m,m.j,b),b.L=2,b.v=Ha(Bn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(b.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=b.v,E=!0),E||(b.g=Jf(b.j,null),b.g.ea(b.v)),b.F=Date.now(),za(b)}Xf(m)}function ll(m){m.g&&(Ja(m),m.g.cancel(),m.g=null)}function Gf(m){ll(m),m.u&&(h.clearTimeout(m.u),m.u=null),cl(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&h.clearTimeout(m.s),m.s=null)}function ul(m){if(!Zo(m.h)&&!m.s){m.s=!0;var b=m.Ga;te||z(),re||(te(),re=!0),me.add(b,m),m.B=0}}function vg(m,b){return el(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=b.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Nt(T(m.Ga,m,b),yc(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Y=new wn(this,this.j,m);let ne=this.o;if(this.S&&(ne?(ne=C(ne),j(ne,this.S)):ne=this.S),this.m!==null||this.O||(Y.H=ne,ne=null),this.P)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var O=this.i[E];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(b+=O,4096<b){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=Kf(this,Y,b),E=Bn(this.I),rt(E,"RID",m),rt(E,"CVER",22),this.D&&rt(E,"X-HTTP-Session-Id",this.D),Wa(this,E),ne&&(this.O?b="headers="+encodeURIComponent(String(dc(ne)))+"&"+b:this.m&&Kt(E,this.m,ne)),tl(this.h,Y),this.Ua&&rt(E,"TYPE","init"),this.P?(rt(E,"$req",b),rt(E,"SID","null"),Y.T=!0,Ri(Y,E,null)):Ri(Y,E,b),this.G=2}}else this.G==3&&(m?pc(this,m):this.i.length==0||Zo(this.h)||pc(this))};function pc(m,b){var E;b?E=b.l:E=m.U++;const O=Bn(m.I);rt(O,"SID",m.K),rt(O,"RID",E),rt(O,"AID",m.T),Wa(m,O),m.m&&m.o&&Kt(O,m.m,m.o),E=new wn(m,m.j,E,m.B+1),m.m===null&&(E.H=m.o),b&&(m.i=b.D.concat(m.i)),b=Kf(m,E,1e3),E.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),tl(m.h,E),Ri(E,O,b)}function Wa(m,b){m.H&&q(m.H,function(E,O){rt(b,O,E)}),m.l&&lc({},function(E,O){rt(b,O,E)})}function Kf(m,b,E){E=Math.min(m.i.length,E);var O=m.l?T(m.l.Na,m.l,m):null;e:{var Y=m.i;let ne=-1;for(;;){const de=["count="+E];ne==-1?0<E?(ne=Y[0].g,de.push("ofs="+ne)):ne=0:de.push("ofs="+ne);let Ge=!0;for(let Lt=0;Lt<E;Lt++){let Ke=Y[Lt].g;const $t=Y[Lt].map;if(Ke-=ne,0>Ke)ne=Math.max(0,Y[Lt].g-100),Ge=!1;else try{Xi($t,de,"req"+Ke+"_")}catch{O&&O($t)}}if(Ge){O=de.join("&");break e}}}return m=m.i.splice(0,E),b.D=m,O}function $f(m){if(!m.g&&!m.u){m.Y=1;var b=m.Fa;te||z(),re||(te(),re=!0),me.add(b,m),m.v=0}}function gc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Nt(T(m.Fa,m),yc(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Qf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Nt(T(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),ll(this),Qf(this))};function Ja(m){m.A!=null&&(h.clearTimeout(m.A),m.A=null)}function Qf(m){m.g=new wn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var b=Bn(m.qa);rt(b,"RID","rpc"),rt(b,"SID",m.K),rt(b,"AID",m.T),rt(b,"CI",m.F?"0":"1"),!m.F&&m.ja&&rt(b,"TO",m.ja),rt(b,"TYPE","xmlhttp"),Wa(m,b),m.m&&m.o&&Kt(b,m.m,m.o),m.L&&(m.g.I=m.L);var E=m.g;m=m.ia,E.L=1,E.v=Ha(Bn(b)),E.m=null,E.P=!0,Pr(E,m)}t.Za=function(){this.C!=null&&(this.C=null,ll(this),gc(this),mt(19))};function cl(m){m.C!=null&&(h.clearTimeout(m.C),m.C=null)}function Yf(m,b){var E=null;if(m.g==b){cl(m),Ja(m),m.g=null;var O=2}else if(ac(m.h,b))E=b.D,Sn(m.h,b),O=1;else return;if(m.G!=0){if(b.o)if(O==1){E=b.m?b.m.length:0,b=Date.now()-b.F;var Y=m.B;O=bs(),tt(O,new Vt(O,E)),ul(m)}else $f(m);else if(Y=b.s,Y==3||Y==0&&0<b.X||!(O==1&&vg(m,b)||O==2&&gc(m)))switch(E&&0<E.length&&(b=m.h,b.i=b.i.concat(E)),Y){case 1:Ur(m,5);break;case 4:Ur(m,10);break;case 3:Ur(m,6);break;default:Ur(m,2)}}}function yc(m,b){let E=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(E*=2),E*b}function Ur(m,b){if(m.j.info("Error code "+b),b==2){var E=T(m.fb,m),O=m.Xa;const Y=!O;O=new Dt(O||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||qa(O,"https"),Ha(O),Y?Ka(O.toString(),E):Ci(O.toString(),E)}else mt(2);m.G=0,m.l&&m.l.sa(b),Xf(m),Gf(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Xf(m){if(m.G=0,m.ka=[],m.l){const b=oc(m.h);(b.length!=0||m.i.length!=0)&&(R(m.ka,b),R(m.ka,m.i),m.h.i.length=0,N(m.i),m.i.length=0),m.l.ra()}}function Wf(m,b,E){var O=E instanceof Dt?Bn(E):new Dt(E);if(O.g!="")b&&(O.g=b+"."+O.g),Ss(O,O.s);else{var Y=h.location;O=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;var ne=new Dt(null);O&&qa(ne,O),b&&(ne.g=b),Y&&Ss(ne,Y),E&&(ne.l=E),O=ne}return E=m.D,b=m.ya,E&&b&&rt(O,E,b),rt(O,"VER",m.la),Wa(m,O),O}function Jf(m,b,E){if(b&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=m.Ca&&!m.pa?new Je(new As({eb:E})):new Je(m.pa),b.Ha(m.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zf(){}t=Zf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hl(){}hl.prototype.g=function(m,b){return new An(m,b)};function An(m,b){bt.call(this),this.g=new ol(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(m?m["X-WebChannel-Client-Profile"]=b.va:m={"X-WebChannel-Client-Profile":b.va}),this.g.S=m,(m=b&&b.Sb)&&!U(m)&&(this.g.m=m),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!U(b)&&(this.g.D=b,m=this.h,m!==null&&b in m&&(m=this.h,b in m&&delete m[b])),this.j=new er(this)}S(An,bt),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){mc(this.g)},An.prototype.o=function(m){var b=this.g;if(typeof m=="string"){var E={};E.__data__=m,m=E}else this.u&&(E={},E.__data__=Ai(m),m=E);b.i.push(new zf(b.Ya++,m)),b.G==3&&ul(b)},An.prototype.N=function(){this.g.l=null,delete this.j,mc(this.g),delete this.g,An.aa.N.call(this)};function ed(m){Nr.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){e:{for(const E in b){m=E;break e}m=void 0}(this.i=m)&&(m=this.i,b=b!==null&&m in b?b[m]:void 0),this.data=b}else this.data=m}S(ed,Nr);function td(){nc.call(this),this.status=1}S(td,nc);function er(m){this.g=m}S(er,Zf),er.prototype.ua=function(){tt(this.g,"a")},er.prototype.ta=function(m){tt(this.g,new ed(m))},er.prototype.sa=function(m){tt(this.g,new td)},er.prototype.ra=function(){tt(this.g,"b")},hl.prototype.createWebChannel=hl.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,yI=function(){return new hl},gI=function(){return bs()},pI=Gi,G0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Es.NO_ERROR=0,Es.TIMEOUT=8,Es.HTTP_ERROR=6,Am=Es,Dr.COMPLETE="complete",mI=Dr,tc.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",bt.prototype.listen=bt.prototype.K,ph=tc,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,dI=Je}).apply(typeof lm<"u"?lm:typeof self<"u"?self:typeof window<"u"?window:{});const vS="@firebase/firestore",_S="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new W_("@firebase/firestore");function Fl(){return Bo.logLevel}function pe(t,...e){if(Bo.logLevel<=Be.DEBUG){const n=e.map(hb);Bo.debug(`Firestore (${zu}): ${t}`,...n)}}function ms(t,...e){if(Bo.logLevel<=Be.ERROR){const n=e.map(hb);Bo.error(`Firestore (${zu}): ${t}`,...n)}}function Eu(t,...e){if(Bo.logLevel<=Be.WARN){const n=e.map(hb);Bo.warn(`Firestore (${zu}): ${t}`,...n)}}function hb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,vI(t,i,n)}function vI(t,e,n){let i=`FIRESTORE (${zu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ms(i),new Error(i)}function et(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||vI(e,s,i)}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends vs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bn.UNAUTHENTICATED))}shutdown(){}}class Hz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Gz{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let i=this.i;const s=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let o=new us;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new us,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new us)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(et(typeof i.accessToken=="string",31837,{l:i}),new _I(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class Kz{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $z{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new Kz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);const i=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=Yz(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%62))}return i}}function Ve(t,e){return t<e?-1:t>e?1:0}function K0(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),s=e.codePointAt(n);if(i!==s){if(i<128&&s<128)return Ve(i,s);{const o=bI(),u=Xz(o.encode(TS(t,n)),o.encode(TS(e,n)));return u!==0?u:Ve(i,s)}}n+=i>65535?2:1}return Ve(t.length,e.length)}function TS(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Xz(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ve(t[n],e[n]);return Ve(t.length,e.length)}function wu(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=-62135596800,ES=1e6;class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*ES);return new qt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xS)throw new ge(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ES}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-xS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new qt(0,0))}static max(){return new Pe(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="__name__";class or{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ae(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=or.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Ve(e.length,n.length)}static compareSegments(e,n){const i=or.isNumericId(e),s=or.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?or.extractNumericId(e).compare(or.extractNumericId(n)):K0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ma.fromString(e.substring(4,e.length-2))}}class dt extends or{construct(e,n,i){return new dt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new dt(n)}static emptyPath(){return new dt([])}}const Wz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends or{construct(e,n,i){return new un(e,n,i)}static isValidIdentifier(e){return Wz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wS}static keyField(){return new un([wS])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new ge(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new ge(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ge(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(i+=h,s++):(o(),s++)}if(o(),u)throw new ge(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(dt.fromString(e))}static fromName(e){return new Te(dt.fromString(e).popFirst(5))}static empty(){return new Te(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=-1;function Jz(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(i===1e9?new qt(n+1,0):new qt(n,i));return new va(s,Te.empty(),e)}function Zz(t){return new va(t.readTime,t.key,Uh)}class va{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new va(Pe.min(),Te.empty(),Uh)}static max(){return new va(Pe.max(),Te.empty(),Uh)}}function e6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==t6)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.reject(n)}static resolve(e){return new ue((n,i)=>{n(e)})}static reject(e){return new ue((n,i)=>{i(e)})}static waitFor(e){return new ue((n,i)=>{let s=0,o=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++o,u&&o===s&&n()},f=>i(f))}),u=!0,o===s&&n()})}static or(e){let n=ue.resolve(!1);for(const i of e)n=n.next(s=>s?ue.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,o)=>{i.push(n.call(this,s,o))}),this.waitFor(i)}static mapArray(e,n){return new ue((i,s)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;n(e[d]).next(g=>{u[d]=g,++h,h===o&&i(u)},g=>s(g))}})}static doWhile(e,n){return new ue((i,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):i()};o()})}}function i6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}jp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=-1;function Vp(t){return t==null}function Jm(t){return t===0&&1/t==-1/0}function r6(t){return typeof t=="number"&&Number.isInteger(t)&&!Jm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="";function s6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=SS(e)),e=a6(t.get(n),e);return SS(e)}function a6(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case xI:n+="";break;default:n+=o}}return n}function SS(t){return t+xI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ia(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new um(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new um(this.root,e,this.comparator,!1)}getReverseIterator(){return new um(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new um(this.root,e,this.comparator,!0)}}class um{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??on.RED,this.left=s??on.EMPTY,this.right=o??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new on(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return on.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,i,s,o){return this}insert(e,n,i){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new RS(this.data.getIterator())}getIteratorFrom(e){return new RS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class RS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Xn([])}unionWith(e){let n=new Ht(un.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wu(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wI("Invalid base64 string: "+o):o}}(e);return new hn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const o6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _a(t){if(et(!!t,39018),typeof t=="string"){let e=0;const n=o6.exec(t);if(et(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ba(t){return typeof t=="string"?hn.fromBase64String(t):hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="server_timestamp",AI="__type__",RI="__previous_value__",CI="__local_write_time__";function db(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[AI])===null||n===void 0?void 0:n.stringValue)===SI}function Lp(t){const e=t.mapValue.fields[RI];return db(e)?Lp(e):e}function zh(t){const e=_a(t.mapValue.fields[CI].timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n,i,s,o,u,h,f,d,g){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g}}const Zm="(default)";class Bh{constructor(e,n){this.projectId=e,this.database=n||Zm}static empty(){return new Bh("","")}get isDefaultDatabase(){return this.database===Zm}isEqual(e){return e instanceof Bh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="__type__",u6="__max__",cm={mapValue:{}},NI="__vector__",ep="value";function Ta(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?db(t)?4:h6(t)?9007199254740991:c6(t)?10:11:Ae(28295,{value:t})}function xr(t,e){if(t===e)return!0;const n=Ta(t);if(n!==Ta(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zh(t).isEqual(zh(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=_a(s.timestampValue),h=_a(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return ba(s.bytesValue).isEqual(ba(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return It(s.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return It(s.integerValue)===It(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=It(s.doubleValue),h=It(o.doubleValue);return u===h?Jm(u)===Jm(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return wu(t.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(AS(u)!==AS(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!xr(u[f],h[f])))return!1;return!0}(t,e);default:return Ae(52216,{left:t})}}function Fh(t,e){return(t.values||[]).find(n=>xr(n,e))!==void 0}function Su(t,e){if(t===e)return 0;const n=Ta(t),i=Ta(e);if(n!==i)return Ve(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(o,u){const h=It(o.integerValue||o.doubleValue),f=It(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(t,e);case 3:return CS(t.timestampValue,e.timestampValue);case 4:return CS(zh(t),zh(e));case 5:return K0(t.stringValue,e.stringValue);case 6:return function(o,u){const h=ba(o),f=ba(u);return h.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const g=Ve(h[d],f[d]);if(g!==0)return g}return Ve(h.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){const h=Ve(It(o.latitude),It(u.latitude));return h!==0?h:Ve(It(o.longitude),It(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return IS(t.arrayValue,e.arrayValue);case 10:return function(o,u){var h,f,d,g;const _=o.fields||{},T=u.fields||{},x=(h=_[ep])===null||h===void 0?void 0:h.arrayValue,S=(f=T[ep])===null||f===void 0?void 0:f.arrayValue,N=Ve(((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0,((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0);return N!==0?N:IS(x,S)}(t.mapValue,e.mapValue);case 11:return function(o,u){if(o===cm.mapValue&&u===cm.mapValue)return 0;if(o===cm.mapValue)return 1;if(u===cm.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const T=K0(f[_],g[_]);if(T!==0)return T;const x=Su(h[f[_]],d[g[_]]);if(x!==0)return x}return Ve(f.length,g.length)}(t.mapValue,e.mapValue);default:throw Ae(23264,{Pe:n})}}function CS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=_a(t),i=_a(e),s=Ve(n.seconds,i.seconds);return s!==0?s:Ve(n.nanos,i.nanos)}function IS(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const o=Su(n[s],i[s]);if(o)return o}return Ve(n.length,i.length)}function Au(t){return $0(t)}function $0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=_a(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ba(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=$0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${$0(n.fields[u])}`;return s+"}"}(t.mapValue):Ae(61005,{value:t})}function Rm(t){switch(Ta(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lp(t);return e?16+Rm(e):16;case 5:return 2*t.stringValue.length;case 6:return ba(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,o)=>s+Rm(o),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return Ia(i.fields,(o,u)=>{s+=o.length+Rm(u)}),s}(t.mapValue);default:throw Ae(13486,{value:t})}}function NS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Q0(t){return!!t&&"integerValue"in t}function mb(t){return!!t&&"arrayValue"in t}function DS(t){return!!t&&"nullValue"in t}function PS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cm(t){return!!t&&"mapValue"in t}function c6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[II])===null||n===void 0?void 0:n.stringValue)===NI}function xh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ia(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=xh(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function h6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===u6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Cm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xh(n)}setAll(e){let n=un.emptyPath(),i={},s=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,i,s),i={},s=[],n=h.popLast()}u?i[h.lastSegment()]=xh(u):s.push(h.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());Cm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Cm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Ia(n,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new Un(xh(this.value))}}function DI(t){const e=[];return Ia(t.fields,(n,i)=>{const s=new un([n]);if(Cm(i)){const o=DI(i.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)}),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,i,s,o,u,h){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Tn(e,0,Pe.min(),Pe.min(),Pe.min(),Un.empty(),0)}static newFoundDocument(e,n,i,s){return new Tn(e,1,n,Pe.min(),i,s,0)}static newNoDocument(e,n){return new Tn(e,2,n,Pe.min(),Pe.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new Tn(e,3,n,Pe.min(),Pe.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.position=e,this.inclusive=n}}function kS(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],u=t.position[s];if(o.field.isKeyField()?i=Te.comparator(Te.fromName(u.referenceValue),n.key):i=Su(u,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function OS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n="asc"){this.field=e,this.dir=n}}function f6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{}class Mt extends PI{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new m6(e,n,i):n==="array-contains"?new y6(e,i):n==="in"?new v6(e,i):n==="not-in"?new _6(e,i):n==="array-contains-any"?new b6(e,i):new Mt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new p6(e,i):new g6(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Su(n,this.value)):n!==null&&Ta(this.value)===Ta(n)&&this.matchesComparison(Su(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends PI{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new qi(e,n)}matches(e){return kI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function kI(t){return t.op==="and"}function OI(t){return d6(t)&&kI(t)}function d6(t){for(const e of t.filters)if(e instanceof qi)return!1;return!0}function Y0(t){if(t instanceof Mt)return t.field.canonicalString()+t.op.toString()+Au(t.value);if(OI(t))return t.filters.map(e=>Y0(e)).join(",");{const e=t.filters.map(n=>Y0(n)).join(",");return`${t.op}(${e})`}}function MI(t,e){return t instanceof Mt?function(i,s){return s instanceof Mt&&i.op===s.op&&i.field.isEqual(s.field)&&xr(i.value,s.value)}(t,e):t instanceof qi?function(i,s){return s instanceof qi&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,u,h)=>o&&MI(u,s.filters[h]),!0):!1}(t,e):void Ae(19439)}function jI(t){return t instanceof Mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Au(n.value)}`}(t):t instanceof qi?function(n){return n.op.toString()+" {"+n.getFilters().map(jI).join(" ,")+"}"}(t):"Filter"}class m6 extends Mt{constructor(e,n,i){super(e,n,i),this.key=Te.fromName(i.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class p6 extends Mt{constructor(e,n){super(e,"in",n),this.keys=VI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class g6 extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=VI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function VI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Te.fromName(i.referenceValue))}class y6 extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mb(n)&&Fh(n.arrayValue,this.value)}}class v6 extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fh(this.value.arrayValue,n)}}class _6 extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fh(this.value.arrayValue,n)}}class b6 extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Fh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n=null,i=[],s=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.Ie=null}}function MS(t,e=null,n=[],i=[],s=null,o=null,u=null){return new T6(t,e,n,i,s,o,u)}function pb(t){const e=ke(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Y0(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Vp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Au(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Au(i)).join(",")),e.Ie=n}return e.Ie}function gb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!f6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OS(t.startAt,e.startAt)&&OS(t.endAt,e.endAt)}function X0(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n=null,i=[],s=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function x6(t,e,n,i,s,o,u,h){return new Tf(t,e,n,i,s,o,u,h)}function yb(t){return new Tf(t)}function jS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LI(t){return t.collectionGroup!==null}function Eh(t){const e=ke(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Ht(un.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(h=h.add(d.field))})}),h})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new np(o,i))}),n.has(un.keyField().canonicalString())||e.Ee.push(new np(un.keyField(),i))}return e.Ee}function mr(t){const e=ke(t);return e.de||(e.de=E6(e,Eh(t))),e.de}function E6(t,e){if(t.limitType==="F")return MS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new np(s.field,o)});const n=t.endAt?new tp(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new tp(t.startAt.position,t.startAt.inclusive):null;return MS(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function W0(t,e){const n=t.filters.concat([e]);return new Tf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function J0(t,e,n){return new Tf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Up(t,e){return gb(mr(t),mr(e))&&t.limitType===e.limitType}function UI(t){return`${pb(mr(t))}|lt:${t.limitType}`}function ql(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>jI(s)).join(", ")}]`),Vp(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Au(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Au(s)).join(",")),`Target(${i})`}(mr(t))}; limitType=${t.limitType})`}function zp(t,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Te.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,s){for(const o of Eh(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(u,h,f){const d=kS(u,h,f);return u.inclusive?d<=0:d<0}(i.startAt,Eh(i),s)||i.endAt&&!function(u,h,f){const d=kS(u,h,f);return u.inclusive?d>=0:d>0}(i.endAt,Eh(i),s))}(t,e)}function w6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zI(t){return(e,n)=>{let i=!1;for(const s of Eh(t)){const o=S6(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function S6(t,e,n){const i=t.field.isKeyField()?Te.comparator(e.key,n.key):function(o,u,h){const f=u.data.field(o),d=h.data.field(o);return f!==null&&d!==null?Su(f,d):Ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ia(this.inner,(n,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return EI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=new _t(Te.comparator);function ps(){return A6}const BI=new _t(Te.comparator);function gh(...t){let e=BI;for(const n of t)e=e.insert(n.key,n);return e}function FI(t){let e=BI;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function _o(){return wh()}function qI(){return wh()}function wh(){return new Go(t=>t.toString(),(t,e)=>t.isEqual(e))}const R6=new _t(Te.comparator),C6=new Ht(Te.comparator);function Fe(...t){let e=C6;for(const n of t)e=e.add(n);return e}const I6=new Ht(Ve);function N6(){return I6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jm(e)?"-0":e}}function HI(t){return{integerValue:""+t}}function D6(t,e){return r6(e)?HI(e):vb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this._=void 0}}function P6(t,e,n){return t instanceof qh?function(s,o){const u={fields:{[AI]:{stringValue:SI},[CI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&db(o)&&(o=Lp(o)),o&&(u.fields[RI]=o),{mapValue:u}}(n,e):t instanceof Hh?KI(t,e):t instanceof Gh?$I(t,e):function(s,o){const u=GI(s,o),h=VS(u)+VS(s.Re);return Q0(u)&&Q0(s.Re)?HI(h):vb(s.serializer,h)}(t,e)}function k6(t,e,n){return t instanceof Hh?KI(t,e):t instanceof Gh?$I(t,e):n}function GI(t,e){return t instanceof ip?function(i){return Q0(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class qh extends Bp{}class Hh extends Bp{constructor(e){super(),this.elements=e}}function KI(t,e){const n=QI(e);for(const i of t.elements)n.some(s=>xr(s,i))||n.push(i);return{arrayValue:{values:n}}}class Gh extends Bp{constructor(e){super(),this.elements=e}}function $I(t,e){let n=QI(e);for(const i of t.elements)n=n.filter(s=>!xr(s,i));return{arrayValue:{values:n}}}class ip extends Bp{constructor(e,n){super(),this.serializer=e,this.Re=n}}function VS(t){return It(t.integerValue||t.doubleValue)}function QI(t){return mb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n){this.field=e,this.transform=n}}function M6(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof Hh&&s instanceof Hh||i instanceof Gh&&s instanceof Gh?wu(i.elements,s.elements,xr):i instanceof ip&&s instanceof ip?xr(i.Re,s.Re):i instanceof qh&&s instanceof qh}(t.transform,e.transform)}class j6{constructor(e,n){this.version=e,this.transformResults=n}}class zi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zi}static exists(e){return new zi(void 0,e)}static updateTime(e){return new zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Im(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fp{}function YI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new WI(t.key,zi.none()):new xf(t.key,t.data,zi.none());{const n=t.data,i=Un.empty();let s=new Ht(un.comparator);for(let o of e.fields)if(!s.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?i.delete(o):i.set(o,u),s=s.add(o)}return new Na(t.key,i,new Xn(s.toArray()),zi.none())}}function V6(t,e,n){t instanceof xf?function(s,o,u){const h=s.value.clone(),f=US(s.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof Na?function(s,o,u){if(!Im(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=US(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(XI(s)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Sh(t,e,n,i){return t instanceof xf?function(o,u,h,f){if(!Im(o.precondition,u))return h;const d=o.value.clone(),g=zS(o.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(t,e,n,i):t instanceof Na?function(o,u,h,f){if(!Im(o.precondition,u))return h;const d=zS(o.fieldTransforms,f,u),g=u.data;return g.setAll(XI(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(t,e,n,i):function(o,u,h){return Im(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function L6(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=GI(i.transform,s||null);o!=null&&(n===null&&(n=Un.empty()),n.set(i.field,o))}return n||null}function LS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&wu(i,s,(o,u)=>M6(o,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xf extends Fp{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Na extends Fp{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function XI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function US(t,e,n){const i=new Map;et(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const o=t[s],u=o.transform,h=e.data.field(o.field);i.set(o.field,k6(u,h,n[s]))}return i}function zS(t,e,n){const i=new Map;for(const s of t){const o=s.transform,u=n.data.field(s.field);i.set(s.field,P6(o,u,e))}return i}class WI extends Fp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U6 extends Fp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&V6(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Sh(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Sh(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=qI();return this.mutations.forEach(s=>{const o=e.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(s.key)?null:h;const f=YI(u,h);f!==null&&i.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Pe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Fe())}isEqual(e){return this.batchId===e.batchId&&wu(this.mutations,e.mutations,(n,i)=>LS(n,i))&&wu(this.baseMutations,e.baseMutations,(n,i)=>LS(n,i))}}class _b{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){et(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return R6}();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,i[u].version);return new _b(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Qe;function q6(t){switch(t){case ce.OK:return Ae(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function JI(t){if(t===void 0)return ms("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Ot.OK:return ce.OK;case Ot.CANCELLED:return ce.CANCELLED;case Ot.UNKNOWN:return ce.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ce.INTERNAL;case Ot.UNAVAILABLE:return ce.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ce.NOT_FOUND;case Ot.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Ot.ABORTED:return ce.ABORTED;case Ot.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Ot.DATA_LOSS:return ce.DATA_LOSS;default:return Ae(39323,{code:t})}}(Qe=Ot||(Ot={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=new ma([4294967295,4294967295],0);function BS(t){const e=bI().encode(t),n=new fI;return n.update(e),new Uint8Array(n.digest())}function FS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ma([n,i],0),new ma([s,o],0)]}class bb{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new yh(`Invalid padding: ${n}`);if(i<0)throw new yh(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new yh(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new yh(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ma.fromNumber(this.pe)}we(e,n,i){let s=e.add(n.multiply(ma.fromNumber(i)));return s.compare(H6)===1&&(s=new ma([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=BS(e),[i,s]=FS(n);for(let o=0;o<this.hashCount;o++){const u=this.we(i,s,o);if(!this.be(u))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new bb(o,s,n);return i.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const n=BS(e),[i,s]=FS(n);for(let o=0;o<this.hashCount;o++){const u=this.we(i,s,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class yh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,i,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Ef.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new qp(Pe.min(),s,new _t(Ve),ps(),Fe())}}class Ef{constructor(e,n,i,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ef(i,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n,i,s){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=s}}class ZI{constructor(e,n){this.targetId=e,this.Ce=n}}class eN{constructor(e,n,i=hn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class qS{constructor(){this.Fe=0,this.Me=HS(),this.xe=hn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Fe(),n=Fe(),i=Fe();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Ae(38017,{changeType:o})}}),new Ef(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=HS()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,et(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class G6{constructor(e){this.ze=e,this.je=new Map,this.He=ps(),this.Je=hm(),this.Ye=hm(),this.Ze=new _t(Ve)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,i=e.Ce.count,s=this._t(n);if(s){const o=s.target;if(X0(o))if(i===0){const u=new Te(o.path);this.tt(n,u,Tn.newNoDocument(u,Pe.min()))}else et(i===1,20013,{expectedCount:i});else{const u=this.ut(n);if(u!==i){const h=this.ct(e),f=h?this.lt(h,e,u):1;if(f!==0){this.st(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let u,h;try{u=ba(i).toUint8Array()}catch(f){if(f instanceof wI)return Eu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new bb(u,s,o)}catch(f){return Eu(f instanceof yh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let s=0;return i.forEach(o=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.tt(n,o,null),s++)}),s}It(e){const n=new Map;this.je.forEach((o,u)=>{const h=this._t(u);if(h){if(o.current&&X0(h.target)){const f=new Te(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Tn.newNoDocument(f,e))}o.Le&&(n.set(u,o.qe()),o.Qe())}});let i=Fe();this.Ye.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const d=this._t(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const s=new qp(e,n,this.Ze,this.He,i);return this.He=ps(),this.Je=hm(),this.Ye=hm(),this.Ze=new _t(Ve),s}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new qS,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ht(Ve),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ht(Ve),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new qS),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function hm(){return new _t(Te.comparator)}function HS(){return new _t(Te.comparator)}const K6={asc:"ASCENDING",desc:"DESCENDING"},$6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q6={and:"AND",or:"OR"};class Y6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Z0(t,e){return t.useProto3Json||Vp(e)?e:{value:e}}function rp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function X6(t,e){return rp(t,e.toTimestamp())}function pr(t){return et(!!t,49232),Pe.fromTimestamp(function(n){const i=_a(n);return new qt(i.seconds,i.nanos)}(t))}function Tb(t,e){return e_(t,e).canonicalString()}function e_(t,e){const n=function(s){return new dt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nN(t){const e=dt.fromString(t);return et(oN(e),10190,{key:e.toString()}),e}function t_(t,e){return Tb(t.databaseId,e.path)}function Uv(t,e){const n=nN(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(rN(n))}function iN(t,e){return Tb(t.databaseId,e)}function W6(t){const e=nN(t);return e.length===4?dt.emptyPath():rN(e)}function n_(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rN(t){return et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function GS(t,e,n){return{name:t_(t,e),fields:n.value.mapValue.fields}}function J6(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ae(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(d,g){return d.useProto3Json?(et(g===void 0||typeof g=="string",58123),hn.fromBase64String(g||"")):(et(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),hn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(d){const g=d.code===void 0?ce.UNKNOWN:JI(d.code);return new ge(g,d.message||"")}(u);n=new eN(i,s,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Uv(t,i.document.name),o=pr(i.document.updateTime),u=i.document.createTime?pr(i.document.createTime):Pe.min(),h=new Un({mapValue:{fields:i.document.fields}}),f=Tn.newFoundDocument(s,o,u,h),d=i.targetIds||[],g=i.removedTargetIds||[];n=new Nm(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Uv(t,i.document),o=i.readTime?pr(i.readTime):Pe.min(),u=Tn.newNoDocument(s,o),h=i.removedTargetIds||[];n=new Nm([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Uv(t,i.document),o=i.removedTargetIds||[];n=new Nm([],o,s,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,u=new F6(s,o),h=i.targetId;n=new ZI(h,u)}}return n}function Z6(t,e){let n;if(e instanceof xf)n={update:GS(t,e.key,e.value)};else if(e instanceof WI)n={delete:t_(t,e.key)};else if(e instanceof Na)n={update:GS(t,e.key,e.data),updateMask:l5(e.fieldMask)};else{if(!(e instanceof U6))return Ae(16599,{ft:e.type});n={verify:t_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,u){const h=u.transform;if(h instanceof qh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Hh)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Gh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ip)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw Ae(20930,{transform:u.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:X6(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ae(27497)}(t,e.precondition)),n}function e5(t,e){return t&&t.length>0?(et(e!==void 0,14353),t.map(n=>function(s,o){let u=s.updateTime?pr(s.updateTime):pr(o);return u.isEqual(Pe.min())&&(u=pr(o)),new j6(u,s.transformResults||[])}(n,e))):[]}function t5(t,e){return{documents:[iN(t,e.path)]}}function n5(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=iN(t,s);const o=function(d){if(d.length!==0)return aN(qi.create(d,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const u=function(d){if(d.length!==0)return d.map(g=>function(T){return{field:Hl(T.field),direction:s5(T.dir)}}(g))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Z0(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:n,parent:s}}function i5(t){let e=W6(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){et(i===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=function(_){const T=sN(_);return T instanceof qi&&OI(T)?T.getFilters():[T]}(n.where));let u=[];n.orderBy&&(u=function(_){return _.map(T=>function(S){return new np(Gl(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(T))}(n.orderBy));let h=null;n.limit&&(h=function(_){let T;return T=typeof _=="object"?_.value:_,Vp(T)?null:T}(n.limit));let f=null;n.startAt&&(f=function(_){const T=!!_.before,x=_.values||[];return new tp(x,T)}(n.startAt));let d=null;return n.endAt&&(d=function(_){const T=!_.before,x=_.values||[];return new tp(x,T)}(n.endAt)),x6(e,s,u,o,h,"F",f,d)}function r5(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Gl(n.unaryFilter.field);return Mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Gl(n.unaryFilter.field);return Mt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Gl(n.unaryFilter.field);return Mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Gl(n.unaryFilter.field);return Mt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return Mt.create(Gl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qi.create(n.compositeFilter.filters.map(i=>sN(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(n.compositeFilter.op))}(t):Ae(30097,{filter:t})}function s5(t){return K6[t]}function a5(t){return $6[t]}function o5(t){return Q6[t]}function Hl(t){return{fieldPath:t.canonicalString()}}function Gl(t){return un.fromServerFormat(t.fieldPath)}function aN(t){return t instanceof Mt?function(n){if(n.op==="=="){if(PS(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NAN"}};if(DS(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PS(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NOT_NAN"}};if(DS(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hl(n.field),op:a5(n.op),value:n.value}}}(t):t instanceof qi?function(n){const i=n.getFilters().map(s=>aN(s));return i.length===1?i[0]:{compositeFilter:{op:o5(n.op),filters:i}}}(t):Ae(54877,{filter:t})}function l5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n,i,s,o=Pe.min(),u=Pe.min(),h=hn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e){this.wt=e}}function c5(t){const e=i5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?J0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(){this.yn=new f5}addToCollectionParentIndex(e,n){return this.yn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(va.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(va.min())}updateCollectionGroup(e,n,i){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class f5{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Ht(dt.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Ht(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lN=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(lN,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Ru(0)}static ir(){return new Ru(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="LruGarbageCollector",d5=1048576;function QS([t,e],[n,i]){const s=Ve(t,n);return s===0?Ve(e,i):s}class m5{constructor(e){this.cr=e,this.buffer=new Ht(QS),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();QS(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class p5{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){pe($S,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fu(n)?pe($S,"Ignoring IndexedDB error during garbage collection: ",n):await Bu(n)}await this.Ir(3e5)})}}class g5{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(jp.le);const i=new m5(n);return this.Er.forEachTarget(e,s=>i.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>i.Pr(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Er.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(KS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KS):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let i,s,o,u,h,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(i=_,h=Date.now(),this.removeTargets(e,i,n))).next(_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(d=Date.now(),Fl()<=Be.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_})))}}function y5(t,e){return new g5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.changes=new Go(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ue.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Sh(i.mutation,s,Xn.empty(),qt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Fe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Fe()){const s=_o();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(o=>{let u=gh();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const i=_o();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Fe()))}populateOverlays(e,n,i){const s=[];return i.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,i,s){let o=ps();const u=wh(),h=function(){return wh()}();return n.forEach((f,d)=>{const g=i.get(d.key);s.has(d.key)&&(g===void 0||g.mutation instanceof Na)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Sh(g.mutation,d,g.mutation.getFieldMask(),qt.now())):u.set(d.key,Xn.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((d,g)=>u.set(d,g)),n.forEach((d,g)=>{var _;return h.set(d,new _5(g,(_=u.get(d))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,n){const i=wh();let s=new _t((u,h)=>u-h),o=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(f=>{const d=n.get(f);if(d===null)return;let g=i.get(f)||Xn.empty();g=h.applyToLocalView(d,g),i.set(f,g);const _=(s.get(h.batchId)||Fe()).add(f);s=s.insert(h.batchId,_)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,g=f.value,_=qI();g.forEach(T=>{if(!o.has(T)){const x=YI(n.get(T),i.get(T));x!==null&&_.set(T,x),o=o.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,_))}return ue.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):ue.resolve(_o());let h=Uh,f=o;return u.next(d=>ue.forEach(d,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(g)?ue.resolve():this.remoteDocumentCache.getEntry(e,g).next(T=>{f=f.insert(g,T)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,f,d,Fe())).next(g=>({batchId:h,changes:FI(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(i=>{let s=gh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let u=gh();return this.indexManager.getCollectionParents(e,o).next(h=>ue.forEach(h,f=>{const d=function(_,T){return new Tf(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,i,s).next(g=>{g.forEach((_,T)=>{u=u.insert(_,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s))).next(u=>{o.forEach((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,Tn.newInvalidDocument(g)))});let h=gh();return u.forEach((f,d)=>{const g=o.get(f);g!==void 0&&Sh(g.mutation,d,Xn.empty(),qt.now()),zp(n,d)&&(h=h.insert(f,d))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return ue.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:pr(s.createTime)}}(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(s){return{name:s.name,query:c5(s.bundledQuery),readTime:pr(s.readTime)}}(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.overlays=new _t(Te.comparator),this.Or=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const i=_o();return ue.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,o)=>{this.St(e,n,o)}),ue.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Or.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(i)),ue.resolve()}getOverlaysForCollection(e,n,i){const s=_o(),o=n.length+1,u=new Te(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&s.set(f.getKey(),f)}return ue.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new _t((d,g)=>d-g);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let g=o.get(d.largestBatchId);g===null&&(g=_o(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const h=_o(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,g)=>h.set(d,g)),!(h.size()>=s)););return ue.resolve(h)}St(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const u=this.Or.get(s.largestBatchId).delete(i.key);this.Or.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new B6(n,i));let o=this.Or.get(n);o===void 0&&(o=Fe(),this.Or.set(n,o)),this.Or.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this.Nr=new Ht(Wt.Br),this.Lr=new Ht(Wt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const i=new Wt(e,n);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Qr(new Wt(e,n))}$r(e,n){e.forEach(i=>this.removeReference(i,n))}Ur(e){const n=new Te(new dt([])),i=new Wt(n,e),s=new Wt(n,e+1),o=[];return this.Lr.forEachInRange([i,s],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new Te(new dt([])),i=new Wt(n,e),s=new Wt(n,e+1);let o=Fe();return this.Lr.forEachInRange([i,s],u=>{o=o.add(u.key)}),o}containsKey(e){const n=new Wt(e,0),i=this.Nr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Wt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Te.comparator(e.key,n.key)||Ve(e.Gr,n.Gr)}static kr(e,n){return Ve(e.Gr,n.Gr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Ht(Wt.Br)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new z6(o,n,i,s);this.mutationQueue.push(u);for(const h of s)this.zr=this.zr.add(new Wt(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,n){return ue.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Hr(i),o=s<0?0:s;return ue.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?fb:this.Jn-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Wt(n,0),s=new Wt(n,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([i,s],u=>{const h=this.jr(u.Gr);o.push(h)}),ue.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ht(Ve);return n.forEach(s=>{const o=new Wt(s,0),u=new Wt(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],h=>{i=i.add(h.Gr)})}),ue.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;Te.isDocumentKey(o)||(o=o.child(""));const u=new Wt(new Te(o),0);let h=new Ht(Ve);return this.zr.forEachWhile(f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(h=h.add(f.Gr)),!0)},u),ue.resolve(this.Jr(h))}Jr(e){const n=[];return e.forEach(i=>{const s=this.jr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){et(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return ue.forEach(n.mutations,s=>{const o=new Wt(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,n){const i=new Wt(n,0),s=this.zr.firstAfterOrEqual(i);return ue.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e){this.Zr=e,this.docs=function(){return new _t(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,u=this.Zr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ue.resolve(i?i.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let i=ps();return n.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Tn.newInvalidDocument(s))}),ue.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=ps();const u=n.path,h=new Te(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||e6(Zz(g),i)<=0||(s.has(g.key)||zp(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ue.resolve(o)}getAllFromCollectionGroup(e,n,i,s){Ae(9500)}Xr(e,n){return ue.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new A5(this)}getSize(e){return ue.resolve(this.size)}}class A5 extends v5{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.vr.addEntry(e,s)):this.vr.removeEntry(i)}),ue.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e){this.persistence=e,this.ei=new Go(n=>pb(n),gb),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.ti=0,this.ni=new xb,this.targetCount=0,this.ri=Ru.rr()}forEachTarget(e,n){return this.ei.forEach((i,s)=>n(s)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ti&&(this.ti=n),ue.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Ru(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.ar(n),ue.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.ei.forEach((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),ue.waitFor(o).next(()=>s)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const i=this.ei.get(n)||null;return ue.resolve(i)}addMatchingKeys(e,n,i){return this.ni.qr(n,i),ue.resolve()}removeMatchingKeys(e,n,i){this.ni.$r(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(u=>{o.push(s.markPotentiallyOrphaned(e,u))}),ue.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ni.Wr(n);return ue.resolve(i)}containsKey(e,n){return ue.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n){this.ii={},this.overlays={},this.si=new jp(0),this.oi=!1,this.oi=!0,this._i=new E5,this.referenceDelegate=e(this),this.ai=new R5(this),this.indexManager=new h5,this.remoteDocumentCache=function(s){return new S5(s)}(i=>this.referenceDelegate.ui(i)),this.serializer=new u5(n),this.ci=new T5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new x5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ii[e.toKey()];return i||(i=new w5(n,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,i){pe("MemoryPersistence","Starting transaction:",e);const s=new C5(this.si.next());return this.referenceDelegate.li(),i(s).next(o=>this.referenceDelegate.hi(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Pi(e,n){return ue.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,n)))}}class C5 extends n6{constructor(e){super(),this.currentSequenceNumber=e}}class Eb{constructor(e){this.persistence=e,this.Ti=new xb,this.Ii=null}static Ei(e){return new Eb(e)}get di(){if(this.Ii)return this.Ii;throw Ae(60996)}addReference(e,n,i){return this.Ti.addReference(i,n),this.di.delete(i.toString()),ue.resolve()}removeReference(e,n,i){return this.Ti.removeReference(i,n),this.di.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(s=>this.di.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.di.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.di,i=>{const s=Te.fromPath(i);return this.Ai(e,s).next(o=>{o||n.removeEntry(s,Pe.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return ue.or([()=>ue.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class sp{constructor(e,n){this.persistence=e,this.Ri=new Go(i=>s6(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=y5(this,n)}static Ei(e,n){return new sp(e,n)}li(){}hi(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}Vr(e){let n=0;return this.Ar(e,i=>{n++}).next(()=>n)}Ar(e,n){return ue.forEach(this.Ri,(i,s)=>this.gr(e,i,s).next(o=>o?ue.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.Xr(e,u=>this.gr(e,u,n).next(h=>{h||(i++,o.removeEntry(u,Pe.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.Ri.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,i){return this.Ri.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),ue.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rm(e.data.value)),n}gr(e,n,i){return ue.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.Ri.get(n);return ue.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.ls=i,this.hs=s}static Ps(e,n){let i=Fe(),s=Fe();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new wb(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return t4()?8:i6(En())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.Rs(e,n).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(e,n,s,i).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new I5;return this.fs(e,n,u).next(h=>{if(o.result=h,this.Is)return this.gs(e,n,u,h.size)})}).next(()=>o.result)}gs(e,n,i,s){return i.documentReadCount<this.Es?(Fl()<=Be.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",ql(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ue.resolve()):(Fl()<=Be.DEBUG&&pe("QueryEngine","Query:",ql(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(Fl()<=Be.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",ql(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(n))):ue.resolve())}Rs(e,n){if(jS(n))return ue.resolve(null);let i=mr(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=J0(n,null,"F"),i=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const u=Fe(...o);return this.As.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const d=this.ps(n,h);return this.ys(n,d,u,f.readTime)?this.Rs(e,J0(n,null,"F")):this.ws(e,d,n,f)}))})))}Vs(e,n,i,s){return jS(n)||s.isEqual(Pe.min())?ue.resolve(null):this.As.getDocuments(e,i).next(o=>{const u=this.ps(n,o);return this.ys(n,u,i,s)?ue.resolve(null):(Fl()<=Be.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ql(n)),this.ws(e,u,n,Jz(s,Uh)).next(h=>h))})}ps(e,n){let i=new Ht(zI(e));return n.forEach((s,o)=>{zp(e,o)&&(i=i.add(o))}),i}ys(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}fs(e,n,i){return Fl()<=Be.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",ql(n)),this.As.getDocumentsMatchingQuery(e,n,va.min(),i)}ws(e,n,i,s){return this.As.getDocumentsMatchingQuery(e,i,s).next(o=>(n.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="LocalStore",D5=3e8;class P5{constructor(e,n,i,s){this.persistence=e,this.bs=n,this.serializer=s,this.Ss=new _t(Ve),this.Ds=new Go(o=>pb(o),gb),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b5(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function k5(t,e,n,i){return new P5(t,e,n,i)}async function cN(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,n.Fs(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let f=Fe();for(const d of s){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){h.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(i,f).next(d=>({Ms:d,removedBatchIds:u,addedBatchIds:h}))})})}function O5(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=n.Cs.newChangeBuffer({trackRemovals:!0});return function(h,f,d,g){const _=d.batch,T=_.keys();let x=ue.resolve();return T.forEach(S=>{x=x.next(()=>g.getEntry(f,S)).next(N=>{const R=d.docVersions.get(S);et(R!==null,48541),N.version.compareTo(R)<0&&(_.applyToRemoteDocument(N,d),N.isValidDocument()&&(N.setReadTime(d.commitVersion),g.addEntry(N)))})}),x.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=Fe();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function hN(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function M5(t,e){const n=ke(t),i=e.snapshotVersion;let s=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=n.Cs.newChangeBuffer({trackRemovals:!0});s=n.Ss;const h=[];e.targetChanges.forEach((g,_)=>{const T=s.get(_);if(!T)return;h.push(n.ai.removeMatchingKeys(o,g.removedDocuments,_).next(()=>n.ai.addMatchingKeys(o,g.addedDocuments,_)));let x=T.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?x=x.withResumeToken(hn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):g.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(g.resumeToken,i)),s=s.insert(_,x),function(N,R,k){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=D5?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(T,x,g)&&h.push(n.ai.updateTargetData(o,x))});let f=ps(),d=Fe();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(j5(o,u,e.documentUpdates).next(g=>{f=g.xs,d=g.Os})),!i.isEqual(Pe.min())){const g=n.ai.getLastRemoteSnapshotVersion(o).next(_=>n.ai.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(g)}return ue.waitFor(h).next(()=>u.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(n.Ss=s,o))}function j5(t,e,n){let i=Fe(),s=Fe();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let u=ps();return n.forEach((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Pe.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):pe(Sb,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)}),{xs:u,Os:s}})}function V5(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=fb),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function L5(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.ai.getTargetData(i,e).next(o=>o?(s=o,ue.resolve(s)):n.ai.allocateTargetId(i).next(u=>(s=new ua(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.ai.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ss.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(i.targetId,i),n.Ds.set(e,i.targetId)),i})}async function i_(t,e,n){const i=ke(t),s=i.Ss.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Fu(u))throw u;pe(Sb,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(s.target)}function YS(t,e,n){const i=ke(t);let s=Pe.min(),o=Fe();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,d,g){const _=ke(f),T=_.Ds.get(g);return T!==void 0?ue.resolve(_.Ss.get(T)):_.ai.getTargetData(d,g)}(i,u,mr(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>i.bs.getDocumentsMatchingQuery(u,e,n?s:Pe.min(),n?o:Fe())).next(h=>(U5(i,w6(e),h),{documents:h,Ns:o})))}function U5(t,e,n){let i=t.vs.get(e)||Pe.min();n.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.vs.set(e,i)}class XS{constructor(){this.activeTargetIds=N6()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z5{constructor(){this.So=new XS,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,i){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new XS,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="ConnectivityMonitor";class JS{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){pe(WS,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){pe(WS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fm=null;function r_(){return fm===null?fm=function(){return 268435456+Math.round(2147483648*Math.random())}():fm++,"0x"+fm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="RestConnection",F5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q5{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${i}/databases/${s}`,this.qo=this.databaseId.database===Zm?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Qo(e,n,i,s,o){const u=r_(),h=this.$o(e,n.toUriEncodedString());pe(zv,`Sending RPC '${e}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(f,s,o);const{host:d}=new URL(h),g=Pp(d);return this.Ko(e,h,f,i,g).then(_=>(pe(zv,`Received RPC '${e}' ${u}: `,_),_),_=>{throw Eu(zv,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",i),_})}Wo(e,n,i,s,o,u){return this.Qo(e,n,i,s,o)}Uo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),i&&i.headers.forEach((s,o)=>e[o]=s)}$o(e,n){const i=F5[e];return`${this.Lo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class G5 extends q5{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,i,s,o){const u=r_();return new Promise((h,f)=>{const d=new dI;d.setWithCredentials(!0),d.listenOnce(mI.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Am.NO_ERROR:const _=d.getResponseJson();pe(gn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case Am.TIMEOUT:pe(gn,`RPC '${e}' ${u} timed out`),f(new ge(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Am.HTTP_ERROR:const T=d.getStatus();if(pe(gn,`RPC '${e}' ${u} failed with status:`,T,"response text:",d.getResponseText()),T>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const N=function(k){const U=k.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(U)>=0?U:ce.UNKNOWN}(S.status);f(new ge(N,S.message))}else f(new ge(ce.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new ge(ce.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{s_:e,streamId:u,o_:d.getLastErrorCode(),__:d.getLastError()})}}finally{pe(gn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(s);pe(gn,`RPC '${e}' ${u} sending request:`,s),d.send(n,"POST",g,i,15)})}a_(e,n,i){const s=r_(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=yI(),h=gI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const g=o.join("");pe(gn,`Creating RPC '${e}' stream ${s}: ${g}`,f);const _=u.createWebChannel(g,f);let T=!1,x=!1;const S=new H5({Go:R=>{x?pe(gn,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(T||(pe(gn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),T=!0),pe(gn,`RPC '${e}' stream ${s} sending:`,R),_.send(R))},zo:()=>_.close()}),N=(R,k,U)=>{R.listen(k,V=>{try{U(V)}catch($){setTimeout(()=>{throw $},0)}})};return N(_,ph.EventType.OPEN,()=>{x||(pe(gn,`RPC '${e}' stream ${s} transport opened.`),S.t_())}),N(_,ph.EventType.CLOSE,()=>{x||(x=!0,pe(gn,`RPC '${e}' stream ${s} transport closed`),S.r_())}),N(_,ph.EventType.ERROR,R=>{x||(x=!0,Eu(gn,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),S.r_(new ge(ce.UNAVAILABLE,"The operation could not be completed")))}),N(_,ph.EventType.MESSAGE,R=>{var k;if(!x){const U=R.data[0];et(!!U,16349);const V=U,$=(V==null?void 0:V.error)||((k=V[0])===null||k===void 0?void 0:k.error);if($){pe(gn,`RPC '${e}' stream ${s} received error:`,$);const A=$.status;let q=function(P){const j=Ot[P];if(j!==void 0)return JI(j)}(A),M=$.message;q===void 0&&(q=ce.INTERNAL,M="Unknown error status: "+A+" with message "+$.message),x=!0,S.r_(new ge(q,M)),_.close()}else pe(gn,`RPC '${e}' stream ${s} received:`,U),S.i_(U)}}),N(h,pI.STAT_EVENT,R=>{R.stat===G0.PROXY?pe(gn,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===G0.NOPROXY&&pe(gn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.n_()},0),S}}function Bv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t){return new Y6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n,i=1e3,s=1.5,o=6e4){this.bi=e,this.timerId=n,this.u_=i,this.c_=s,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),s=Math.max(0,n-i);s>0&&pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="PersistentStream";class dN{constructor(e,n,i,s,o,u,h,f){this.bi=e,this.R_=i,this.V_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new fN(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(ms(n.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.m_===n&&this.B_(i,s)},i=>{e(()=>{const s=new ge(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(s)})})}B_(e,n){const i=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{i(()=>this.L_(s))}),this.stream.onMessage(s=>{i(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return pe(ZS,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(pe(ZS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K5 extends dN{constructor(e,n,i,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,u),this.serializer=o}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=J6(this.serializer,e),i=function(o){if(!("targetChange"in o))return Pe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Pe.min():u.readTime?pr(u.readTime):Pe.min()}(e);return this.listener.Q_(n,i)}U_(e){const n={};n.database=n_(this.serializer),n.addTarget=function(o,u){let h;const f=u.target;if(h=X0(f)?{documents:t5(o,f)}:{query:n5(o,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=tN(o,u.resumeToken);const d=Z0(o,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo(Pe.min())>0){h.readTime=rp(o,u.snapshotVersion.toTimestamp());const d=Z0(o,u.expectedCount);d!==null&&(h.expectedCount=d)}return h}(this.serializer,e);const i=r5(this.serializer,e);i&&(n.labels=i),this.F_(n)}K_(e){const n={};n.database=n_(this.serializer),n.removeTarget=e,this.F_(n)}}class $5 extends dN{constructor(e,n,i,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=e5(e.writeResults,e.commitTime),i=pr(e.commitTime);return this.listener.j_(i,n)}H_(){const e={};e.database=n_(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>Z6(this.serializer,i))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{}class Y5 extends Q5{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new ge(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(e,e_(n,i),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(ce.UNKNOWN,o.toString())})}Wo(e,n,i,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,e_(n,i),s,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ce.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class X5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ms(n),this.ea=!1):pe("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="RemoteStore";class W5{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{i.enqueueAndForget(async()=>{Ko(this)&&(pe(Fo,"Restarting streams for network reachability change."),await async function(f){const d=ke(f);d.aa.add(4),await wf(d),d.la.set("Unknown"),d.aa.delete(4),await Gp(d)}(this))})}),this.la=new X5(i,s)}}async function Gp(t){if(Ko(t))for(const e of t.ua)await e(!0)}async function wf(t){for(const e of t.ua)await e(!1)}function mN(t,e){const n=ke(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Ib(n)?Cb(n):qu(n).b_()&&Rb(n,e))}function Ab(t,e){const n=ke(t),i=qu(n);n._a.delete(e),i.b_()&&pN(n,e),n._a.size===0&&(i.b_()?i.v_():Ko(n)&&n.la.set("Unknown"))}function Rb(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qu(t).U_(e)}function pN(t,e){t.ha.Ke(e),qu(t).K_(e)}function Cb(t){t.ha=new G6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),qu(t).start(),t.la.ta()}function Ib(t){return Ko(t)&&!qu(t).w_()&&t._a.size>0}function Ko(t){return ke(t).aa.size===0}function gN(t){t.ha=void 0}async function J5(t){t.la.set("Online")}async function Z5(t){t._a.forEach((e,n)=>{Rb(t,e)})}async function e9(t,e){gN(t),Ib(t)?(t.la.ia(e),Cb(t)):t.la.set("Unknown")}async function t9(t,e,n){if(t.la.set("Online"),e instanceof eN&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const h of o.targetIds)s._a.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s._a.delete(h),s.ha.removeTarget(h))}(t,e)}catch(i){pe(Fo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ap(t,i)}else if(e instanceof Nm?t.ha.Xe(e):e instanceof ZI?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Pe.min()))try{const i=await hN(t.localStore);n.compareTo(i)>=0&&await function(o,u){const h=o.ha.It(u);return h.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o._a.get(d);g&&o._a.set(d,g.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,d)=>{const g=o._a.get(f);if(!g)return;o._a.set(f,g.withResumeToken(hn.EMPTY_BYTE_STRING,g.snapshotVersion)),pN(o,f);const _=new ua(g.target,f,d,g.sequenceNumber);Rb(o,_)}),o.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(i){pe(Fo,"Failed to raise snapshot:",i),await ap(t,i)}}async function ap(t,e,n){if(!Fu(e))throw e;t.aa.add(1),await wf(t),t.la.set("Offline"),n||(n=()=>hN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pe(Fo,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await Gp(t)})}function yN(t,e){return e().catch(n=>ap(t,n,e))}async function Kp(t){const e=ke(t),n=xa(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:fb;for(;n9(e);)try{const s=await V5(e.localStore,i);if(s===null){e.oa.length===0&&n.v_();break}i=s.batchId,i9(e,s)}catch(s){await ap(e,s)}vN(e)&&_N(e)}function n9(t){return Ko(t)&&t.oa.length<10}function i9(t,e){t.oa.push(e);const n=xa(t);n.b_()&&n.W_&&n.G_(e.mutations)}function vN(t){return Ko(t)&&!xa(t).w_()&&t.oa.length>0}function _N(t){xa(t).start()}async function r9(t){xa(t).H_()}async function s9(t){const e=xa(t);for(const n of t.oa)e.G_(n.mutations)}async function a9(t,e,n){const i=t.oa.shift(),s=_b.from(i,e,n);await yN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Kp(t)}async function o9(t,e){e&&xa(t).W_&&await async function(i,s){if(function(u){return q6(u)&&u!==ce.ABORTED}(s.code)){const o=i.oa.shift();xa(i).D_(),await yN(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Kp(i)}}(t,e),vN(t)&&_N(t)}async function eA(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),pe(Fo,"RemoteStore received new credentials");const i=Ko(n);n.aa.add(3),await wf(n),i&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Gp(n)}async function l9(t,e){const n=ke(t);e?(n.aa.delete(2),await Gp(n)):e||(n.aa.add(2),await wf(n),n.la.set("Unknown"))}function qu(t){return t.Pa||(t.Pa=function(n,i,s){const o=ke(n);return o.Y_(),new K5(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{jo:J5.bind(null,t),Jo:Z5.bind(null,t),Zo:e9.bind(null,t),Q_:t9.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),Ib(t)?Cb(t):t.la.set("Unknown")):(await t.Pa.stop(),gN(t))})),t.Pa}function xa(t){return t.Ta||(t.Ta=function(n,i,s){const o=ke(n);return o.Y_(),new $5(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:r9.bind(null,t),Zo:o9.bind(null,t),z_:s9.bind(null,t),j_:a9.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await Kp(t)):(await t.Ta.stop(),t.oa.length>0&&(pe(Fo,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const u=Date.now()+i,h=new Nb(e,n,u,s,o);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Db(t,e){if(ms("AsyncQueue",`${e}: ${t}`),Fu(t))return new ge(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{static emptySet(e){return new ru(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Te.comparator(n.key,i.key):(n,i)=>Te.comparator(n.key,i.key),this.keyedMap=gh(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ru)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ru;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.Ia=new _t(Te.comparator)}track(e){const n=e.doc.key,i=this.Ia.get(n);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(n):e.type===1&&i.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Ae(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,i)=>{e.push(i)}),e}}class Cu{constructor(e,n,i,s,o,u,h,f,d){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,i,s,o){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new Cu(e,n,ru.emptySet(n),u,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Up(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class c9{constructor(){this.queries=nA(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,i){const s=ke(n),o=s.queries;s.queries=nA(),o.forEach((u,h)=>{for(const f of h.Ra)f.onError(i)})})(this,new ge(ce.ABORTED,"Firestore shutting down"))}}function nA(){return new Go(t=>UI(t),Up)}async function bN(t,e){const n=ke(t);let i=3;const s=e.query;let o=n.queries.get(s);o?!o.Va()&&e.ma()&&(i=2):(o=new u9,i=e.ma()?0:1);try{switch(i){case 0:o.Aa=await n.onListen(s,!0);break;case 1:o.Aa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const h=Db(u,`Initialization of query '${ql(e.query)}' failed`);return void e.onError(h)}n.queries.set(s,o),o.Ra.push(e),e.ga(n.onlineState),o.Aa&&e.pa(o.Aa)&&Pb(n)}async function TN(t,e){const n=ke(t),i=e.query;let s=3;const o=n.queries.get(i);if(o){const u=o.Ra.indexOf(e);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?s=e.ma()?0:1:!o.Va()&&e.ma()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function h9(t,e){const n=ke(t);let i=!1;for(const s of e){const o=s.query,u=n.queries.get(o);if(u){for(const h of u.Ra)h.pa(s)&&(i=!0);u.Aa=s}}i&&Pb(n)}function f9(t,e,n){const i=ke(t),s=i.queries.get(e);if(s)for(const o of s.Ra)o.onError(n);i.queries.delete(e)}function Pb(t){t.fa.forEach(e=>{e.next()})}var s_,iA;(iA=s_||(s_={})).ya="default",iA.Cache="cache";class xN{constructor(e,n,i){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Cu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const i=n!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==s_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.key=e}}class wN{constructor(e){this.key=e}}class d9{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Fe(),this.mutatedKeys=Fe(),this.Ua=zI(e),this.Ka=new ru(this.Ua)}get Wa(){return this.qa}Ga(e,n){const i=n?n.za:new tA,s=n?n.Ka:this.Ka;let o=n?n.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,_)=>{const T=s.get(g),x=zp(this.query,_)?_:null,S=!!T&&this.mutatedKeys.has(T.key),N=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let R=!1;T&&x?T.data.isEqual(x.data)?S!==N&&(i.track({type:3,doc:x}),R=!0):this.ja(T,x)||(i.track({type:2,doc:x}),R=!0,(f&&this.Ua(x,f)>0||d&&this.Ua(x,d)<0)&&(h=!0)):!T&&x?(i.track({type:0,doc:x}),R=!0):T&&!x&&(i.track({type:1,doc:T}),R=!0,(f||d)&&(h=!0)),R&&(x?(u=u.add(x),o=N?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{Ka:u,za:i,ys:h,mutatedKeys:o}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((g,_)=>function(x,S){const N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:R})}};return N(x)-N(S)}(g.type,_.type)||this.Ua(g.doc,_.doc)),this.Ha(i),s=s!=null&&s;const h=n&&!s?this.Ja():[],f=this.$a.size===0&&this.current&&!s?1:0,d=f!==this.Qa;return this.Qa=f,u.length!==0||d?{snapshot:new Cu(this.query,e.Ka,o,u,e.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new tA,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Fe(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const n=[];return e.forEach(i=>{this.$a.has(i)||n.push(new wN(i))}),this.$a.forEach(i=>{e.has(i)||n.push(new EN(i))}),n}Xa(e){this.qa=e.Ns,this.$a=Fe();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Cu.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const kb="SyncEngine";class m9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class p9{constructor(e){this.key=e,this.tu=!1}}class g9{constructor(e,n,i,s,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Go(h=>UI(h),Up),this.iu=new Map,this.su=new Set,this.ou=new _t(Te.comparator),this._u=new Map,this.au=new xb,this.uu={},this.cu=new Map,this.lu=Ru.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function y9(t,e,n=!0){const i=NN(t);let s;const o=i.ru.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.eu()):s=await SN(i,e,n,!0),s}async function v9(t,e){const n=NN(t);await SN(n,e,!0,!1)}async function SN(t,e,n,i){const s=await L5(t.localStore,mr(e)),o=s.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let h;return i&&(h=await _9(t,e,o,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&mN(t.remoteStore,s),h}async function _9(t,e,n,i,s){t.Pu=(_,T,x)=>async function(N,R,k,U){let V=R.view.Ga(k);V.ys&&(V=await YS(N.localStore,R.query,!1).then(({documents:M})=>R.view.Ga(M,V)));const $=U&&U.targetChanges.get(R.targetId),A=U&&U.targetMismatches.get(R.targetId)!=null,q=R.view.applyChanges(V,N.isPrimaryClient,$,A);return sA(N,R.targetId,q.Ya),q.snapshot}(t,_,T,x);const o=await YS(t.localStore,e,!0),u=new d9(e,o.Ns),h=u.Ga(o.documents),f=Ef.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),d=u.applyChanges(h,t.isPrimaryClient,f);sA(t,n,d.Ya);const g=new m9(e,n,u);return t.ru.set(e,g),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),d.snapshot}async function b9(t,e,n){const i=ke(t),s=i.ru.get(e),o=i.iu.get(s.targetId);if(o.length>1)return i.iu.set(s.targetId,o.filter(u=>!Up(u,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await i_(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Ab(i.remoteStore,s.targetId),a_(i,s.targetId)}).catch(Bu)):(a_(i,s.targetId),await i_(i.localStore,s.targetId,!0))}async function T9(t,e){const n=ke(t),i=n.ru.get(e),s=n.iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Ab(n.remoteStore,i.targetId))}async function x9(t,e,n){const i=I9(t);try{const s=await function(u,h){const f=ke(u),d=qt.now(),g=h.reduce((x,S)=>x.add(S.key),Fe());let _,T;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>{let S=ps(),N=Fe();return f.Cs.getEntries(x,g).next(R=>{S=R,S.forEach((k,U)=>{U.isValidDocument()||(N=N.add(k))})}).next(()=>f.localDocuments.getOverlayedDocuments(x,S)).next(R=>{_=R;const k=[];for(const U of h){const V=L6(U,_.get(U.key).overlayedDocument);V!=null&&k.push(new Na(U.key,V,DI(V.value.mapValue),zi.exists(!0)))}return f.mutationQueue.addMutationBatch(x,d,k,h)}).next(R=>{T=R;const k=R.applyToLocalDocumentSet(_,N);return f.documentOverlayCache.saveOverlays(x,R.batchId,k)})}).then(()=>({batchId:T.batchId,changes:FI(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(u,h,f){let d=u.uu[u.currentUser.toKey()];d||(d=new _t(Ve)),d=d.insert(h,f),u.uu[u.currentUser.toKey()]=d}(i,s.batchId,n),await Sf(i,s.changes),await Kp(i.remoteStore)}catch(s){const o=Db(s,"Failed to persist write");n.reject(o)}}async function AN(t,e){const n=ke(t);try{const i=await M5(n.localStore,e);e.targetChanges.forEach((s,o)=>{const u=n._u.get(o);u&&(et(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.tu=!0:s.modifiedDocuments.size>0?et(u.tu,14607):s.removedDocuments.size>0&&(et(u.tu,42227),u.tu=!1))}),await Sf(n,i,e)}catch(i){await Bu(i)}}function rA(t,e,n){const i=ke(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.ru.forEach((o,u)=>{const h=u.view.ga(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const f=ke(u);f.onlineState=h;let d=!1;f.queries.forEach((g,_)=>{for(const T of _.Ra)T.ga(h)&&(d=!0)}),d&&Pb(f)}(i.eventManager,e),s.length&&i.nu.Q_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function E9(t,e,n){const i=ke(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i._u.get(e),o=s&&s.key;if(o){let u=new _t(Te.comparator);u=u.insert(o,Tn.newNoDocument(o,Pe.min()));const h=Fe().add(o),f=new qp(Pe.min(),new Map,new _t(Ve),u,h);await AN(i,f),i.ou=i.ou.remove(o),i._u.delete(e),Ob(i)}else await i_(i.localStore,e,!1).then(()=>a_(i,e,n)).catch(Bu)}async function w9(t,e){const n=ke(t),i=e.batch.batchId;try{const s=await O5(n.localStore,e);CN(n,i,null),RN(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Sf(n,s)}catch(s){await Bu(s)}}async function S9(t,e,n){const i=ke(t);try{const s=await function(u,h){const f=ke(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return f.mutationQueue.lookupMutationBatch(d,h).next(_=>(et(_!==null,37113),g=_.keys(),f.mutationQueue.removeMutationBatch(d,_))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>f.localDocuments.getDocuments(d,g))})}(i.localStore,e);CN(i,e,n),RN(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Sf(i,s)}catch(s){await Bu(s)}}function RN(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function CN(t,e,n){const i=ke(t);let s=i.uu[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.uu[i.currentUser.toKey()]=s}}function a_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.iu.get(e))t.ru.delete(i),n&&t.nu.Tu(i,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(i=>{t.au.containsKey(i)||IN(t,i)})}function IN(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(Ab(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),Ob(t))}function sA(t,e,n){for(const i of n)i instanceof EN?(t.au.addReference(i.key,e),A9(t,i)):i instanceof wN?(pe(kb,"Document no longer in limbo: "+i.key),t.au.removeReference(i.key,e),t.au.containsKey(i.key)||IN(t,i.key)):Ae(19791,{Iu:i})}function A9(t,e){const n=e.key,i=n.path.canonicalString();t.ou.get(n)||t.su.has(i)||(pe(kb,"New document in limbo: "+n),t.su.add(i),Ob(t))}function Ob(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new Te(dt.fromString(e)),i=t.lu.next();t._u.set(i,new p9(n)),t.ou=t.ou.insert(n,i),mN(t.remoteStore,new ua(mr(yb(n.path)),i,"TargetPurposeLimboResolution",jp.le))}}async function Sf(t,e,n){const i=ke(t),s=[],o=[],u=[];i.ru.isEmpty()||(i.ru.forEach((h,f)=>{u.push(i.Pu(f,e,n).then(d=>{var g;if((d||n)&&i.isPrimaryClient){const _=d?!d.fromCache:(g=n==null?void 0:n.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(d){s.push(d);const _=wb.Ps(f.targetId,d);o.push(_)}}))}),await Promise.all(u),i.nu.Q_(s),await async function(f,d){const g=ke(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ue.forEach(d,T=>ue.forEach(T.ls,x=>g.persistence.referenceDelegate.addReference(_,T.targetId,x)).next(()=>ue.forEach(T.hs,x=>g.persistence.referenceDelegate.removeReference(_,T.targetId,x)))))}catch(_){if(!Fu(_))throw _;pe(Sb,"Failed to update sequence numbers: "+_)}for(const _ of d){const T=_.targetId;if(!_.fromCache){const x=g.Ss.get(T),S=x.snapshotVersion,N=x.withLastLimboFreeSnapshotVersion(S);g.Ss=g.Ss.insert(T,N)}}}(i.localStore,o))}async function R9(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){pe(kb,"User change. New user:",e.toKey());const i=await cN(n.localStore,e);n.currentUser=e,function(o,u){o.cu.forEach(h=>{h.forEach(f=>{f.reject(new ge(ce.CANCELLED,u))})}),o.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Sf(n,i.Ms)}}function C9(t,e){const n=ke(t),i=n._u.get(e);if(i&&i.tu)return Fe().add(i.key);{let s=Fe();const o=n.iu.get(e);if(!o)return s;for(const u of o){const h=n.ru.get(u);s=s.unionWith(h.view.Wa)}return s}}function NN(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E9.bind(null,e),e.nu.Q_=h9.bind(null,e.eventManager),e.nu.Tu=f9.bind(null,e.eventManager),e}function I9(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S9.bind(null,e),e}class op{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hp(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return k5(this.persistence,new N5,e.initialUser,this.serializer)}Ru(e){return new uN(Eb.Ei,this.serializer)}Au(e){return new z5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}op.provider={build:()=>new op};class N9 extends op{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){et(this.persistence.referenceDelegate instanceof sp,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new p5(i,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new uN(i=>sp.Ei(i,n),this.serializer)}}class o_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>rA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=R9.bind(null,this.syncEngine),await l9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new c9}()}createDatastore(e){const n=Hp(e.databaseInfo.databaseId),i=function(o){return new G5(o)}(e.databaseInfo);return function(o,u,h,f){return new Y5(o,u,h,f)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,o,u,h){return new W5(i,s,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>rA(this.syncEngine,n,0),function(){return JS.C()?new JS:new B5}())}createSyncEngine(e,n){return function(s,o,u,h,f,d,g){const _=new g9(s,o,u,h,f,d);return g&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=ke(s);pe(Fo,"RemoteStore shutting down."),o.aa.add(5),await wf(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}o_.provider={build:()=>new o_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="FirestoreClient";class D9{constructor(e,n,i,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=bn.UNAUTHENTICATED,this.clientId=TI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async u=>{pe(Ea,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(pe(Ea,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Db(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Fv(t,e){t.asyncQueue.verifyOperationInProgress(),pe(Ea,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await cN(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function aA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await P9(t);pe(Ea,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>eA(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>eA(e.remoteStore,s)),t._onlineComponents=e}async function P9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(Ea,"Using user provided OfflineComponentProvider");try{await Fv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ce.FAILED_PRECONDITION||s.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Eu("Error using user provided cache. Falling back to memory cache: "+n),await Fv(t,new op)}}else pe(Ea,"Using default OfflineComponentProvider"),await Fv(t,new N9(void 0));return t._offlineComponents}async function PN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(Ea,"Using user provided OnlineComponentProvider"),await aA(t,t._uninitializedComponentsProvider._online)):(pe(Ea,"Using default OnlineComponentProvider"),await aA(t,new o_))),t._onlineComponents}function k9(t){return PN(t).then(e=>e.syncEngine)}async function kN(t){const e=await PN(t),n=e.eventManager;return n.onListen=y9.bind(null,e.syncEngine),n.onUnlisten=b9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=v9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=T9.bind(null,e.syncEngine),n}function O9(t,e,n={}){const i=new us;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,d){const g=new DN({next:T=>{g.yu(),u.enqueueAndForget(()=>TN(o,_));const x=T.docs.has(h);!x&&T.fromCache?d.reject(new ge(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&T.fromCache&&f&&f.source==="server"?d.reject(new ge(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(T)},error:T=>d.reject(T)}),_=new xN(yb(h.path),g,{includeMetadataChanges:!0,Fa:!0});return bN(o,_)}(await kN(t),t.asyncQueue,e,n,i)),i.promise}function M9(t,e,n={}){const i=new us;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,d){const g=new DN({next:T=>{g.yu(),u.enqueueAndForget(()=>TN(o,_)),T.fromCache&&f.source==="server"?d.reject(new ge(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(T)},error:T=>d.reject(T)}),_=new xN(h,g,{includeMetadataChanges:!0,Fa:!0});return bN(o,_)}(await kN(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t,e,n){if(!n)throw new ge(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function j9(t,e,n,i){if(e===!0&&i===!0)throw new ge(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lA(t){if(!Te.isDocumentKey(t))throw new ge(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uA(t){if(Te.isDocumentKey(t))throw new ge(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $p(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function Er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$p(t);throw new ge(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="firestore.googleapis.com",cA=!0;class hA{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jN,this.ssl=cA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:cA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<d5)throw new ge(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}j9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ON((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ge(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ge(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ge(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qp{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new qz;switch(i.type){case"firstParty":return new $z(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=oA.get(n);i&&(pe("ComponentProvider","Removing Datastore"),oA.delete(n),i.terminate())}(this),Promise.resolve()}}function V9(t,e,n,i={}){var s;t=Er(t,Qp);const o=Pp(e),u=t._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;o&&T2(`https://${f}`),u.host!==jN&&u.host!==f&&Eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:i});if(!Vo(d,h)&&(t._setSettings(d),i.mockUserToken)){let g,_;if(typeof i.mockUserToken=="string")g=i.mockUserToken,_=bn.MOCK_USER;else{g=Q3(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new ge(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new bn(T)}t._authCredentials=new Hz(new _I(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Hu(this.firestore,e,this._query)}}class Dn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class pa extends Hu{constructor(e,n,i){super(e,n,yb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new Te(e))}withConverter(e){return new pa(this.firestore,e,this._path)}}function VN(t,e,...n){if(t=jt(t),MN("collection","path",e),t instanceof Qp){const i=dt.fromString(e,...n);return uA(i),new pa(t,null,i)}{if(!(t instanceof Dn||t instanceof pa))throw new ge(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(dt.fromString(e,...n));return uA(i),new pa(t.firestore,null,i)}}function Iu(t,e,...n){if(t=jt(t),arguments.length===1&&(e=TI.newId()),MN("doc","path",e),t instanceof Qp){const i=dt.fromString(e,...n);return lA(i),new Dn(t,null,new Te(i))}{if(!(t instanceof Dn||t instanceof pa))throw new ge(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(dt.fromString(e,...n));return lA(i),new Dn(t.firestore,t instanceof pa?t.converter:null,new Te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="AsyncQueue";class dA{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new fN(this,"async_queue_retry"),this.ju=()=>{const i=Bv();i&&pe(fA,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const n=Bv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Bv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new us;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Fu(e))throw e;pe(fA,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,ms("INTERNAL UNHANDLED ERROR: ",mA(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=n,n}enqueueAfterDelay(e,n,i){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const s=Nb.createAndSchedule(this,e,n,i,o=>this.Xu(o));return this.Uu.push(s),s}Ju(){this.Ku&&Ae(47125,{ec:mA(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function mA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Gu extends Qp{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new dA,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dA(e),this._firestoreClient=void 0,await e}}}function L9(t,e){const n=typeof t=="object"?t:eb(),i=typeof t=="string"?t:Zm,s=Z_(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=K3("firestore");o&&V9(s,...o)}return s}function Mb(t){if(t._terminated)throw new ge(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||U9(t),t._firestoreClient}function U9(t){var e,n,i;const s=t._freezeSettings(),o=function(h,f,d,g){return new l6(h,f,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,ON(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new D9(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nu(hn.fromBase64String(e))}catch(n){throw new ge(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nu(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=/^__.*__$/;class B9{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Na(e,this.data,this.fieldMask,n,this.fieldTransforms):new xf(e,this.data,n,this.fieldTransforms)}}class LN{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Na(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function UN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{oc:t})}}class Lb{constructor(e,n,i,s,o,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Lb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:i,cc:!1});return s.lc(e),s}hc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:i,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return lp(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(UN(this.oc)&&z9.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class F9{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Hp(e)}dc(e,n,i,s=!1){return new Lb({oc:e,methodName:n,Ec:i,path:un.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wp(t){const e=t._freezeSettings(),n=Hp(t._databaseId);return new F9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zN(t,e,n,i,s,o={}){const u=t.dc(o.merge||o.mergeFields?2:0,e,n,s);zb("Data must be an object, but it was:",u,i);const h=BN(i,u);let f,d;if(o.merge)f=new Xn(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const T=l_(e,_,n);if(!u.contains(T))throw new ge(ce.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);qN(g,T)||g.push(T)}f=new Xn(g),d=u.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,d=u.fieldTransforms;return new B9(new Un(h),f,d)}class Jp extends Xp{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jp}}class Ub extends Xp{_toFieldTransform(e){return new O6(e.path,new qh)}isEqual(e){return e instanceof Ub}}function q9(t,e,n,i){const s=t.dc(1,e,n);zb("Data must be an object, but it was:",s,i);const o=[],u=Un.empty();Ia(i,(f,d)=>{const g=Bb(e,f,n);d=jt(d);const _=s.hc(g);if(d instanceof Jp)o.push(g);else{const T=Af(d,_);T!=null&&(o.push(g),u.set(g,T))}});const h=new Xn(o);return new LN(u,h,s.fieldTransforms)}function H9(t,e,n,i,s,o){const u=t.dc(1,e,n),h=[l_(e,i,n)],f=[s];if(o.length%2!=0)throw new ge(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)h.push(l_(e,o[T])),f.push(o[T+1]);const d=[],g=Un.empty();for(let T=h.length-1;T>=0;--T)if(!qN(d,h[T])){const x=h[T];let S=f[T];S=jt(S);const N=u.hc(x);if(S instanceof Jp)d.push(x);else{const R=Af(S,N);R!=null&&(d.push(x),g.set(x,R))}}const _=new Xn(d);return new LN(g,_,u.fieldTransforms)}function G9(t,e,n,i=!1){return Af(n,t.dc(i?4:3,e))}function Af(t,e){if(FN(t=jt(t)))return zb("Unsupported field value:",e,t),BN(t,e);if(t instanceof Xp)return function(i,s){if(!UN(s.oc))throw s.Tc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,s){const o=[];let u=0;for(const h of i){let f=Af(h,s.Pc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(t,e)}return function(i,s){if((i=jt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return D6(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=qt.fromDate(i);return{timestampValue:rp(s.serializer,o)}}if(i instanceof qt){const o=new qt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:rp(s.serializer,o)}}if(i instanceof jb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Nu)return{bytesValue:tN(s.serializer,i._byteString)};if(i instanceof Dn){const o=s.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw s.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Tb(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Vb)return function(u,h){return{mapValue:{fields:{[II]:{stringValue:NI},[ep]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw h.Tc("VectorValues must only contain numeric values.");return vb(h.serializer,d)})}}}}}}(i,s);throw s.Tc(`Unsupported field value: ${$p(i)}`)}(t,e)}function BN(t,e){const n={};return EI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ia(t,(i,s)=>{const o=Af(s,e.uc(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function FN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qt||t instanceof jb||t instanceof Nu||t instanceof Dn||t instanceof Xp||t instanceof Vb)}function zb(t,e,n){if(!FN(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=$p(n);throw i==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+i)}}function l_(t,e,n){if((e=jt(e))instanceof Yp)return e._internalPath;if(typeof e=="string")return Bb(t,e);throw lp("Field path arguments must be of type string or ",t,!1,void 0,n)}const K9=new RegExp("[~\\*/\\[\\]]");function Bb(t,e,n){if(e.search(K9)>=0)throw lp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yp(...e.split("."))._internalPath}catch{throw lp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lp(t,e,n,i,s){const o=i&&!i.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${i}`),u&&(f+=` in document ${s}`),f+=")"),new ge(ce.INVALID_ARGUMENT,h+t+f)}function qN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $9 extends HN{data(){return super.data()}}function Fb(t,e){return typeof e=="string"?Bb(t,e):e instanceof Yp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qb{}class Y9 extends qb{}function X9(t,e,...n){let i=[];e instanceof qb&&i.push(e),i=i.concat(n),function(o){const u=o.filter(f=>f instanceof Hb).length,h=o.filter(f=>f instanceof Zp).length;if(u>1||u>0&&h>0)throw new ge(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class Zp extends Y9{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Zp(e,n,i)}_apply(e){const n=this._parse(e);return GN(e._query,n),new Hu(e.firestore,e.converter,W0(e._query,n))}_parse(e){const n=Wp(e.firestore);return function(o,u,h,f,d,g,_){let T;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ge(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){gA(_,g);const S=[];for(const N of _)S.push(pA(f,o,N));T={arrayValue:{values:S}}}else T=pA(f,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||gA(_,g),T=G9(h,u,_,g==="in"||g==="not-in");return Mt.create(d,g,T)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function W9(t,e,n){const i=e,s=Fb("where",t);return Zp._create(s,i,n)}class Hb extends qb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hb(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:qi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let u=s;const h=o.getFlattenedFilters();for(const f of h)GN(u,f),u=W0(u,f)}(e._query,n),new Hu(e.firestore,e.converter,W0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function pA(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new ge(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LI(e)&&n.indexOf("/")!==-1)throw new ge(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(dt.fromString(n));if(!Te.isDocumentKey(i))throw new ge(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return NS(t,new Te(i))}if(n instanceof Dn)return NS(t,n._key);throw new ge(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$p(n)}.`)}function gA(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GN(t,e){const n=function(s,o){for(const u of s)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class J9{convertValue(e,n="none"){switch(Ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ia(e,(s,o)=>{i[s]=this.convertValue(o,n)}),i}convertVectorValue(e){var n,i,s;const o=(s=(i=(n=e.fields)===null||n===void 0?void 0:n[ep].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(u=>It(u.doubleValue));return new Vb(o)}convertGeoPoint(e){return new jb(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Lp(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(zh(e));default:return null}}convertTimestamp(e){const n=_a(e);return new qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=dt.fromString(e);et(oN(i),9688,{name:e});const s=new Bh(i.get(1),i.get(3)),o=new Te(i.popFirst(5));return s.isEqual(n)||ms(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $N extends HN{constructor(e,n,i,s,o,u){super(e,n,i,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Fb("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Dm extends $N{data(e={}){return super.data(e)}}class Z9{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new vh(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Dm(this._firestore,this._userDataWriter,i.key,i,new vh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const f=new Dm(s._firestore,s._userDataWriter,h.doc.key,h.doc,new vh(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new Dm(s._firestore,s._userDataWriter,h.doc.key,h.doc,new vh(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,g=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:eB(h.type),doc:f,oldIndex:d,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function eB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t){t=Er(t,Dn);const e=Er(t.firestore,Gu);return O9(Mb(e),t._key).then(n=>rB(e,t,n))}class YN extends J9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,n)}}function tB(t){t=Er(t,Hu);const e=Er(t.firestore,Gu),n=Mb(e),i=new YN(e);return Q9(t._query),M9(n,t._query).then(s=>new Z9(e,i,t,s))}function XN(t,e,n){t=Er(t,Dn);const i=Er(t.firestore,Gu),s=KN(t.converter,e,n);return Gb(i,[zN(Wp(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,zi.none())])}function nB(t,e,n,...i){t=Er(t,Dn);const s=Er(t.firestore,Gu),o=Wp(s);let u;return u=typeof(e=jt(e))=="string"||e instanceof Yp?H9(o,"updateDoc",t._key,e,n,i):q9(o,"updateDoc",t._key,e),Gb(s,[u.toMutation(t._key,zi.exists(!0))])}function iB(t,e){const n=Er(t.firestore,Gu),i=Iu(t),s=KN(t.converter,e);return Gb(n,[zN(Wp(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,zi.exists(!1))]).then(()=>i)}function Gb(t,e){return function(i,s){const o=new us;return i.asyncQueue.enqueueAndForget(async()=>x9(await k9(i),s,o)),o.promise}(Mb(t),e)}function rB(t,e,n){const i=n.docs.get(e._key),s=new YN(t);return new $N(t,s,e._key,i,new vh(n.hasPendingWrites,n.fromCache),e.converter)}function sB(){return new Ub("serverTimestamp")}(function(e,n=!0){(function(s){zu=s})(Vu),Tu(new Lo("firestore",(i,{instanceIdentifier:s,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new Gu(new Gz(i.getProvider("auth-internal")),new Qz(u,i.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ge(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bh(d.options.projectId,g)}(u,s),u);return o=Object.assign({useFetchStreams:n},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),da(vS,_S,e),da(vS,_S,"esm2017")})();const aB={apiKey:"AIzaSyCXtV6CHvB_pqRWTCqbzgiF9lRcJnQ9GeY",authDomain:"hashbuy-f60af.firebaseapp.com",projectId:"hashbuy-f60af",storageBucket:"hashbuy-f60af.firebasestorage.app",messagingSenderId:"389477634200",appId:"1:389477634200:web:29de256a4dee15fed740ed",measurementId:"G-9DSVJGMSPX"},oB=uL().length>0,Ku=oB?eb():w2(aB);console.log("Firebase initialized:",Ku.name);const wa=Uu(Ku),qo=L9(Ku),Kb=I.createContext({});function $b(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const Qb=typeof window<"u",WN=Qb?I.useLayoutEffect:I.useEffect,eg=I.createContext(null),Yb=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class lB extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=i instanceof HTMLElement&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function uB({children:t,isPresent:e,anchorX:n}){const i=I.useId(),s=I.useRef(null),o=I.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=I.useContext(Yb);return I.useInsertionEffect(()=>{const{width:h,height:f,top:d,left:g,right:_}=o.current;if(e||!s.current||!h||!f)return;const T=n==="left"?`left: ${g}`:`right: ${_}`;s.current.dataset.motionPopId=i;const x=document.createElement("style");return u&&(x.nonce=u),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${T}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[e]),y.jsx(lB,{isPresent:e,childRef:s,sizeRef:o,children:I.cloneElement(t,{ref:s})})}const cB=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:u,anchorX:h})=>{const f=$b(hB),d=I.useId(),g=I.useCallback(T=>{f.set(T,!0);for(const x of f.values())if(!x)return;i&&i()},[f,i]),_=I.useMemo(()=>({id:d,initial:e,isPresent:n,custom:s,onExitComplete:g,register:T=>(f.set(T,!1),()=>f.delete(T))}),o?[Math.random(),g]:[n,g]);return I.useMemo(()=>{f.forEach((T,x)=>f.set(x,!1))},[n]),I.useEffect(()=>{!n&&!f.size&&i&&i()},[n]),u==="popLayout"&&(t=y.jsx(uB,{isPresent:n,anchorX:h,children:t})),y.jsx(eg.Provider,{value:_,children:t})};function hB(){return new Map}function JN(t=!0){const e=I.useContext(eg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,o=I.useId();I.useEffect(()=>{if(t)return s(o)},[t]);const u=I.useCallback(()=>t&&i&&i(o),[o,i,t]);return!n&&i?[!1,u]:[!0]}const dm=t=>t.key||"";function yA(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const tg=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:u=!1,anchorX:h="left"})=>{const[f,d]=JN(u),g=I.useMemo(()=>yA(t),[t]),_=u&&!f?[]:g.map(dm),T=I.useRef(!0),x=I.useRef(g),S=$b(()=>new Map),[N,R]=I.useState(g),[k,U]=I.useState(g);WN(()=>{T.current=!1,x.current=g;for(let A=0;A<k.length;A++){const q=dm(k[A]);_.includes(q)?S.delete(q):S.get(q)!==!0&&S.set(q,!1)}},[k,_.length,_.join("-")]);const V=[];if(g!==N){let A=[...g];for(let q=0;q<k.length;q++){const M=k[q],C=dm(M);_.includes(C)||(A.splice(q,0,M),V.push(M))}return o==="wait"&&V.length&&(A=V),U(yA(A)),R(g),null}const{forceRender:$}=I.useContext(Kb);return y.jsx(y.Fragment,{children:k.map(A=>{const q=dm(A),M=u&&!f?!1:g===k||_.includes(q),C=()=>{if(S.has(q))S.set(q,!0);else return;let P=!0;S.forEach(j=>{j||(P=!1)}),P&&($==null||$(),U(x.current),u&&(d==null||d()),i&&i())};return y.jsx(cB,{isPresent:M,initial:!T.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,onExitComplete:M?void 0:C,anchorX:h,children:A},q)})})};function Xb(t,e){t.indexOf(e)===-1&&t.push(e)}function Wb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let ZN=()=>{};const u_={useManualTiming:!1};function Jb(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ei=t=>t,Kh=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Zb{constructor(){this.subscriptions=[]}add(e){return Xb(this.subscriptions,e),()=>Wb(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let o=0;o<s;o++){const u=this.subscriptions[o];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gr=t=>t*1e3,yr=t=>t/1e3;function eD(t,e){return e?t*(1e3/e):0}const fB=Jb(()=>window.ScrollTimeline!==void 0);class dB{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(s=>{if(fB()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{i.forEach((s,o)=>{s&&s(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class mB extends dB{then(e,n){return this.finished.finally(e).then(()=>{})}}const vA={value:null},eT=t=>Array.isArray(t)&&typeof t[0]=="number",pB={};function gB(t,e){const n=Jb(t);return()=>pB[e]??n()}const $h=gB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tD=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)i+=t(o/(s-1))+", ";return`linear(${i.substring(0,i.length-2)})`},_h=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,c_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_h([0,.65,.55,1]),circOut:_h([.55,0,1,.45]),backIn:_h([.31,.01,.66,-.59]),backOut:_h([.33,1.53,.69,.99])};function nD(t,e){if(t)return typeof t=="function"&&$h()?tD(t,e):eT(t)?_h(t):Array.isArray(t)?t.map(n=>nD(n,e)||c_.easeOut):c_[t]}function yB(t,e,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:u="loop",ease:h="easeInOut",times:f}={},d=void 0){const g={[e]:n};f&&(g.offset=f);const _=nD(h,s);return Array.isArray(_)&&(g.easing=_),t.animate(g,{delay:i,duration:s,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal",pseudoElement:d})}function tT(t){return typeof t=="function"&&"applyToOptions"in t}function nT(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const up=2e4;function iT(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<up;)e+=n,i=t.next(e);return e>=up?1/0:e}function vB(t,e=100,n){const i=n({...t,keyframes:[0,e]}),s=Math.min(iT(i),up);return{type:"keyframes",ease:o=>i.next(s*o).value/e,duration:yr(s)}}function iD(t){return!!(typeof t=="function"&&$h()||!t||typeof t=="string"&&(t in c_||$h())||eT(t)||Array.isArray(t)&&t.every(iD))}function _A(t,e){t.timeline=e,t.onfinish=null}const mm=["read","resolveKeyframes","update","preRender","render","postRender"];function _B(t,e){let n=new Set,i=new Set,s=!1,o=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},f=0;function d(_){u.has(_)&&(g.schedule(_),t()),f++,_(h)}const g={schedule:(_,T=!1,x=!1)=>{const N=x&&s?n:i;return T&&u.add(_),N.has(_)||N.add(_),_},cancel:_=>{i.delete(_),u.delete(_)},process:_=>{if(h=_,s){o=!0;return}s=!0,[n,i]=[i,n],n.forEach(d),e&&vA.value&&vA.value.frameloop[e].push(f),f=0,n.clear(),s=!1,o&&(o=!1,g.process(_))}};return g}const bB=40;function rD(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,u=mm.reduce((k,U)=>(k[U]=_B(o,e?U:void 0),k),{}),{read:h,resolveKeyframes:f,update:d,preRender:g,render:_,postRender:T}=u,x=()=>{const k=performance.now();n=!1,s.delta=i?1e3/60:Math.max(Math.min(k-s.timestamp,bB),1),s.timestamp=k,s.isProcessing=!0,h.process(s),f.process(s),d.process(s),g.process(s),_.process(s),T.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(x))},S=()=>{n=!0,i=!0,s.isProcessing||t(x)};return{schedule:mm.reduce((k,U)=>{const V=u[U];return k[U]=($,A=!1,q=!1)=>(n||S(),V.schedule($,A,q)),k},{}),cancel:k=>{for(let U=0;U<mm.length;U++)u[mm[U]].cancel(k)},state:s,steps:u}}const{schedule:rT}=rD(queueMicrotask,!1),{schedule:ht,cancel:Sa,state:an,steps:qv}=rD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ei,!0);let Pm;function TB(){Pm=void 0}const vr={now:()=>(Pm===void 0&&vr.set(an.isProcessing||u_.useManualTiming?an.timestamp:performance.now()),Pm),set:t=>{Pm=t,queueMicrotask(TB)}},ki={x:!1,y:!1};function sD(){return ki.x||ki.y}function xB(t){return t==="x"||t==="y"?ki[t]?null:(ki[t]=!0,()=>{ki[t]=!1}):ki.x||ki.y?null:(ki.x=ki.y=!0,()=>{ki.x=ki.y=!1})}function EB(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=(n==null?void 0:n[t])??i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function aD(t,e){const n=EB(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function bA(t){return!(t.pointerType==="touch"||sD())}function wB(t,e,n={}){const[i,s,o]=aD(t,n),u=h=>{if(!bA(h))return;const{target:f}=h,d=e(f,h);if(typeof d!="function"||!f)return;const g=_=>{bA(_)&&(d(_),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,s)};return i.forEach(h=>{h.addEventListener("pointerenter",u,s)}),o}const oD=(t,e)=>e?t===e?!0:oD(t,e.parentElement):!1,sT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,SB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function AB(t){return SB.has(t.tagName)||t.tabIndex!==-1}const bh=new WeakSet;function TA(t){return e=>{e.key==="Enter"&&t(e)}}function Hv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const RB=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=TA(()=>{if(bh.has(n))return;Hv(n,"down");const s=TA(()=>{Hv(n,"up")}),o=()=>Hv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function xA(t){return sT(t)&&!sD()}function CB(t,e,n={}){const[i,s,o]=aD(t,n),u=h=>{const f=h.currentTarget;if(!xA(h)||bh.has(f))return;bh.add(f);const d=e(f,h),g=(x,S)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",T),!(!xA(x)||!bh.has(f))&&(bh.delete(f),typeof d=="function"&&d(x,{success:S}))},_=x=>{g(x,f===window||f===document||n.useGlobalTarget||oD(f,x.target))},T=x=>{g(x,!1)};window.addEventListener("pointerup",_,s),window.addEventListener("pointercancel",T,s)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,s),h instanceof HTMLElement&&(h.addEventListener("focus",d=>RB(d,s)),!AB(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}const EA=30,IB=t=>!isNaN(parseFloat(t));class NB{constructor(e,n={}){this.version="12.7.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const o=vr.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=vr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=IB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Zb);const i=this.events[e].add(n);return e==="change"?()=>{i(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=vr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>EA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,EA);return eD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qh(t,e){return new NB(t,e)}const lD=I.createContext({strict:!1}),wA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Du={};for(const t in wA)Du[t]={isEnabled:e=>wA[t].some(n=>!!e[n])};function DB(t){for(const e in t)Du[e]={...Du[e],...t[e]}}const PB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||PB.has(t)}let uD=t=>!cp(t);function kB(t){t&&(uD=e=>e.startsWith("on")?!cp(e):t(e))}try{kB(require("@emotion/is-prop-valid").default)}catch{}function OB(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(uD(s)||n===!0&&cp(s)||!e&&!cp(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}function MB(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const ng=I.createContext({});function ig(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Yh(t){return typeof t=="string"||Array.isArray(t)}const aT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],oT=["initial",...aT];function rg(t){return ig(t.animate)||oT.some(e=>Yh(t[e]))}function cD(t){return!!(rg(t)||t.variants)}function jB(t,e){if(rg(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Yh(n)?n:void 0,animate:Yh(i)?i:void 0}}return t.inherit!==!1?e:{}}function VB(t){const{initial:e,animate:n}=jB(t,I.useContext(ng));return I.useMemo(()=>({initial:e,animate:n}),[SA(e),SA(n)])}function SA(t){return Array.isArray(t)?t.join(" "):t}const LB=Symbol.for("motionComponentSymbol");function Ql(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function UB(t,e,n){return I.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Ql(n)&&(n.current=i))},[e])}const lT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zB="framerAppearId",hD="data-"+lT(zB),fD=I.createContext({});function BB(t,e,n,i,s){var N,R;const{visualElement:o}=I.useContext(ng),u=I.useContext(lD),h=I.useContext(eg),f=I.useContext(Yb).reducedMotion,d=I.useRef(null);i=i||u.renderer,!d.current&&i&&(d.current=i(t,{visualState:e,parent:o,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=d.current,_=I.useContext(fD);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&FB(d.current,n,s,_);const T=I.useRef(!1);I.useInsertionEffect(()=>{g&&T.current&&g.update(n,h)});const x=n[hD],S=I.useRef(!!x&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,x))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,x)));return WN(()=>{g&&(T.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),rT.render(g.render),S.current&&g.animationState&&g.animationState.animateChanges())}),I.useEffect(()=>{g&&(!S.current&&g.animationState&&g.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,x)}),S.current=!1))}),g}function FB(t,e,n,i){const{layoutId:s,layout:o,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:d,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:dD(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!u||h&&Ql(h),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:f,layoutRoot:d})}function dD(t){if(t)return t.options.allowProjection!==!1?t.projection:dD(t.parent)}function qB({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:s}){t&&DB(t);function o(h,f){let d;const g={...I.useContext(Yb),...h,layoutId:HB(h)},{isStatic:_}=g,T=VB(h),x=i(h,_);if(!_&&Qb){GB();const S=KB(g);d=S.MeasureLayout,T.visualElement=BB(s,x,g,e,S.ProjectionNode)}return y.jsxs(ng.Provider,{value:T,children:[d&&T.visualElement?y.jsx(d,{visualElement:T.visualElement,...g}):null,n(s,h,UB(x,T.visualElement,f),x,_,T.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const u=I.forwardRef(o);return u[LB]=s,u}function HB({layoutId:t}){const e=I.useContext(Kb).id;return e&&t!==void 0?e+"-"+t:t}function GB(t,e){I.useContext(lD).strict}function KB(t){const{drag:e,layout:n}=Du;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const mD=t=>e=>typeof e=="string"&&e.startsWith(t),uT=mD("--"),$B=mD("var(--"),cT=t=>$B(t)?QB.test(t.split("/*")[0].trim()):!1,QB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xh={};function YB(t){for(const e in t)Xh[e]=t[e],uT(e)&&(Xh[e].isCSSVariable=!0)}const $u=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$o=new Set($u);function pD(t,{layout:e,layoutId:n}){return $o.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Xh[t]||t==="opacity")}const xn=t=>!!(t&&t.getVelocity),gD=(t,e)=>e&&typeof t=="number"?e.transform(t):t,gs=(t,e,n)=>n>e?e:n<t?t:n,Qu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Wh={...Qu,transform:t=>gs(0,1,t)},pm={...Qu,default:1},Rf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Xs=Rf("deg"),_r=Rf("%"),we=Rf("px"),XB=Rf("vh"),WB=Rf("vw"),AA={..._r,parse:t=>_r.parse(t)/100,transform:t=>_r.transform(t*100)},JB={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},ZB={rotate:Xs,rotateX:Xs,rotateY:Xs,rotateZ:Xs,scale:pm,scaleX:pm,scaleY:pm,scaleZ:pm,skew:Xs,skewX:Xs,skewY:Xs,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Wh,originX:AA,originY:AA,originZ:we},RA={...Qu,transform:Math.round},hT={...JB,...ZB,zIndex:RA,size:we,fillOpacity:Wh,strokeOpacity:Wh,numOctaves:RA},eF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tF=$u.length;function nF(t,e,n){let i="",s=!0;for(let o=0;o<tF;o++){const u=$u[o],h=t[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const d=gD(h,hT[u]);if(!f){s=!1;const g=eF[u]||u;i+=`${g}(${d}) `}n&&(e[u]=d)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function fT(t,e,n){const{style:i,vars:s,transformOrigin:o}=t;let u=!1,h=!1;for(const f in e){const d=e[f];if($o.has(f)){u=!0;continue}else if(uT(f)){s[f]=d;continue}else{const g=gD(d,hT[f]);f.startsWith("origin")?(h=!0,o[f]=g):i[f]=g}}if(e.transform||(u||n?i.transform=nF(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:d="50%",originZ:g=0}=o;i.transformOrigin=`${f} ${d} ${g}`}}const dT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yD(t,e,n){for(const i in e)!xn(e[i])&&!pD(i,n)&&(t[i]=e[i])}function iF({transformTemplate:t},e){return I.useMemo(()=>{const n=dT();return fT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function rF(t,e){const n=t.style||{},i={};return yD(i,n,t),Object.assign(i,iF(t,e)),i}function sF(t,e){const n={},i=rF(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const aF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mT(t){return typeof t!="string"||t.includes("-")?!1:!!(aF.indexOf(t)>-1||/[A-Z]/u.test(t))}const oF={offset:"stroke-dashoffset",array:"stroke-dasharray"},lF={offset:"strokeDashoffset",array:"strokeDasharray"};function uF(t,e,n=1,i=0,s=!0){t.pathLength=1;const o=s?oF:lF;t[o.offset]=we.transform(-i);const u=we.transform(e),h=we.transform(n);t[o.array]=`${u} ${h}`}function CA(t,e,n){return typeof t=="string"?t:we.transform(e+n*t)}function cF(t,e,n){const i=CA(e,t.x,t.width),s=CA(n,t.y,t.height);return`${i} ${s}`}function pT(t,{attrX:e,attrY:n,attrScale:i,originX:s,originY:o,pathLength:u,pathSpacing:h=1,pathOffset:f=0,...d},g,_){if(fT(t,d,_),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:x,dimensions:S}=t;T.transform&&(S&&(x.transform=T.transform),delete T.transform),S&&(s!==void 0||o!==void 0||x.transform)&&(x.transformOrigin=cF(S,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),i!==void 0&&(T.scale=i),u!==void 0&&uF(T,u,h,f,!1)}const vD=()=>({...dT(),attrs:{}}),gT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hF(t,e,n,i){const s=I.useMemo(()=>{const o=vD();return pT(o,e,gT(i),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};yD(o,t.style,t),s.style={...o,...s.style}}return s}function fF(t=!1){return(n,i,s,{latestValues:o},u)=>{const f=(mT(n)?hF:sF)(i,o,u,n),d=OB(i,typeof n=="string",t),g=n!==I.Fragment?{...d,...f,ref:s}:{},{children:_}=i,T=I.useMemo(()=>xn(_)?_.get():_,[_]);return I.createElement(n,{...g,children:T})}}function IA(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function yT(t,e,n,i){if(typeof e=="function"){const[s,o]=IA(i);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=IA(i);e=e(n!==void 0?n:t.custom,s,o)}return e}const h_=t=>Array.isArray(t),dF=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),mF=t=>h_(t)?t[t.length-1]||0:t;function km(t){const e=xn(t)?t.get():t;return dF(e)?e.toValue():e}function pF({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,s,o){const u={latestValues:gF(i,s,o,t),renderState:e()};return n&&(u.onMount=h=>n({props:i,current:h,...u}),u.onUpdate=h=>n(h)),u}const _D=t=>(e,n)=>{const i=I.useContext(ng),s=I.useContext(eg),o=()=>pF(t,e,i,s);return n?o():$b(o)};function gF(t,e,n,i){const s={},o=i(t,{});for(const T in o)s[T]=km(o[T]);let{initial:u,animate:h}=t;const f=rg(t),d=cD(t);e&&d&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const _=g?h:u;if(_&&typeof _!="boolean"&&!ig(_)){const T=Array.isArray(_)?_:[_];for(let x=0;x<T.length;x++){const S=yT(t,T[x]);if(S){const{transitionEnd:N,transition:R,...k}=S;for(const U in k){let V=k[U];if(Array.isArray(V)){const $=g?V.length-1:0;V=V[$]}V!==null&&(s[U]=V)}for(const U in N)s[U]=N[U]}}}return s}function vT(t,e,n){var o;const{style:i}=t,s={};for(const u in i)(xn(i[u])||e.style&&xn(e.style[u])||pD(u,t)||((o=n==null?void 0:n.getValue(u))==null?void 0:o.liveStyle)!==void 0)&&(s[u]=i[u]);return s}const yF={useVisualState:_D({scrapeMotionValuesFromProps:vT,createRenderState:dT})};function bD(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function TD(t,{style:e,vars:n},i,s){Object.assign(t.style,e,s&&s.getProjectionStyles(i));for(const o in n)t.style.setProperty(o,n[o])}const xD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ED(t,e,n,i){TD(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(xD.has(s)?s:lT(s),e.attrs[s])}function wD(t,e,n){const i=vT(t,e,n);for(const s in t)if(xn(t[s])||xn(e[s])){const o=$u.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=t[s]}return i}const NA=["x","y","width","height","cx","cy","r"],vF={useVisualState:_D({scrapeMotionValuesFromProps:wD,createRenderState:vD,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:s})=>{if(!n)return;let o=!!t.drag;if(!o){for(const h in s)if($o.has(h)){o=!0;break}}if(!o)return;let u=!e;if(e)for(let h=0;h<NA.length;h++){const f=NA[h];t[f]!==e[f]&&(u=!0)}u&&ht.read(()=>{bD(n,i),ht.render(()=>{pT(i,s,gT(n.tagName),t.transformTemplate),ED(n,i)})})}})};function _F(t,e){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const u={...mT(i)?vF:yF,preloadedFeatures:t,useRender:fF(s),createVisualElement:e,Component:i};return qB(u)}}function Jh(t,e,n){const i=t.getProps();return yT(i,e,n!==void 0?n:i.custom,t)}const SD=new Set(["width","height","top","left","right","bottom",...$u]);function bF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Qh(n))}function TF(t,e){const n=Jh(t,e);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const u in o){const h=mF(o[u]);bF(t,u,h)}}function xF(t){return!!(xn(t)&&t.add)}function f_(t,e){const n=t.getValue("willChange");if(xF(n))return n.add(e);if(!n&&u_.WillChange){const i=new u_.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function AD(t){return t.props[hD]}const RD=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,EF=1e-7,wF=12;function SF(t,e,n,i,s){let o,u,h=0;do u=e+(n-e)/2,o=RD(u,i,s)-t,o>0?n=u:e=u;while(Math.abs(o)>EF&&++h<wF);return u}function Cf(t,e,n,i){if(t===e&&n===i)return Ei;const s=o=>SF(o,0,1,t,n);return o=>o===0||o===1?o:RD(s(o),e,i)}const CD=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ID=t=>e=>1-t(1-e),ND=Cf(.33,1.53,.69,.99),_T=ID(ND),DD=CD(_T),PD=t=>(t*=2)<1?.5*_T(t):.5*(2-Math.pow(2,-10*(t-1))),bT=t=>1-Math.sin(Math.acos(t)),kD=ID(bT),OD=CD(bT),MD=t=>/^0[^.\s]+$/u.test(t);function AF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||MD(t):!0}const Ah=t=>Math.round(t*1e5)/1e5,TT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function RF(t){return t==null}const CF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xT=(t,e)=>n=>!!(typeof n=="string"&&CF.test(n)&&n.startsWith(t)||e&&!RF(n)&&Object.prototype.hasOwnProperty.call(n,e)),jD=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,o,u,h]=i.match(TT);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},IF=t=>gs(0,255,t),Gv={...Qu,transform:t=>Math.round(IF(t))},bo={test:xT("rgb","red"),parse:jD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Gv.transform(t)+", "+Gv.transform(e)+", "+Gv.transform(n)+", "+Ah(Wh.transform(i))+")"};function NF(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const d_={test:xT("#"),parse:NF,transform:bo.transform},Yl={test:xT("hsl","hue"),parse:jD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+_r.transform(Ah(e))+", "+_r.transform(Ah(n))+", "+Ah(Wh.transform(i))+")"},_n={test:t=>bo.test(t)||d_.test(t)||Yl.test(t),parse:t=>bo.test(t)?bo.parse(t):Yl.test(t)?Yl.parse(t):d_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?bo.transform(t):Yl.transform(t)},DF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function PF(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(TT))==null?void 0:e.length)||0)+(((n=t.match(DF))==null?void 0:n.length)||0)>0}const VD="number",LD="color",kF="var",OF="var(",DA="${}",MF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zh(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const h=e.replace(MF,f=>(_n.test(f)?(i.color.push(o),s.push(LD),n.push(_n.parse(f))):f.startsWith(OF)?(i.var.push(o),s.push(kF),n.push(f)):(i.number.push(o),s.push(VD),n.push(parseFloat(f))),++o,DA)).split(DA);return{values:n,split:h,indexes:i,types:s}}function UD(t){return Zh(t).values}function zD(t){const{split:e,types:n}=Zh(t),i=e.length;return s=>{let o="";for(let u=0;u<i;u++)if(o+=e[u],s[u]!==void 0){const h=n[u];h===VD?o+=Ah(s[u]):h===LD?o+=_n.transform(s[u]):o+=s[u]}return o}}const jF=t=>typeof t=="number"?0:t;function VF(t){const e=UD(t);return zD(t)(e.map(jF))}const Aa={test:PF,parse:UD,createTransformer:zD,getAnimatableNone:VF},LF=new Set(["brightness","contrast","saturate","opacity"]);function UF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(TT)||[];if(!i)return t;const s=n.replace(i,"");let o=LF.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+s+")"}const zF=/\b([a-z-]*)\(.*?\)/gu,m_={...Aa,getAnimatableNone:t=>{const e=t.match(zF);return e?e.map(UF).join(" "):t}},BF={...hT,color:_n,backgroundColor:_n,outlineColor:_n,fill:_n,stroke:_n,borderColor:_n,borderTopColor:_n,borderRightColor:_n,borderBottomColor:_n,borderLeftColor:_n,filter:m_,WebkitFilter:m_},BD=t=>BF[t];function FD(t,e){let n=BD(t);return n!==m_&&(n=Aa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const FF=new Set(["auto","none","0"]);function qF(t,e,n){let i=0,s;for(;i<t.length&&!s;){const o=t[i];typeof o=="string"&&!FF.has(o)&&Zh(o).values.length&&(s=t[i]),i++}if(s&&n)for(const o of e)t[o]=FD(n,s)}const To=t=>t*180/Math.PI,p_=t=>{const e=To(Math.atan2(t[1],t[0]));return g_(e)},HF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:p_,rotateZ:p_,skewX:t=>To(Math.atan(t[1])),skewY:t=>To(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},g_=t=>(t=t%360,t<0&&(t+=360),t),PA=p_,kA=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),OA=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),GF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:kA,scaleY:OA,scale:t=>(kA(t)+OA(t))/2,rotateX:t=>g_(To(Math.atan2(t[6],t[5]))),rotateY:t=>g_(To(Math.atan2(-t[2],t[0]))),rotateZ:PA,rotate:PA,skewX:t=>To(Math.atan(t[4])),skewY:t=>To(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function MA(t){return t.includes("scale")?1:0}function y_(t,e){if(!t||t==="none")return MA(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=GF,s=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=HF,s=h}if(!s)return MA(e);const o=i[e],u=s[1].split(",").map($F);return typeof o=="function"?o(u):u[o]}const KF=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return y_(n,e)};function $F(t){return parseFloat(t.trim())}const jA=t=>t===Qu||t===we,QF=new Set(["x","y","z"]),YF=$u.filter(t=>!QF.has(t));function XF(t){const e=[];return YF.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Pu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>y_(e,"x"),y:(t,{transform:e})=>y_(e,"y")};Pu.translateX=Pu.x;Pu.translateY=Pu.y;const Po=new Set;let v_=!1,__=!1;function qD(){if(__){const t=Array.from(Po).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=XF(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,u])=>{var h;(h=i.getValue(o))==null||h.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}__=!1,v_=!1,Po.forEach(t=>t.complete()),Po.clear()}function HD(){Po.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(__=!0)})}function WF(){HD(),qD()}class ET{constructor(e,n,i,s,o,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Po.add(this),v_||(v_=!0,ht.read(HD),ht.resolveKeyframes(qD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const u=s==null?void 0:s.get(),h=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&n){const f=i.readValue(n,h);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=h),s&&u===void 0&&s.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Po.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Po.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const GD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),JF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZF(t){const e=JF.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function KD(t,e,n=1){const[i,s]=ZF(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const u=o.trim();return GD(u)?parseFloat(u):u}return cT(s)?KD(s,e,n+1):s}const $D=t=>e=>e.test(t),e7={test:t=>t==="auto",parse:t=>t},QD=[Qu,we,_r,Xs,WB,XB,e7],VA=t=>QD.find($D(t));class YD extends ET{constructor(e,n,i,s,o){super(e,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let d=e[f];if(typeof d=="string"&&(d=d.trim(),cT(d))){const g=KD(d,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!SD.has(i)||e.length!==2)return;const[s,o]=e,u=VA(s),h=VA(o);if(u!==h)if(jA(u)&&jA(h))for(let f=0;f<e.length;f++){const d=e[f];typeof d=="string"&&(e[f]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)AF(e[s])&&i.push(s);i.length&&qF(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pu[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,u=i[o];i[o]=Pu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,d])=>{e.getValue(f).set(d)}),this.resolveNoneKeyframes()}}const LA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Aa.test(t)||t==="0")&&!t.startsWith("url("));function t7(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function n7(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],u=LA(s,e),h=LA(o,e);return!u||!h?!1:t7(t)||(n==="spring"||tT(n))&&i}const i7=t=>t!==null;function sg(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(i7),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||i===void 0?s[o]:i}const r7=40;class XD{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:u="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=vr.now(),this.options={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:u,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>r7?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&WF(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=vr.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:o,delay:u,onComplete:h,onUpdate:f,isGenerator:d}=this.options;if(!d&&!n7(e,i,s,o))if(u)this.options.duration=0;else{f&&f(sg(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const yt=(t,e,n)=>t+(e-t)*n;function Kv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function s7({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,o=0,u=0;if(!e)s=o=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;s=Kv(f,h,t+1/3),o=Kv(f,h,t),u=Kv(f,h,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function hp(t,e){return n=>n>0?e:t}const $v=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},a7=[d_,bo,Yl],o7=t=>a7.find(e=>e.test(t));function UA(t){const e=o7(t);if(!e)return!1;let n=e.parse(t);return e===Yl&&(n=s7(n)),n}const zA=(t,e)=>{const n=UA(t),i=UA(e);if(!n||!i)return hp(t,e);const s={...n};return o=>(s.red=$v(n.red,i.red,o),s.green=$v(n.green,i.green,o),s.blue=$v(n.blue,i.blue,o),s.alpha=yt(n.alpha,i.alpha,o),bo.transform(s))},l7=(t,e)=>n=>e(t(n)),If=(...t)=>t.reduce(l7),b_=new Set(["none","hidden"]);function u7(t,e){return b_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function c7(t,e){return n=>yt(t,e,n)}function wT(t){return typeof t=="number"?c7:typeof t=="string"?cT(t)?hp:_n.test(t)?zA:d7:Array.isArray(t)?WD:typeof t=="object"?_n.test(t)?zA:h7:hp}function WD(t,e){const n=[...t],i=n.length,s=t.map((o,u)=>wT(o)(o,e[u]));return o=>{for(let u=0;u<i;u++)n[u]=s[u](o);return n}}function h7(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=wT(t[s])(t[s],e[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function f7(t,e){const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],u=t.indexes[o][i[o]],h=t.values[u]??0;n[s]=h,i[o]++}return n}const d7=(t,e)=>{const n=Aa.createTransformer(e),i=Zh(t),s=Zh(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?b_.has(t)&&!s.values.length||b_.has(e)&&!i.values.length?u7(t,e):If(WD(f7(i,s),s.values),n):hp(t,e)};function JD(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?yt(t,e,n):wT(t)(t,e)}const m7=5;function ZD(t,e,n){const i=Math.max(e-m7,0);return eD(n-t(i),e-i)}const wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},BA=.001;function p7({duration:t=wt.duration,bounce:e=wt.bounce,velocity:n=wt.velocity,mass:i=wt.mass}){let s,o,u=1-e;u=gs(wt.minDamping,wt.maxDamping,u),t=gs(wt.minDuration,wt.maxDuration,yr(t)),u<1?(s=d=>{const g=d*u,_=g*t,T=g-n,x=T_(d,u),S=Math.exp(-_);return BA-T/x*S},o=d=>{const _=d*u*t,T=_*n+n,x=Math.pow(u,2)*Math.pow(d,2)*t,S=Math.exp(-_),N=T_(Math.pow(d,2),u);return(-s(d)+BA>0?-1:1)*((T-x)*S)/N}):(s=d=>{const g=Math.exp(-d*t),_=(d-n)*t+1;return-.001+g*_},o=d=>{const g=Math.exp(-d*t),_=(n-d)*(t*t);return g*_});const h=5/t,f=y7(s,o,h);if(t=gr(t),isNaN(f))return{stiffness:wt.stiffness,damping:wt.damping,duration:t};{const d=Math.pow(f,2)*i;return{stiffness:d,damping:u*2*Math.sqrt(i*d),duration:t}}}const g7=12;function y7(t,e,n){let i=n;for(let s=1;s<g7;s++)i=i-t(i)/e(i);return i}function T_(t,e){return t*Math.sqrt(1-e*e)}const v7=["duration","bounce"],_7=["stiffness","damping","mass"];function FA(t,e){return e.some(n=>t[n]!==void 0)}function b7(t){let e={velocity:wt.velocity,stiffness:wt.stiffness,damping:wt.damping,mass:wt.mass,isResolvedFromDuration:!1,...t};if(!FA(t,_7)&&FA(t,v7))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*gs(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:wt.mass,stiffness:s,damping:o}}else{const n=p7(t);e={...e,...n,mass:wt.mass},e.isResolvedFromDuration=!0}return e}function fp(t=wt.visualDuration,e=wt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:o},{stiffness:f,damping:d,mass:g,duration:_,velocity:T,isResolvedFromDuration:x}=b7({...n,velocity:-yr(n.velocity||0)}),S=T||0,N=d/(2*Math.sqrt(f*g)),R=u-o,k=yr(Math.sqrt(f/g)),U=Math.abs(R)<5;i||(i=U?wt.restSpeed.granular:wt.restSpeed.default),s||(s=U?wt.restDelta.granular:wt.restDelta.default);let V;if(N<1){const A=T_(k,N);V=q=>{const M=Math.exp(-N*k*q);return u-M*((S+N*k*R)/A*Math.sin(A*q)+R*Math.cos(A*q))}}else if(N===1)V=A=>u-Math.exp(-k*A)*(R+(S+k*R)*A);else{const A=k*Math.sqrt(N*N-1);V=q=>{const M=Math.exp(-N*k*q),C=Math.min(A*q,300);return u-M*((S+N*k*R)*Math.sinh(C)+A*R*Math.cosh(C))/A}}const $={calculatedDuration:x&&_||null,next:A=>{const q=V(A);if(x)h.done=A>=_;else{let M=0;N<1&&(M=A===0?gr(S):ZD(V,A,q));const C=Math.abs(M)<=i,P=Math.abs(u-q)<=s;h.done=C&&P}return h.value=h.done?u:q,h},toString:()=>{const A=Math.min(iT($),up),q=tD(M=>$.next(A*M).value,A,30);return A+"ms "+q},toTransition:()=>{}};return $}fp.applyToOptions=t=>{const e=vB(t,100,fp);return t.ease=$h()?e.ease:"easeOut",t.duration=gr(e.duration),t.type="keyframes",t};function qA({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:f,restDelta:d=.5,restSpeed:g}){const _=t[0],T={done:!1,value:_},x=C=>h!==void 0&&C<h||f!==void 0&&C>f,S=C=>h===void 0?f:f===void 0||Math.abs(h-C)<Math.abs(f-C)?h:f;let N=n*e;const R=_+N,k=u===void 0?R:u(R);k!==R&&(N=k-_);const U=C=>-N*Math.exp(-C/i),V=C=>k+U(C),$=C=>{const P=U(C),j=V(C);T.done=Math.abs(P)<=d,T.value=T.done?k:j};let A,q;const M=C=>{x(T.value)&&(A=C,q=fp({keyframes:[T.value,S(T.value)],velocity:ZD(V,C,T.value),damping:s,stiffness:o,restDelta:d,restSpeed:g}))};return M(0),{calculatedDuration:null,next:C=>{let P=!1;return!q&&A===void 0&&(P=!0,$(C),M(C)),A!==void 0&&C>=A?q.next(C-A):(!P&&$(C),T)}}}const T7=Cf(.42,0,1,1),x7=Cf(0,0,.58,1),eP=Cf(.42,0,.58,1),E7=t=>Array.isArray(t)&&typeof t[0]!="number",w7={linear:Ei,easeIn:T7,easeInOut:eP,easeOut:x7,circIn:bT,circInOut:OD,circOut:kD,backIn:_T,backInOut:DD,backOut:ND,anticipate:PD},HA=t=>{if(eT(t)){ZN(t.length===4);const[e,n,i,s]=t;return Cf(e,n,i,s)}else if(typeof t=="string")return w7[t];return t};function S7(t,e,n){const i=[],s=n||JD,o=t.length-1;for(let u=0;u<o;u++){let h=s(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||Ei:e;h=If(f,h)}i.push(h)}return i}function A7(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const o=t.length;if(ZN(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=S7(e,i,s),f=h.length,d=g=>{if(u&&g<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(g<t[_+1]);_++);const T=Kh(t[_],t[_+1],g);return h[_](T)};return n?g=>d(gs(t[0],t[o-1],g)):d}function R7(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=Kh(0,e,i);t.push(yt(n,1,s))}}function C7(t){const e=[0];return R7(e,t.length-1),e}function I7(t,e){return t.map(n=>n*e)}function N7(t,e){return t.map(()=>e||eP).splice(0,t.length-1)}function dp({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=E7(i)?i.map(HA):HA(i),o={done:!1,value:e[0]},u=I7(n&&n.length===e.length?n:C7(e),t),h=A7(u,e,{ease:Array.isArray(s)?s:N7(e,s)});return{calculatedDuration:t,next:f=>(o.value=h(f),o.done=f>=t,o)}}const D7=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ht.update(e,!0),stop:()=>Sa(e),now:()=>an.isProcessing?an.timestamp:vr.now()}},P7={decay:qA,inertia:qA,tween:dp,keyframes:dp,spring:fp},k7=t=>t/100;class ST extends XD{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:i,element:s,keyframes:o}=this.options,u=(s==null?void 0:s.KeyframeResolver)||ET,h=(f,d)=>this.onKeyframesResolved(f,d);this.resolver=new u(o,h,n,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:u=0}=this.options,h=tT(n)?n:P7[n]||dp;let f,d;h!==dp&&typeof e[0]!="number"&&(f=If(k7,JD(e[0],e[1])),e=[0,100]);const g=h({...this.options,keyframes:e});o==="mirror"&&(d=h({...this.options,keyframes:[...e].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=iT(g));const{calculatedDuration:_}=g,T=_+s,x=T*(i+1)-s;return{generator:g,mirroredGenerator:d,mapPercentToKeyframes:f,calculatedDuration:_,resolvedDuration:T,totalDuration:x}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:u,mapPercentToKeyframes:h,keyframes:f,calculatedDuration:d,totalDuration:g,resolvedDuration:_}=i;if(this.startTime===null)return o.next(0);const{delay:T,repeat:x,repeatType:S,repeatDelay:N,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const k=this.currentTime-T*(this.speed>=0?1:-1),U=this.speed>=0?k<0:k>g;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let V=this.currentTime,$=o;if(x){const C=Math.min(this.currentTime,g)/_;let P=Math.floor(C),j=C%1;!j&&C>=1&&(j=1),j===1&&P--,P=Math.min(P,x+1),!!(P%2)&&(S==="reverse"?(j=1-j,N&&(j-=N/_)):S==="mirror"&&($=u)),V=gs(0,1,j)*_}const A=U?{done:!1,value:f[0]}:$.next(V);h&&(A.value=h(A.value));let{done:q}=A;!U&&d!==null&&(q=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return M&&s!==void 0&&(A.value=sg(f,this.options,s)),R&&R(A.value),M&&this.finish(),A}get duration(){const{resolved:e}=this;return e?yr(e.calculatedDuration):0}get time(){return yr(this.currentTime)}set time(e){e=gr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=yr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=D7,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const O7=new Set(["opacity","clipPath","filter","transform"]),M7=Jb(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),mp=10,j7=2e4;function V7(t){return tT(t.type)||t.type==="spring"||!iD(t.ease)}function L7(t,e){const n=new ST({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const s=[];let o=0;for(;!i.done&&o<j7;)i=n.sample(o),s.push(i.value),o+=mp;return{times:void 0,keyframes:s,duration:o-mp,ease:"linear"}}const tP={anticipate:PD,backInOut:DD,circInOut:OD};function U7(t){return t in tP}class GA extends XD{constructor(e){super(e);const{name:n,motionValue:i,element:s,keyframes:o}=this.options;this.resolver=new YD(o,(u,h)=>this.onKeyframesResolved(u,h),n,i,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:s,ease:o,type:u,motionValue:h,name:f,startTime:d}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof o=="string"&&$h()&&U7(o)&&(o=tP[o]),V7(this.options)){const{onComplete:_,onUpdate:T,motionValue:x,element:S,...N}=this.options,R=L7(e,N);e=R.keyframes,e.length===1&&(e[1]=e[0]),i=R.duration,s=R.times,o=R.ease,u="keyframes"}const g=yB(h.owner.current,f,e,{...this.options,duration:i,times:s,ease:o});return g.startTime=d??this.calcStartTime(),this.pendingTimeline?(_A(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:_}=this.options;h.set(sg(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:i,times:s,type:u,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return yr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return yr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=gr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Ei;const{animation:i}=n;_A(i,e)}return Ei}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:s,type:o,ease:u,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:g,onComplete:_,element:T,...x}=this.options,S=new ST({...x,keyframes:i,duration:s,type:o,ease:u,times:h,isGenerator:!0}),N=gr(this.time);d.setWithVelocity(S.sample(N-mp).value,S.sample(N).value,mp)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:s,repeatType:o,damping:u,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=n.owner.getProps();return M7()&&i&&O7.has(i)&&(i!=="transform"||!d)&&!f&&!s&&o!=="mirror"&&u!==0&&h!=="inertia"}}const z7={type:"spring",stiffness:500,damping:25,restSpeed:10},B7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),F7={type:"keyframes",duration:.8},q7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},H7=(t,{keyframes:e})=>e.length>2?F7:$o.has(t)?t.startsWith("scale")?B7(e[1]):z7:q7;function G7({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:u,repeatDelay:h,from:f,elapsed:d,...g}){return!!Object.keys(g).length}const AT=(t,e,n,i={},s,o)=>u=>{const h=nT(i,t)||{},f=h.delay||i.delay||0;let{elapsed:d=0}=i;d=d-gr(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-d,onUpdate:T=>{e.set(T),h.onUpdate&&h.onUpdate(T)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:o?void 0:s};G7(h)||(g={...g,...H7(t,g)}),g.duration&&(g.duration=gr(g.duration)),g.repeatDelay&&(g.repeatDelay=gr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),g.allowFlatten=!h.type&&!h.ease,_&&!o&&e.get()!==void 0){const T=sg(g.keyframes,h);if(T!==void 0)return ht.update(()=>{g.onUpdate(T),g.onComplete()}),new mB([])}return!o&&GA.supports(g)?new GA(g):new ST(g)};function K7({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function nP(t,e,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(o=i);const f=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const g in h){const _=t.getValue(g,t.latestValues[g]??null),T=h[g];if(T===void 0||d&&K7(d,g))continue;const x={delay:n,...nT(o||{},g)};let S=!1;if(window.MotionHandoffAnimation){const R=AD(t);if(R){const k=window.MotionHandoffAnimation(R,g,ht);k!==null&&(x.startTime=k,S=!0)}}f_(t,g),_.start(AT(g,_,T,t.shouldReduceMotion&&SD.has(g)?{type:!1}:x,t,S));const N=_.animation;N&&f.push(N)}return u&&Promise.all(f).then(()=>{ht.update(()=>{u&&TF(t,u)})}),f}function x_(t,e,n={}){var f;const i=Jh(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(nP(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:T}=s;return $7(t,e,g+d,_,T,n)}:()=>Promise.resolve(),{when:h}=s;if(h){const[d,g]=h==="beforeChildren"?[o,u]:[u,o];return d().then(()=>g())}else return Promise.all([o(),u(n.delay)])}function $7(t,e,n=0,i=0,s=1,o){const u=[],h=(t.variantChildren.size-1)*i,f=s===1?(d=0)=>d*i:(d=0)=>h-d*i;return Array.from(t.variantChildren).sort(Q7).forEach((d,g)=>{d.notify("AnimationStart",e),u.push(x_(d,e,{...o,delay:n+f(g)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(u)}function Q7(t,e){return t.sortNodePosition(e)}function Y7(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(o=>x_(t,o,n));i=Promise.all(s)}else if(typeof e=="string")i=x_(t,e,n);else{const s=typeof e=="function"?Jh(t,e,n.custom):e;i=Promise.all(nP(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function iP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const X7=oT.length;function rP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?rP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<X7;n++){const i=oT[n],s=t.props[i];(Yh(s)||s===!1)&&(e[i]=s)}return e}const W7=[...aT].reverse(),J7=aT.length;function Z7(t){return e=>Promise.all(e.map(({animation:n,options:i})=>Y7(t,n,i)))}function e8(t){let e=Z7(t),n=KA(),i=!0;const s=f=>(d,g)=>{var T;const _=Jh(t,g,f==="exit"?(T=t.presenceContext)==null?void 0:T.custom:void 0);if(_){const{transition:x,transitionEnd:S,...N}=_;d={...d,...N,...S}}return d};function o(f){e=f(t)}function u(f){const{props:d}=t,g=rP(t.parent)||{},_=[],T=new Set;let x={},S=1/0;for(let R=0;R<J7;R++){const k=W7[R],U=n[k],V=d[k]!==void 0?d[k]:g[k],$=Yh(V),A=k===f?U.isActive:null;A===!1&&(S=R);let q=V===g[k]&&V!==d[k]&&$;if(q&&i&&t.manuallyAnimateOnMount&&(q=!1),U.protectedKeys={...x},!U.isActive&&A===null||!V&&!U.prevProp||ig(V)||typeof V=="boolean")continue;const M=t8(U.prevProp,V);let C=M||k===f&&U.isActive&&!q&&$||R>S&&$,P=!1;const j=Array.isArray(V)?V:[V];let F=j.reduce(s(k),{});A===!1&&(F={});const{prevResolvedValues:H={}}=U,L={...H,...F},fe=te=>{C=!0,T.has(te)&&(P=!0,T.delete(te)),U.needsAnimating[te]=!0;const re=t.getValue(te);re&&(re.liveStyle=!1)};for(const te in L){const re=F[te],me=H[te];if(x.hasOwnProperty(te))continue;let z=!1;h_(re)&&h_(me)?z=!iP(re,me):z=re!==me,z?re!=null?fe(te):T.add(te):re!==void 0&&T.has(te)?fe(te):U.protectedKeys[te]=!0}U.prevProp=V,U.prevResolvedValues=F,U.isActive&&(x={...x,...F}),i&&t.blockInitialAnimation&&(C=!1),C&&(!(q&&M)||P)&&_.push(...j.map(te=>({animation:te,options:{type:k}})))}if(T.size){const R={};if(typeof d.initial!="boolean"){const k=Jh(t,Array.isArray(d.initial)?d.initial[0]:d.initial);k&&k.transition&&(R.transition=k.transition)}T.forEach(k=>{const U=t.getBaseTarget(k),V=t.getValue(k);V&&(V.liveStyle=!0),R[k]=U??null}),_.push({animation:R})}let N=!!_.length;return i&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(N=!1),i=!1,N?e(_):Promise.resolve()}function h(f,d){var _;if(n[f].isActive===d)return Promise.resolve();(_=t.variantChildren)==null||_.forEach(T=>{var x;return(x=T.animationState)==null?void 0:x.setActive(f,d)}),n[f].isActive=d;const g=u(f);for(const T in n)n[T].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>n,reset:()=>{n=KA(),i=!0}}}function t8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!iP(e,t):!1}function po(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function KA(){return{animate:po(!0),whileInView:po(),whileHover:po(),whileTap:po(),whileDrag:po(),whileFocus:po(),exit:po()}}class Da{constructor(e){this.isMounted=!1,this.node=e}update(){}}class n8 extends Da{constructor(e){super(e),e.animationState||(e.animationState=e8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ig(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let i8=0;class r8 extends Da{constructor(){super(...arguments),this.id=i8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const s8={animation:{Feature:n8},exit:{Feature:r8}};function ef(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Nf(t){return{point:{x:t.pageX,y:t.pageY}}}const a8=t=>e=>sT(e)&&t(e,Nf(e));function Rh(t,e,n,i){return ef(t,e,a8(n),i)}function sP({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function o8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function l8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const aP=1e-4,u8=1-aP,c8=1+aP,oP=.01,h8=0-oP,f8=0+oP;function Nn(t){return t.max-t.min}function d8(t,e,n){return Math.abs(t-e)<=n}function $A(t,e,n,i=.5){t.origin=i,t.originPoint=yt(e.min,e.max,t.origin),t.scale=Nn(n)/Nn(e),t.translate=yt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=u8&&t.scale<=c8||isNaN(t.scale))&&(t.scale=1),(t.translate>=h8&&t.translate<=f8||isNaN(t.translate))&&(t.translate=0)}function Ch(t,e,n,i){$A(t.x,e.x,n.x,i?i.originX:void 0),$A(t.y,e.y,n.y,i?i.originY:void 0)}function QA(t,e,n){t.min=n.min+e.min,t.max=t.min+Nn(e)}function m8(t,e,n){QA(t.x,e.x,n.x),QA(t.y,e.y,n.y)}function YA(t,e,n){t.min=e.min-n.min,t.max=t.min+Nn(e)}function Ih(t,e,n){YA(t.x,e.x,n.x),YA(t.y,e.y,n.y)}const XA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xl=()=>({x:XA(),y:XA()}),WA=()=>({min:0,max:0}),Ct=()=>({x:WA(),y:WA()});function vi(t){return[t("x"),t("y")]}function Qv(t){return t===void 0||t===1}function E_({scale:t,scaleX:e,scaleY:n}){return!Qv(t)||!Qv(e)||!Qv(n)}function vo(t){return E_(t)||lP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function lP(t){return JA(t.x)||JA(t.y)}function JA(t){return t&&t!=="0%"}function pp(t,e,n){const i=t-n,s=e*i;return n+s}function ZA(t,e,n,i,s){return s!==void 0&&(t=pp(t,s,i)),pp(t,n,i)+e}function w_(t,e=0,n=1,i,s){t.min=ZA(t.min,e,n,i,s),t.max=ZA(t.max,e,n,i,s)}function uP(t,{x:e,y:n}){w_(t.x,e.translate,e.scale,e.originPoint),w_(t.y,n.translate,n.scale,n.originPoint)}const eR=.999999999999,tR=1.0000000000001;function p8(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,u;for(let h=0;h<s;h++){o=n[h],u=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Jl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,uP(t,u)),i&&vo(o.latestValues)&&Jl(t,o.latestValues))}e.x<tR&&e.x>eR&&(e.x=1),e.y<tR&&e.y>eR&&(e.y=1)}function Wl(t,e){t.min=t.min+e,t.max=t.max+e}function nR(t,e,n,i,s=.5){const o=yt(t.min,t.max,s);w_(t,e,n,o,i)}function Jl(t,e){nR(t.x,e.x,e.scaleX,e.scale,e.originX),nR(t.y,e.y,e.scaleY,e.scale,e.originY)}function cP(t,e){return sP(l8(t.getBoundingClientRect(),e))}function g8(t,e,n){const i=cP(t,n),{scroll:s}=e;return s&&(Wl(i.x,s.offset.x),Wl(i.y,s.offset.y)),i}const hP=({current:t})=>t?t.ownerDocument.defaultView:null,iR=(t,e)=>Math.abs(t-e);function y8(t,e){const n=iR(t.x,e.x),i=iR(t.y,e.y);return Math.sqrt(n**2+i**2)}class fP{constructor(e,n,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Xv(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,x=y8(_.offset,{x:0,y:0})>=3;if(!T&&!x)return;const{point:S}=_,{timestamp:N}=an;this.history.push({...S,timestamp:N});const{onStart:R,onMove:k}=this.handlers;T||(R&&R(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,_)},this.handlePointerMove=(_,T)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Yv(T,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(_,T)=>{this.end();const{onEnd:x,onSessionEnd:S,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Xv(_.type==="pointercancel"?this.lastMoveEventInfo:Yv(T,this.transformPagePoint),this.history);this.startEvent&&x&&x(_,R),S&&S(_,R)},!sT(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.contextWindow=s||window;const u=Nf(e),h=Yv(u,this.transformPagePoint),{point:f}=h,{timestamp:d}=an;this.history=[{...f,timestamp:d}];const{onSessionStart:g}=n;g&&g(e,Xv(h,this.history)),this.removeListeners=If(Rh(this.contextWindow,"pointermove",this.handlePointerMove),Rh(this.contextWindow,"pointerup",this.handlePointerUp),Rh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Sa(this.updatePoint)}}function Yv(t,e){return e?{point:e(t.point)}:t}function rR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xv({point:t},e){return{point:t,delta:rR(t,dP(e)),offset:rR(t,v8(e)),velocity:_8(e,.1)}}function v8(t){return t[0]}function dP(t){return t[t.length-1]}function _8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=dP(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>gr(e)));)n--;if(!i)return{x:0,y:0};const o=yr(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function b8(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?yt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?yt(n,t,i.max):Math.min(t,n)),t}function sR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function T8(t,{top:e,left:n,bottom:i,right:s}){return{x:sR(t.x,n,s),y:sR(t.y,e,i)}}function aR(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function x8(t,e){return{x:aR(t.x,e.x),y:aR(t.y,e.y)}}function E8(t,e){let n=.5;const i=Nn(t),s=Nn(e);return s>i?n=Kh(e.min,e.max-i,t.min):i>s&&(n=Kh(t.min,t.max-s,e.min)),gs(0,1,n)}function w8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const S_=.35;function S8(t=S_){return t===!1?t=0:t===!0&&(t=S_),{x:oR(t,"left","right"),y:oR(t,"top","bottom")}}function oR(t,e,n){return{min:lR(t,e),max:lR(t,n)}}function lR(t,e){return typeof t=="number"?t:t[e]||0}const A8=new WeakMap;class R8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Nf(g).point)},o=(g,_)=>{const{drag:T,dragPropagation:x,onDragStart:S}=this.getProps();if(T&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xB(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vi(R=>{let k=this.getAxisMotionValue(R).get()||0;if(_r.test(k)){const{projection:U}=this.visualElement;if(U&&U.layout){const V=U.layout.layoutBox[R];V&&(k=Nn(V)*(parseFloat(k)/100))}}this.originPoint[R]=k}),S&&ht.postRender(()=>S(g,_)),f_(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},u=(g,_)=>{const{dragPropagation:T,dragDirectionLock:x,onDirectionLock:S,onDrag:N}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:R}=_;if(x&&this.currentDirection===null){this.currentDirection=C8(R),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",_.point,R),this.updateAxis("y",_.point,R),this.visualElement.render(),N&&N(g,_)},h=(g,_)=>this.stop(g,_),f=()=>vi(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)==null?void 0:_.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new fP(e,{onSessionStart:s,onStart:o,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:hP(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&ht.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!gm(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=b8(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;e&&Ql(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=T8(i.layoutBox,e):this.constraints=!1,this.elastic=S8(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&vi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=w8(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ql(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=g8(i,s.root,this.visualElement.getTransformPagePoint());let u=x8(s.layout.layoutBox,o);if(n){const h=n(o8(u));this.hasMutatedConstraints=!!h,h&&(u=sP(h))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},d=vi(g=>{if(!gm(g,n,this.currentDirection))return;let _=f&&f[g]||{};u&&(_={min:0,max:0});const T=s?200:1e6,x=s?40:1e7,S={type:"inertia",velocity:i?e[g]:0,bounceStiffness:T,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,..._};return this.startAxisValueAnimation(g,S)});return Promise.all(d).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return f_(this.visualElement,e),i.start(AT(e,i,0,n,this.visualElement,!1))}stopAnimation(){vi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){vi(n=>{const{drag:i}=this.getProps();if(!gm(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:u,max:h}=s.layout.layoutBox[n];o.set(e[n]-yt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Ql(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};vi(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();s[u]=E8({min:f,max:f},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),vi(u=>{if(!gm(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:d}=this.constraints[u];h.set(yt(f,d,s[u]))})}addListeners(){if(!this.visualElement.current)return;A8.set(this.visualElement,this);const e=this.visualElement.current,n=Rh(e,"pointerdown",f=>{const{drag:d,dragListener:g=!0}=this.getProps();d&&g&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Ql(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ht.read(i);const u=ef(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(vi(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=f[g].translate,_.set(_.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),n(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:u=S_,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:u,dragMomentum:h}}}function gm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function C8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class I8 extends Da{constructor(e){super(e),this.removeGroupControls=Ei,this.removeListeners=Ei,this.controls=new R8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ei}unmount(){this.removeGroupControls(),this.removeListeners()}}const uR=t=>(e,n)=>{t&&ht.postRender(()=>t(e,n))};class N8 extends Da{constructor(){super(...arguments),this.removePointerDownListener=Ei}onPointerDown(e){this.session=new fP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:uR(e),onStart:uR(n),onMove:i,onEnd:(o,u)=>{delete this.session,s&&ht.postRender(()=>s(o,u))}}}mount(){this.removePointerDownListener=Rh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Om={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function cR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ch={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=cR(t,e.target.x),i=cR(t,e.target.y);return`${n}% ${i}%`}},D8={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=Aa.parse(t);if(s.length>5)return i;const o=Aa.createTransformer(t),u=typeof s[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;s[0+u]/=h,s[1+u]/=f;const d=yt(h,f,.5);return typeof s[2+u]=="number"&&(s[2+u]/=d),typeof s[3+u]=="number"&&(s[3+u]/=d),o(s)}};class P8 extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=e;YB(k8),o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Om.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,u=i.projection;return u&&(u.isPresent=o,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||ht.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mP(t){const[e,n]=JN(),i=I.useContext(Kb);return y.jsx(P8,{...t,layoutGroup:i,switchLayoutGroup:I.useContext(fD),isPresent:e,safeToRemove:n})}const k8={borderRadius:{...ch,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ch,borderTopRightRadius:ch,borderBottomLeftRadius:ch,borderBottomRightRadius:ch,boxShadow:D8};function O8(t,e,n){const i=xn(t)?t:Qh(t);return i.start(AT("",i,e,n)),i.animation}function M8(t){return t instanceof SVGElement&&t.tagName!=="svg"}const j8=(t,e)=>t.depth-e.depth;class V8{constructor(){this.children=[],this.isDirty=!1}add(e){Xb(this.children,e),this.isDirty=!0}remove(e){Wb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(j8),this.isDirty=!1,this.children.forEach(e)}}function L8(t,e){const n=vr.now(),i=({timestamp:s})=>{const o=s-n;o>=e&&(Sa(i),t(o-e))};return ht.read(i,!0),()=>Sa(i)}const pP=["TopLeft","TopRight","BottomLeft","BottomRight"],U8=pP.length,hR=t=>typeof t=="string"?parseFloat(t):t,fR=t=>typeof t=="number"||we.test(t);function z8(t,e,n,i,s,o){s?(t.opacity=yt(0,n.opacity??1,B8(i)),t.opacityExit=yt(e.opacity??1,0,F8(i))):o&&(t.opacity=yt(e.opacity??1,n.opacity??1,i));for(let u=0;u<U8;u++){const h=`border${pP[u]}Radius`;let f=dR(e,h),d=dR(n,h);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||fR(f)===fR(d)?(t[h]=Math.max(yt(hR(f),hR(d),i),0),(_r.test(d)||_r.test(f))&&(t[h]+="%")):t[h]=d}(e.rotate||n.rotate)&&(t.rotate=yt(e.rotate||0,n.rotate||0,i))}function dR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const B8=gP(0,.5,kD),F8=gP(.5,.95,Ei);function gP(t,e,n){return i=>i<t?0:i>e?1:n(Kh(t,e,i))}function mR(t,e){t.min=e.min,t.max=e.max}function yi(t,e){mR(t.x,e.x),mR(t.y,e.y)}function pR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function gR(t,e,n,i,s){return t-=e,t=pp(t,1/n,i),s!==void 0&&(t=pp(t,1/s,i)),t}function q8(t,e=0,n=1,i=.5,s,o=t,u=t){if(_r.test(e)&&(e=parseFloat(e),e=yt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=yt(o.min,o.max,i);t===o&&(h-=e),t.min=gR(t.min,e,n,h,s),t.max=gR(t.max,e,n,h,s)}function yR(t,e,[n,i,s],o,u){q8(t,e[n],e[i],e[s],e.scale,o,u)}const H8=["x","scaleX","originX"],G8=["y","scaleY","originY"];function vR(t,e,n,i){yR(t.x,e,H8,n?n.x:void 0,i?i.x:void 0),yR(t.y,e,G8,n?n.y:void 0,i?i.y:void 0)}function _R(t){return t.translate===0&&t.scale===1}function yP(t){return _R(t.x)&&_R(t.y)}function bR(t,e){return t.min===e.min&&t.max===e.max}function K8(t,e){return bR(t.x,e.x)&&bR(t.y,e.y)}function TR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function vP(t,e){return TR(t.x,e.x)&&TR(t.y,e.y)}function xR(t){return Nn(t.x)/Nn(t.y)}function ER(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class $8{constructor(){this.members=[]}add(e){Xb(this.members,e),e.scheduleRender()}remove(e){if(Wb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Q8(t,e,n){let i="";const s=t.x.translate/e.x,o=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((s||o||u)&&(i=`translate3d(${s}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:g,rotateX:_,rotateY:T,skewX:x,skewY:S}=n;d&&(i=`perspective(${d}px) ${i}`),g&&(i+=`rotate(${g}deg) `),_&&(i+=`rotateX(${_}deg) `),T&&(i+=`rotateY(${T}deg) `),x&&(i+=`skewX(${x}deg) `),S&&(i+=`skewY(${S}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const Wv=["","X","Y","Z"],Y8={visibility:"hidden"},wR=1e3;let X8=0;function Jv(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function _P(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=AD(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(s||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&_P(i)}function bP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(u={},h=e==null?void 0:e()){this.id=X8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Z8),this.nodes.forEach(rq),this.nodes.forEach(sq),this.nodes.forEach(eq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new V8)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Zb),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=M8(u),this.instance=u;const{layoutId:f,layout:d,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(d||f)&&(this.isLayoutDirty=!0),t){let _;const T=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=L8(T,250),Om.hasAnimatedSinceResize&&(Om.hasAnimatedSinceResize=!1,this.nodes.forEach(AR))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||d)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:T,hasRelativeLayoutChanged:x,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||cq,{onLayoutAnimationStart:R,onLayoutAnimationComplete:k}=g.getProps(),U=!this.targetLayout||!vP(this.targetLayout,S),V=!T&&x;if(this.options.layoutRoot||this.resumeFrom||V||T&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,V);const $={...nT(N,"layout"),onPlay:R,onComplete:k};(g.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($)}else T||AR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Sa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aq),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_P(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(SR);return}this.isUpdating||this.nodes.forEach(nq),this.isUpdating=!1,this.nodes.forEach(iq),this.nodes.forEach(W8),this.nodes.forEach(J8),this.clearAllSnapshots();const h=vr.now();an.delta=gs(0,1e3/60,h-an.timestamp),an.timestamp=h,an.isProcessing=!0,qv.update.process(an),qv.preRender.process(an),qv.render.process(an),an.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tq),this.sharedNodes.forEach(oq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nn(this.snapshot.measuredBox.x)&&!Nn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!yP(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,g=d!==this.prevTransformTemplateValue;u&&(h||vo(this.latestValues)||g)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),hq(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:u}=this.options;if(!u)return Ct();const h=u.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(fq))){const{scroll:g}=this.root;g&&(Wl(h.x,g.offset.x),Wl(h.y,g.offset.y))}return h}removeElementScroll(u){var f;const h=Ct();if(yi(h,u),(f=this.scroll)!=null&&f.wasRoot)return h;for(let d=0;d<this.path.length;d++){const g=this.path[d],{scroll:_,options:T}=g;g!==this.root&&_&&T.layoutScroll&&(_.wasRoot&&yi(h,u),Wl(h.x,_.offset.x),Wl(h.y,_.offset.y))}return h}applyTransform(u,h=!1){const f=Ct();yi(f,u);for(let d=0;d<this.path.length;d++){const g=this.path[d];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Jl(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),vo(g.latestValues)&&Jl(f,g.latestValues)}return vo(this.latestValues)&&Jl(f,this.latestValues),f}removeTransform(u){const h=Ct();yi(h,u);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!vo(d.latestValues))continue;E_(d.latestValues)&&d.updateSnapshot();const g=Ct(),_=d.measurePageBox();yi(g,_),vR(h,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,g)}return vo(this.latestValues)&&vR(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==an.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var T;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:_}=this.options;if(!(!this.layout||!(g||_))){if(this.resolvedRelativeTargetAt=an.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Ih(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),m8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yi(this.target,this.layout.layoutBox),uP(this.target,this.targetDelta)):yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Ih(this.relativeTargetOrigin,this.target,x.target),yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||E_(this.parent.latestValues)||lP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===an.timestamp&&(f=!1),f)return;const{layout:d,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||g))return;yi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;p8(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ct());const{target:x}=u;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(pR(this.prevProjectionDelta.x,this.projectionDelta.x),pR(this.prevProjectionDelta.y,this.projectionDelta.y)),Ch(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!ER(this.projectionDelta.x,this.prevProjectionDelta.x)||!ER(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xl(),this.projectionDelta=Xl(),this.projectionDeltaWithTransform=Xl()}setAnimationOrigin(u,h=!1){const f=this.snapshot,d=f?f.latestValues:{},g={...this.latestValues},_=Xl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const T=Ct(),x=f?f.source:void 0,S=this.layout?this.layout.source:void 0,N=x!==S,R=this.getStack(),k=!R||R.members.length<=1,U=!!(N&&!k&&this.options.crossfade===!0&&!this.path.some(uq));this.animationProgress=0;let V;this.mixTargetDelta=$=>{const A=$/1e3;RR(_.x,u.x,A),RR(_.y,u.y,A),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ih(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lq(this.relativeTarget,this.relativeTargetOrigin,T,A),V&&K8(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=Ct()),yi(V,this.relativeTarget)),N&&(this.animationValues=g,z8(g,d,this.latestValues,A,U,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Sa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{Om.hasAnimatedSinceResize=!0,this.currentAnimation=O8(0,wR,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:d,latestValues:g}=u;if(!(!h||!f||!d)){if(this!==u&&this.layout&&d&&TP(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||Ct();const _=Nn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+_;const T=Nn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+T}yi(h,f),Jl(h,g),Ch(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new $8),this.sharedNodes.get(u).add(h);const d=h.options.initialPromotionConfig;h.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const d={};f.z&&Jv("z",u,d,this.animationValues);for(let g=0;g<Wv.length;g++)Jv(`rotate${Wv[g]}`,u,d,this.animationValues),Jv(`skew${Wv[g]}`,u,d,this.animationValues);u.render();for(const g in d)u.setStaticValue(g,d[g]),this.animationValues&&(this.animationValues[g]=d[g]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Y8;const h={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=km(u==null?void 0:u.pointerEvents)||"",h.transform=f?f(this.latestValues,""):"none",h;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=km(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!vo(this.latestValues)&&(x.transform=f?f({},""):"none",this.hasProjected=!1),x}const g=d.animationValues||d.latestValues;this.applyTransformsToTarget(),h.transform=Q8(this.projectionDeltaWithTransform,this.treeScale,g),f&&(h.transform=f(g,h.transform));const{x:_,y:T}=this.projectionDelta;h.transformOrigin=`${_.origin*100}% ${T.origin*100}% 0`,d.animationValues?h.opacity=d===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=d===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const x in Xh){if(g[x]===void 0)continue;const{correct:S,applyTo:N,isCSSVariable:R}=Xh[x],k=h.transform==="none"?g[x]:S(g[x],d);if(N){const U=N.length;for(let V=0;V<U;V++)h[N[V]]=k}else R?this.options.visualElement.renderState.vars[x]=k:h[x]=k}return this.options.layoutId&&(h.pointerEvents=d===this?km(u==null?void 0:u.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(SR),this.root.sharedNodes.clear()}}}function W8(t){t.updateLayout()}function J8(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:o}=t.options,u=e.source!==t.layout.source;o==="size"?vi(_=>{const T=u?e.measuredBox[_]:e.layoutBox[_],x=Nn(T);T.min=i[_].min,T.max=T.min+x}):TP(o,e.layoutBox,i)&&vi(_=>{const T=u?e.measuredBox[_]:e.layoutBox[_],x=Nn(i[_]);T.max=T.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+x)});const h=Xl();Ch(h,i,e.layoutBox);const f=Xl();u?Ch(f,t.applyTransform(s,!0),e.measuredBox):Ch(f,i,e.layoutBox);const d=!yP(h);let g=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:T,layout:x}=_;if(T&&x){const S=Ct();Ih(S,e.layoutBox,T.layoutBox);const N=Ct();Ih(N,i,x.layoutBox),vP(S,N)||(g=!0),_.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=S,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function Z8(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function eq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function tq(t){t.clearSnapshot()}function SR(t){t.clearMeasurements()}function nq(t){t.isLayoutDirty=!1}function iq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function AR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function rq(t){t.resolveTargetDelta()}function sq(t){t.calcProjection()}function aq(t){t.resetSkewAndRotation()}function oq(t){t.removeLeadSnapshot()}function RR(t,e,n){t.translate=yt(e.translate,0,n),t.scale=yt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function CR(t,e,n,i){t.min=yt(e.min,n.min,i),t.max=yt(e.max,n.max,i)}function lq(t,e,n,i){CR(t.x,e.x,n.x,i),CR(t.y,e.y,n.y,i)}function uq(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const cq={duration:.45,ease:[.4,0,.1,1]},IR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),NR=IR("applewebkit/")&&!IR("chrome/")?Math.round:Ei;function DR(t){t.min=NR(t.min),t.max=NR(t.max)}function hq(t){DR(t.x),DR(t.y)}function TP(t,e,n){return t==="position"||t==="preserve-aspect"&&!d8(xR(e),xR(n),.2)}function fq(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const dq=bP({attachResizeListener:(t,e)=>ef(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zv={current:void 0},xP=bP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Zv.current){const t=new dq({});t.mount(window),t.setOptions({layoutScroll:!0}),Zv.current=t}return Zv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),mq={pan:{Feature:N8},drag:{Feature:I8,ProjectionNode:xP,MeasureLayout:mP}};function PR(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&ht.postRender(()=>o(e,Nf(e)))}class pq extends Da{mount(){const{current:e}=this.node;e&&(this.unmount=wB(e,(n,i)=>(PR(this.node,i,"Start"),s=>PR(this.node,s,"End"))))}unmount(){}}class gq extends Da{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=If(ef(this.node.current,"focus",()=>this.onFocus()),ef(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kR(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&ht.postRender(()=>o(e,Nf(e)))}class yq extends Da{mount(){const{current:e}=this.node;e&&(this.unmount=CB(e,(n,i)=>(kR(this.node,i,"Start"),(s,{success:o})=>kR(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const A_=new WeakMap,e0=new WeakMap,vq=t=>{const e=A_.get(t.target);e&&e(t)},_q=t=>{t.forEach(vq)};function bq({root:t,...e}){const n=t||document;e0.has(n)||e0.set(n,{});const i=e0.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(_q,{root:t,...e})),i[s]}function Tq(t,e,n){const i=bq(e);return A_.set(t,n),i.observe(t),()=>{A_.delete(t),i.unobserve(t)}}const xq={some:0,all:1};class Eq extends Da{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:xq[s]},h=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),T=d?g:_;T&&T(f)};return Tq(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(wq(e,n))&&this.startObserver()}unmount(){}}function wq({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Sq={inView:{Feature:Eq},tap:{Feature:yq},focus:{Feature:gq},hover:{Feature:pq}},Aq={layout:{ProjectionNode:xP,MeasureLayout:mP}},R_={current:null},EP={current:!1};function Rq(){if(EP.current=!0,!!Qb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>R_.current=t.matches;t.addListener(e),e()}else R_.current=!1}const Cq=[...QD,_n,Aa],Iq=t=>Cq.find($D(t)),Nq=new WeakMap;function Dq(t,e,n){for(const i in e){const s=e[i],o=n[i];if(xn(s))t.addValue(i,s);else if(xn(o))t.addValue(i,Qh(s,{owner:t}));else if(o!==s)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=t.getStaticValue(i);t.addValue(i,Qh(u!==void 0?u:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const OR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Pq{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ET,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=vr.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ht.render(this.render,!1,!0))};const{latestValues:f,renderState:d,onUpdate:g}=u;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=rg(n),this.isVariantNode=cD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in T){const S=T[x];f[x]!==void 0&&xn(S)&&S.set(f[x],!1)}}mount(e){this.current=e,Nq.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),EP.current||Rq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:R_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Sa(this.notifyUpdate),Sa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=$o.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&ht.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Du){const n=Du[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<OR.length;i++){const s=OR[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,u=e[o];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=Dq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Qh(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(GD(i)||MD(i))?i=parseFloat(i):!Iq(i)&&Aa.test(n)&&(i=FD(e,n)),this.setBaseTarget(e,xn(i)?i.get():i)),xn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const u=yT(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);u&&(i=u[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!xn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Zb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class wP extends Pq{constructor(){super(...arguments),this.KeyframeResolver=YD}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function kq(t){return window.getComputedStyle(t)}class Oq extends wP{constructor(){super(...arguments),this.type="html",this.renderInstance=TD}readValueFromInstance(e,n){if($o.has(n))return KF(e,n);{const i=kq(e),s=(uT(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return cP(e,n)}build(e,n,i){fT(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return vT(e,n,i)}}class Mq extends wP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ct,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&bD(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if($o.has(n)){const i=BD(n);return i&&i.default||0}return n=xD.has(n)?n:lT(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return wD(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&ht.postRender(this.updateDimensions)}build(e,n,i){pT(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,s){ED(e,n,i,s)}mount(e){this.isSVGTag=gT(e.tagName),super.mount(e)}}const jq=(t,e)=>mT(t)?new Mq(e):new Oq(e,{allowProjection:t!==I.Fragment}),Vq=_F({...s8,...Sq,...mq,...Aq},jq),Yn=MB(Vq);function SP(){const[t,e]=I.useState(0),n=2400,i=500;I.useEffect(()=>{const o=setInterval(()=>{e(u=>u+1)},n+i);return()=>clearInterval(o)},[]);const s="#fdba74";return y.jsx(Yn.svg,{width:"100",height:"100",viewBox:"0 0 100 100",initial:"hidden",animate:"visible",children:y.jsxs(Yn.g,{initial:{rotate:0,opacity:1},animate:{rotate:360,opacity:0},transition:{delay:1.3,duration:1,ease:"easeInOut"},children:[y.jsx(Yn.line,{x1:"40",y1:"20",x2:"30",y2:"85",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},stroke:s,strokeWidth:"10",strokeLinecap:"round",variants:{hidden:{pathLength:0},visible:{pathLength:1,transition:{duration:.3,delay:.1}}}}),y.jsx(Yn.line,{x1:"70",y1:"20",x2:"60",y2:"85",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},stroke:s,strokeWidth:"10",strokeLinecap:"round",variants:{hidden:{pathLength:0},visible:{pathLength:1,transition:{duration:.3,delay:.4}}}}),y.jsx(Yn.line,{x1:"20",y1:"40",x2:"80",y2:"40",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},stroke:s,strokeWidth:"10",strokeLinecap:"round",variants:{hidden:{pathLength:0},visible:{pathLength:1,transition:{duration:.3,delay:.7}}}}),y.jsx(Yn.line,{x1:"20",y1:"65",x2:"80",y2:"65",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},stroke:s,strokeWidth:"10",strokeLinecap:"round",variants:{hidden:{pathLength:0},visible:{pathLength:1,transition:{duration:.3,delay:1}}}})]})},t)}function t0({children:t}){const[e,n]=hI(wa),[i,s]=I.useState(!1),o=Si();return I.useEffect(()=>{e&&(async()=>{if(e){await e.reload();const h=Iu(qo,"users",e.uid);await nB(h,{verified:e.emailVerified}),!e.emailVerified&&!i&&(await lb(e),s(!0),o("/?reason=notVerified"))}})()},[e]),n?y.jsxs("div",{className:"w-screen h-screen bg-stone-800 text-gray-100 flex flex-col items-center justify-center gap-4",children:[y.jsx("p",{className:" text-2xl",children:"驗證中..."}),y.jsx(SP,{})]}):e?e.emailVerified?t:y.jsx("div",{className:"w-screen h-screen flex items-center justify-center bg-stone-50 text-orange-500 text-center p-4",children:"已發送驗證信到您的信箱，請點擊後重新登入。"}):(o("/account/login?reason=notLoggedIn"),null)}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Uq=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),MR=t=>{const e=Uq(t);return e.charAt(0).toUpperCase()+e.slice(1)},AP=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:u,...h},f)=>I.createElement("svg",{ref:f,...zq,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:AP("lucide",s),...h},[...u.map(([d,g])=>I.createElement(d,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=(t,e)=>{const n=I.forwardRef(({className:i,...s},o)=>I.createElement(Bq,{ref:o,iconNode:e,className:AP(`lucide-${Lq(MR(t))}`,`lucide-${t}`,i),...s}));return n.displayName=MR(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],qq=Gt("chevron-left",Fq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Gq=Gt("chevron-right",Hq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$q=Gt("circle-check-big",Kq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Yq=Gt("circle-help",Qq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],jR=Gt("heart",Xq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Jq=Gt("log-out",Wq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],eH=Gt("megaphone",Zq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],nH=Gt("menu",tH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],rH=Gt("message-circle-x",iH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"M5 12h14",key:"1ays0h"}]],RP=Gt("minus",sH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],oH=Gt("moon",aH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],CP=Gt("plus",lH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],C_=Gt("search",uH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hH=Gt("settings",cH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],dH=Gt("shopping-bag",fH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],RT=Gt("shopping-cart",mH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]],gH=Gt("sun-medium",pH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vH=Gt("user",yH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],CT=Gt("x",_H);function IT(){const t=wi(),e=cn(WM),n=()=>{t(JM(!e))};return e?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark"),y.jsxs("label",{className:"swap swap-rotate",children:[y.jsx("input",{type:"checkbox",className:"theme-controller",value:"synthwave",checked:e,onChange:n}),y.jsx(gH,{size:"30",className:"swap-off "}),y.jsx(oH,{size:"30",className:" swap-on"})]})}function NT(){const t=wi(),e=cn(ys),n=i=>{t(QM(i))};return y.jsxs("div",{className:" flex items-center",children:[y.jsx("span",{className:" text-nowrap",children:"使用幣值 : "}),y.jsxs("select",{defaultValue:e,onChange:i=>n(i.target.value),className:"select shadow-none h-8 focus:outline-none ml-1 mt-0.5 border-0 bg-stone-300 dark:bg-stone-600 cursor-pointer",children:[y.jsx("option",{value:"TWD",className:"dark:bg-stone-600",children:"TWD"}),y.jsx("option",{value:"JPY",className:"dark:bg-stone-600",children:"JPY"}),y.jsx("option",{value:"USD",className:" dark:bg-stone-600",children:"USD"})]})]})}function bH(){const[t,e]=I.useState(!1),n=cn(d=>d.auth.user),i=Uu(Ku),s=wi(),o=ii(),u=Si(),h=async()=>{await Z2(i),s(U_());const d=o.pathname;u(`${d}?reason=logout`)},f=()=>{e(!t)};return y.jsxs("div",{className:"hamberger",children:[y.jsx("label",{onClick:f,children:y.jsx(nH,{size:"40",className:"md:hidden cursor-pointer text-orange-900"})}),y.jsx(tg,{children:t&&y.jsxs(Yn.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},transition:{duration:.3},className:"fixed inset-0 w-screen h-screen bg-stone-300/80 dark:bg-stone-700/80 backdrop-blur-md z-50",children:[y.jsx(CT,{size:"40",onClick:f,className:"absolute right-10 top-3 cursor-pointer"}),y.jsxs("ul",{className:" flex flex-col gap-8 h-full items-center mt-[20vh]",children:[y.jsx("li",{className:"hover:text-stone-600 dark:hover:text-orange-300",children:y.jsx(We,{to:"/",children:y.jsx("div",{className:"w-[50vw] p-2 rounded-md text-center border-2",children:"首頁"})})}),y.jsx("li",{className:"hover:text-stone-600 dark:hover:text-orange-300",children:y.jsx(We,{to:"/products/category/3D模型",children:y.jsx("div",{className:"w-[50vw] p-2 rounded-md text-center border-2",children:"3D模型"})})}),y.jsx("li",{className:"hover:text-stone-600 dark:hover:text-orange-300",children:y.jsx(We,{to:"/products/category/周邊商品",children:y.jsx("div",{className:"w-[50vw] p-2 rounded-md text-center border-2",children:"周邊商品"})})}),y.jsx("li",{className:"hover:text-stone-600 dark:hover:text-orange-300",children:y.jsx(We,{to:"/guide",children:y.jsx("div",{className:"w-[50vw] p-2 rounded-md text-center border-2",children:"購物說明"})})}),y.jsx("li",{children:n?y.jsxs("ul",{className:"grid grid-cols-2 w-[50vw] gap-4",children:[y.jsx("li",{className:" col-span-2 p-2 rounded-md text-center border-2",children:y.jsx(We,{to:"/account/order",className:"flex items-center hover:bg-stone-300 dark:hover:bg-stone-600",children:y.jsx("p",{className:" w-full",children:"訂單紀錄"})})}),y.jsx("li",{className:" p-2 rounded-md text-center border-2",children:y.jsx(We,{to:"/account/setting",className:"flex items-center hover:bg-stone-300 dark:hover:bg-stone-600",children:y.jsx("p",{className:" w-full",children:"設定"})})}),y.jsx("li",{className:" p-2 rounded-md text-center border-2",children:y.jsx("div",{onClick:h,className:"flex items-center w-full hover:bg-stone-300 dark:hover:bg-stone-600 text-left",children:y.jsx("p",{className:" w-full  text-center",children:"登出"})})})]}):y.jsxs("div",{className:"flex gap-4",children:[y.jsx(We,{to:"/account/register",children:"註冊"}),y.jsx("span",{className:" select-none",children:"|"}),y.jsx(We,{to:"/account/login",children:"登入"})]})}),y.jsxs("li",{className:"flex justify-between w-[50vw] px-2 mt-2",children:[y.jsx(NT,{}),y.jsx(IT,{})]})]})]},"menu")})]})}function Bl({to:t,children:e}){return y.jsxs(Yn.div,{className:"relative inline-block cursor-pointer",initial:"initial",whileHover:"hover",children:[y.jsx(We,{to:t,className:"relative z-10 inline-block px-1",children:e}),y.jsx(Yn.div,{className:"absolute left-0 right-0 h-1 -bottom-1 bg-orange-300 origin-left z-0",variants:{initial:{scaleX:0},hover:{scaleX:1}},transition:{duration:.3,ease:"easeInOut"}})]})}function TH(){const t=cn(u=>u.auth.user),e=Uu(Ku),n=wi(),i=ii(),s=Si(),o=async()=>{await Z2(e),n(U_());const u=i.pathname;s(`${u}?reason=logout`)};return y.jsx(y.Fragment,{children:y.jsx("nav",{className:" bg-stone-200 dark:bg-stone-700 font-medium hidden sm:block text-stone-900 dark:text-stone-50 !overflow-visible",children:y.jsxs("div",{className:"max-w-screen-xl mx-auto h-10 px-10 pr-9 flex justify-between",children:[y.jsxs("ul",{className:" flex gap-8 h-full items-center justify-start",children:[y.jsx("li",{className:" ",children:y.jsx(Bl,{to:"/",children:"首頁"})}),y.jsx("li",{className:" ",children:y.jsx(Bl,{to:"/products/category/3D模型",children:"3D模型"})}),y.jsx("li",{className:" ",children:y.jsx(Bl,{to:"/products/category/周邊商品",children:"周邊商品"})}),y.jsx("li",{className:" ",children:y.jsx(Bl,{to:"/guide",children:"購物須知"})})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(NT,{}),y.jsx("span",{className:" select-none",children:"|"}),y.jsx(IT,{}),y.jsx("span",{className:" select-none",children:"|"}),t?y.jsx("div",{className:"flex items-center gap-4 h-full group hover:bg-stone-300 dark:hover:bg-stone-600 px-2 rounded-lg ",children:y.jsxs("div",{className:"relative",children:[y.jsxs("div",{className:"flex gap-2 items-center cursor-pointer",children:[y.jsx(vH,{}),y.jsx("p",{children:"帳號"})]}),y.jsx("div",{className:`absolute top-full right-0 mt-2 w-48 bg-stone-200 dark:bg-stone-700 border border-stone-300 dark:border-stone-600 rounded-xl shadow-2xl z-[999] \r
                                        opacity-0 group-hover:opacity-100 \r
                                        pointer-events-none group-hover:pointer-events-auto \r
                                        transition-all duration-200`,children:y.jsxs("ul",{className:"py-2 px-2",children:[y.jsx("li",{children:y.jsxs(We,{to:"/account/setting",className:"flex items-center px-4 py-2 hover:bg-stone-300 dark:hover:bg-stone-600",children:[y.jsx(hH,{className:"w-4 h-4 mr-2"}),"個人設定"]})}),y.jsx("li",{children:y.jsxs(We,{to:"/account/order",className:"flex items-center px-4 py-2 hover:bg-stone-300 dark:hover:bg-stone-600",children:[y.jsx(dH,{className:"w-4 h-4 mr-2"}),"訂單紀錄"]})}),y.jsx("li",{children:y.jsxs("button",{onClick:o,className:"flex items-center w-full px-4 py-2 hover:bg-stone-300 dark:hover:bg-stone-600 text-left",children:[y.jsx(Jq,{className:"w-4 h-4 mr-2"}),"登出"]})})]})})]})}):y.jsxs("div",{className:"flex gap-4",children:[y.jsx(Bl,{to:"/account/register",children:"註冊"}),y.jsx("span",{className:" select-none",children:"|"}),y.jsx(Bl,{to:"/account/login",children:"登入"})]})]})]})})})}function xH(){const t=wi(),[e,n]=I.useState(!1),[i,s]=I.useState(""),o=Si(),u=I.useRef(),h=cn(NC),f=()=>n(!e),d=()=>t(tj()),g=_=>{_.preventDefault(),i.trim()!==""&&(t(DC(i)),f(),o(`/results/${encodeURIComponent(i.trim())}`))};return I.useEffect(()=>{const _=T=>{T.key==="Escape"&&n(!1)};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[]),I.useEffect(()=>{e&&setTimeout(()=>{var _;return(_=u.current)==null?void 0:_.focus()},100)},[e]),y.jsxs(y.Fragment,{children:[y.jsxs("div",{onClick:f,className:" flex cursor-pointer items-center",children:[y.jsx("label",{className:"input bg-stone-50 hidden md:flex",children:y.jsx("input",{type:"search",required:!0,placeholder:"輸入關鍵字",className:" text-stone-900 font-bold"})}),y.jsx(C_,{className:" size-[3vw] max-w-[40px] min-h-[30px] min-w-[30px] text-orange-900 ml-4"})]}),y.jsx(tg,{children:e&&y.jsxs(y.Fragment,{children:[y.jsx(Yn.div,{className:"fixed inset-0 bg-stone-300/80 dark:bg-stone-700/80 backdrop-blur-md z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),y.jsxs(Yn.div,{className:"fixed top-1/2 left-1/2 z-50 w-[80vw] max-w-xl p-6 rounded-xl -translate-x-1/2 -translate-y-1/2",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.25},children:[y.jsxs("div",{className:"flex justify-between items-center mb-4 ",children:[y.jsx("h2",{className:"text-xl font-semibold",children:"搜尋商品"}),y.jsx("div",{onClick:f,children:y.jsx(CT,{size:"40",className:"cursor-pointer"})})]}),y.jsxs("form",{onSubmit:g,className:"flex",children:[y.jsx("input",{ref:u,value:i,onChange:_=>s(_.target.value),type:"text",placeholder:"輸入關鍵字...",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 border-stone-600 dark:border-stone-300 ring-orange-500 dark:bg-stone-700 dark:text-white"}),y.jsx("button",{className:"!px-5 !py-0 ml-4",children:y.jsx(C_,{size:"30",className:"text-orange-900"})})]}),h.length>0&&y.jsxs("div",{className:"mt-4 min-h-[50vh]",children:[y.jsx("h3",{className:"text-sm text-stone-500 dark:text-stone-300 mb-2",children:"搜尋歷史"}),y.jsxs("ul",{className:"space-y-1",children:[h.map((_,T)=>y.jsx("li",{onClick:f,children:y.jsx(We,{to:`/results/${_}`,className:"block px-3 py-1 rounded hover:bg-stone-100 dark:hover:bg-stone-600",children:_})},T)),y.jsx("li",{onClick:d,className:" mt-10 border-1 text-center p-2 rounded-md border-stone-600 dark:border-stone-300 cursor-pointer dark:hover:border-stone-500 hover:border-stone-100",children:"清除搜尋歷史"})]})]})]})]})})]})}function EH({message:t,type:e}){return y.jsx(tg,{children:t&&y.jsx(Yn.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},transition:{duration:.3},className:"fixed bottom-6 right-6 z-[9999]",children:y.jsxs("div",{className:`bg-stone-700/50 text-white px-8 py-4 rounded-lg shadow-lg min-w-[200px] text-center flex gap-2 backdrop-blur-xl border-2 ${e=="success"?"border-success":"border-error"}`,children:[e=="success"?y.jsx($q,{}):y.jsx(rH,{})," ",y.jsx("p",{children:t})]})},"toast")})}function ti(){const[t]=AV(),[e,n]=I.useState(null),[i,s]=I.useState(null),o=cn(L_).length;return I.useEffect(()=>{const u=t.get("reason");if(u){switch(u){case"notLoggedIn":n("請先登入後繼續操作"),s("error");break;case"notVerified":n("請完成信箱驗證"),s("error");break;case"finishCheckout":n("完成結帳"),s("success");break;case"loginSuccess":n("成功登入"),s("success");break;case"logout":n("成功登出"),s("success");break;case"addtoCart":n("已加入購物車"),s("success");break;default:n("發生未知狀態"),s("error");break}if(u){const h=setTimeout(()=>{n(null)},3e3);return()=>clearTimeout(h)}}},[t]),y.jsxs(y.Fragment,{children:[y.jsxs("header",{className:"  bg-orange-300 w-screen",children:[y.jsxs("div",{className:" relative  max-w-screen-xl mx-auto max-h-16 p-2 flex items-center justify-between px-5 md:px-10",children:[y.jsx(bH,{className:""}),y.jsx(We,{to:"/",className:" md:absolute h-full items-center ml-[7.5vw] md:ml-0",children:y.jsx("img",{src:"/images/HASH BUY.png",className:"max-h-14",alt:""})}),y.jsxs("div",{className:"flex h-full items-center ",children:[y.jsx(xH,{}),y.jsxs(We,{className:"relative",to:"/shoppingCart",children:[y.jsx("div",{className:"absolute badge bg-orange-600 border-orange-300 text-stone-50 rounded-full -right-2 bottom-1/2 text-sm font-bold !p-0 !pb-0.5 aspect-square border-3",children:o}),y.jsx(RT,{className:" size-[2.4vw] max-w-[40px] min-h-[30px] min-w-[30px] text-orange-900 ml-8"})]})]})]}),y.jsx(TH,{})]}),y.jsx(EH,{message:e,type:i})]})}function ni(){return y.jsx(y.Fragment,{children:y.jsxs("footer",{className:" bg-stone-600 text-stone-100 w-screen px-10 py-8 overflow-hidden",children:[y.jsx("div",{className:" max-w-screen-xl mx-auto ",children:y.jsxs("div",{className:" grid grid-cols-2 md:grid-cols-5 gap-4",children:[y.jsxs("ul",{className:" order-1 flex flex-col gap-1",children:[y.jsx("p",{className:" font-bold text-base",children:"網站導覽"}),y.jsx("li",{className:"hover:text-orange-300",children:y.jsx(We,{to:"/",children:"首頁"})}),y.jsx("li",{className:"hover:text-orange-300",children:y.jsx(We,{to:"/products/category/3D模型",children:"3D模型"})}),y.jsx("li",{className:"hover:text-orange-300",children:y.jsx(We,{to:"/products/category/周邊商品",children:"周邊商品"})}),y.jsx("li",{className:"hover:text-orange-300",children:y.jsx(We,{to:"/",children:"購物說明"})})]}),y.jsxs("ul",{className:" order-2 md:order-2 flex flex-col gap-1",children:[y.jsx("p",{className:" font-bold text-base",children:"網站設定"}),y.jsxs("li",{className:" flex",children:[y.jsx("p",{className:"mr-4",children:"切換顯示 :"}),y.jsx(IT,{})]}),y.jsx("li",{className:" flex items-center",children:y.jsx(NT,{})})]}),y.jsxs("ul",{className:" order-3 md:order-3 flex flex-col gap-1 md:col-span-2",children:[y.jsx("p",{className:" font-bold text-base",children:"聯絡我們"}),y.jsx("li",{children:"s111219028@stu.ntue.edu.tw"}),y.jsx("li",{children:"s111219014@stu.ntue.edu.tw"})]}),y.jsx("div",{className:" order-0 col-span-2 w-full text-center md:col-span-1 md:order-4 footer-logo",children:y.jsx(We,{to:"/",className:"",children:y.jsx("p",{className:" text-4xl font-extrabold text-orange-300 mr-4",children:"Hash·Buy"})})})]})}),y.jsxs("div",{className:"max-w-screen-xl mx-auto mt-6 flex flex-col items-center",children:[y.jsx("hr",{className:" w-8/10 border-2 rounded-2xl border-stone-700"}),y.jsx("p",{className:" w-full text-center mt-4",children:"Hash Buy @ All Rights Reserved."})]})]})})}function wH(){const t=["服務試營運第二階段開始! 開放會員系統","慶祝開發者還有呼吸 全站免運直到開發者沒有呼吸","提醒! 沒有收到商品是正常現象"],[e,n]=I.useState(0);return I.useEffect(()=>{const i=setInterval(()=>{n(s=>(s+1)%t.length)},6e3);return()=>clearInterval(i)},[]),y.jsx(y.Fragment,{children:y.jsxs("div",{className:" max-w-screen-xl mx-auto overflow-hidden bg-orange-100 dark:bg-stone-800 border-1 text-stone-900 dark:text-stone-50 border-orange-900 dark:border-stone-600 rounded-md py-1 flex items-center gap-4",children:[y.jsx(eH,{size:"30",className:" text-orange-900 dark:text-orange-300 ml-4 md:ml-8"}),y.jsx(tg,{mode:"wait",children:y.jsx(Yn.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"100%"},transition:{duration:.4,ease:"easeInOut"},className:" w-full h-[3rem] md:h-auto",children:t[e]},e)})]})})}const ga=JSON.parse(`[{"id":1,"itemType":"周邊商品","title":"「BanG Dream! It's MyGo!!!!!」壓克力人形立牌 wind ver.","creator":"ブシロード","release_date":"2025-03-22","images":["img1.jpg"],"currency":"JPY","discount":1,"discount_end":null,"variants":[{"id":1,"name":"高松燈","price":1760,"stock":20,"image":"tomori.jpeg"},{"id":2,"name":"千早愛音","price":1760,"stock":0,"image":"anon.jpg"},{"id":3,"name":"長崎そよ","price":1760,"stock":15,"image":"soyo.jpg"},{"id":4,"name":"椎名立希","price":1760,"stock":15,"image":"taki.jpg"},{"id":5,"name":"要樂奈","price":1760,"stock":15,"image":"rana.jpg"}],"description":"BanG Dream! It's MyGo!!!!!五位成員的壓克力立牌，描繪了五人在強風吹拂時的姿態!","likes":143},{"id":2,"itemType":"周邊商品","title":"「Re:從零開始的異世界生活」 壓克力人形立牌 Winter ver.","creator":"KADOKAWA","release_date":"2025-06-30","images":["img1.jpg","img2.jpg"],"currency":"TWD","discount":0.8,"discount_end":"2025-08-31","variants":[{"id":1,"name":"愛蜜莉雅","price":440,"stock":30,"image":null},{"id":2,"name":"雷姆","price":440,"stock":10,"image":null},{"id":3,"name":"拉姆","price":440,"stock":10,"image":null}],"description":"取自TV動畫『Re:從零開始的異世界生活』，愛蜜莉雅、拉姆、雷姆化身為冬天可愛造型的壓克力人形立牌登場！","likes":98},{"id":3,"itemType":"周邊商品","title":"「Re:從零開始的異世界生活」 Q版閃亮亮徽章套組 Winter ver.","creator":"KADOKAWA","release_date":"2025-06-30","images":["img1.jpg"],"currency":"TWD","discount":0.8,"discount_end":"2025-07-31","variants":[{"id":1,"name":"三入組","price":350,"stock":30,"image":null}],"description":"取自TV動畫『Re:從零開始的異世界生活』，愛蜜莉雅、拉姆、雷姆化身為冬天可愛造型的Q版閃亮亮徽章套組登場！","likes":125},{"id":4,"itemType":"周邊商品","title":"「Re:從零開始的異世界生活」 Re:從零開始愛蜜莉雅的誕生日生活2024ver. 壓克力多功能立牌","creator":"KADOKAWA","release_date":"2025-04-16","images":["img1.jpg","img2.jpg"],"currency":"TWD","discount":0.8,"discount_end":"2025-06-30","variants":[{"id":1,"name":"壓克力多功能立牌","price":815,"stock":30,"image":null}],"description":"活動特繪3位角色的插圖！尺寸非常適合學習或辦公桌使用，也可以將智手機和其他小物品放在上面，非常多用途。","likes":98},{"id":5,"itemType":"周邊商品","title":"【Girls Band Cry】2nd Live 壓克力鑰匙圈(全5款隨機1入)","creator":"TOEI ANIMATION","release_date":"2024-10-25","images":["img1.jpg"],"currency":"JPY","discount":0.75,"discount_end":"2025-06-30","variants":[{"id":1,"name":"全5款隨機1入","price":800,"stock":30,"image":null}],"description":"來自動畫Girls Band Cry的搖滾樂團「トゲナシ トゲアリ」在2nd live所出的周邊商品，描繪了五人帥氣姿態的匹克造型鑰匙圈，共五款隨機出貨。","likes":121},{"id":6,"itemType":"周邊商品","title":"【Girls Band Cry】井芹仁菜娃娃","creator":"TOEI ANIMATION","release_date":"2025-01-21","images":["img1.jpg","img2.jpg","img3.jpg","img4.jpg"],"currency":"JPY","discount":1,"discount_end":null,"variants":[{"id":1,"name":"井芹仁菜","price":935,"stock":5,"image":null}],"description":"動畫Girls Band Cry主角芹井仁菜造型的可愛娃娃，以日本傳統的お手玉為主題設計。","likes":121},{"id":7,"itemType":"周邊商品","title":"【「Re:從零開始的異世界生活」B2半裁掛軸 婚禮 ver. 系列","creator":"KADOKAWA","release_date":"2025-01-29","images":["img1.jpg","img2.jpg"],"currency":"TWD","discount":1,"discount_end":null,"variants":[{"id":1,"name":"愛蜜莉雅","price":625,"stock":5,"image":null},{"id":2,"name":"特蕾西亞","price":625,"stock":5,"image":null},{"id":3,"name":"普莉希拉","price":625,"stock":5,"image":null}],"description":"取自TV動畫『「Re:從零開始的異世界生活」』、使用全新繪製插圖，可愛的婚禮服裝B2半裁掛軸登場！","likes":88},{"id":8,"itemType":"周邊商品","title":"【Girls Band Cry】原創金屬徽章","creator":"TOEI ANIMATION","release_date":"2023-07-26","images":["img1.jpg"],"currency":"TWD","discount":1,"discount_end":null,"variants":[{"id":1,"name":"井芹仁菜","price":440,"stock":0,"image":"nina.jpg"},{"id":2,"name":"河原木桃香","price":440,"stock":0,"image":"momoka.jpg"},{"id":3,"name":"安和昴","price":440,"stock":0,"image":"subaru.jpg"},{"id":4,"name":"海老冢智","price":440,"stock":5,"image":"satoshi.jpg"},{"id":5,"name":"RUPA","price":440,"stock":5,"image":"rupa.jpg"}],"description":"來自動畫Girls Band Cry的搖滾樂團「トゲナシ トゲアリ」所出的周邊商品，描繪了五人樣貌的金屬徽章。","likes":118},{"id":9,"itemType":"周邊商品","title":"【Girls Band Cry】壓克力人形立牌 井芹仁菜","creator":"TOEI ANIMATION","release_date":"2023-07-26","images":["img1.jpg"],"currency":"JPY","discount":1,"discount_end":null,"variants":[{"id":1,"name":"井芹仁菜","price":880,"stock":5,"image":null}],"description":"來自動畫Girls Band Cry的搖滾樂團「トゲナシ トゲアリ」 vo.井芹仁菜的壓克力立牌登場!可以與同系列商品自由組合。","likes":111},{"id":10,"itemType":"周邊商品","title":"「BanG Dream! It's MyGo!!!!!」長方形金屬徽章 Zero gravity ver.(共五款隨機一入) ","creator":"ブシロード","release_date":"2025-05-10","images":["img1.jpg"],"currency":"JPY","discount":1,"discount_end":null,"variants":[{"id":1,"name":"共五款隨機一入","price":660,"stock":20,"image":null}],"description":"BanG Dream! It's MyGo!!!!!五位成員的長方形金屬徽章，描繪了五人在無重力下的姿態!","likes":133},{"id":11,"itemType":"周邊商品","title":"「孤獨搖滾!」結束樂團T恤-白 ","creator":"Aniplex","release_date":"2024-08-01","images":["img1.jpg"],"currency":"TWD","discount":0.9,"discount_end":"2025-08-10","variants":[{"id":1,"name":"M","price":1260,"stock":20,"image":null},{"id":2,"name":"L","price":1260,"stock":20,"image":null},{"id":3,"name":"XL","price":1260,"stock":20,"image":null},{"id":4,"name":"XXL","price":1260,"stock":20,"image":null}],"description":"動畫「孤獨搖滾!」中結束樂團的白色款T恤。","likes":100},{"id":12,"itemType":"周邊商品","title":"「孤獨搖滾!」結束樂團漁夫帽 ","creator":"Aniplex","release_date":"2024-08-02","images":["img1.jpg"],"currency":"TWD","discount":0.9,"discount_end":"2025-06-10","variants":[{"id":1,"name":"漁夫帽","price":1460,"stock":3,"image":null}],"description":"印有動畫「孤獨搖滾!」中結束樂團標誌的漁夫帽。","likes":100},{"id":13,"itemType":"3D模型","title":"オリジナル3Dモデル「マヌカ」ver1.02 ","creator":"STUDIO JINGO","release_date":"2023-08-31","images":["image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg"],"currency":"JPY","discount":1,"discount_end":null,"variants":[{"id":1,"name":"Digital","price":6000,"stock":100,"image":null}],"description":"オリジナル3Dモデル「マヌカ」\\n\\n製作者: 진권/ジンゴ\\n\\nこのモデルはBlender\\n\\n2.83で製作されました。 他のプログラムでの互換性は保障いたしません\\n\\n▶商品説明◀\\nUnity Humanoid, Phys bone, Lip Sync, Eye-Tracking, Full-body Tracking, VRCSDK 3.0 対応\\n\\n△ 117,236\\n\\nVRC用リップシンク·アイトラッキングシェープキー 18個\\n\\n表情シェイプキー406個(MMD互換シェイプキー49個)\\n\\n素体シェイプキー35個\\n\\nヘア·衣装 シェイプキー 約66個\\n\\nマテリアル5個\\n\\nlilToon Shader\\nhttps://lilxyzw.booth.pm/items/3087170\\n\\nPoiyomi Toon Shader\\nhttps://poiyomi.booth.pm/items/4841309\\nPoiyomiマテリアル作業者: Poiyomi (@poiyomi)\\n\\nメッシュ22個\\n\\n表情アニメーション28個\\n\\nテクスチャー11個（メインテクスチャー4個）\\n\\n3.0専用アイコン23個\\n\\n「マヌカ」専用AFKモーション 4個\\nAFKモーション作業者: Levin (@bunny_64479)\\n\\n※blend, PSD, FBX, VRMファイル同梱※\\n\\nTwitter: @jingo_1016\\nE-mail: studiojingo@gmail.com","likes":32219},{"id":14,"itemType":"3D模型","title":"✨✨✨1周年ありがとうセール✨✨✨ 【オリジナル3Dモデル】 Sio / しお / ver.2.00","creator":"Chocolate rice","release_date":"2024-04-12","images":["img1.jpg","img2.jpg","img3.jpg","img4.jpg","img5.jpg","img6.jpg","img7.jpg","img8.jpg","img9.jpg","img10.jpg","img11.jpg","img12.jpg","img13.jpg","img14.jpg"],"currency":"JPY","discount":0.5,"discount_end":"2025-08-31","variants":[{"id":1,"name":"Digital","price":5500,"stock":100,"image":null}],"description":"✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦\\nSioちゃん1周年ありがとうセール！\\nもう1年なんて(๑˃̵ᴗ˂̵)\\n\\n感謝の気持ちを込めておトクなセールを開催中💝\\n今だけのチャンスだから、ぜひチェックしてねっ！\\n✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦\\n\\n- 2024/04/12 [18:00] 【オリジナル3Dモデル】 Sio / しお ver.1.00 released.\\n- 2024/04/12 [19:26] Hair PSD 追加 / Hair PSD 추가\\n- 2024/04/30 [22:00] -> Sio_ver.1.01\\n  - Breast.1_L / コライダー追加 / 콜라이더 추가\\n  - Costume_Jacket / 細かいテクスチャー修正 / 미세한 텍스쳐 수정\\n- 2024/06/02 [18:12] 足の震えを緩和するロコモーションパッチパッケージを追加 / 다리 떨림 완화 로코모션 패치 패키지 추가\\n- 2024/06/05 [18:33] ロコモーションパッチ : 瞬きをしないエラー修正 / 눈 깜빡이지 않는 오류 수정\\n- 2024/07/10 [15:49] Update Sio_ver.1.02_Chocolate_rice\\n  - まつげ、口の構造、耳ノーマル修正 / 속눈썹, 입구조, 귀 노멀 수정\\n\\n- 2024/12/13 [21:14] Update - Sio_ver.2.0\\n  - 顔メッシュの全体的な調整\\n  - シェイプキー調整時の目の歪みを軽減\\n❗ ver.2.0以降、顔メッシュが変更されたため、フェイシャルトラッキングパッチ等との互換性が低下する可能性あり。\\n\\n- 2024/12/16 [01:20] ver2.0 / Update\\n更新ログ:\\n1. 左手のバーテックスが伸び続ける問題を修正\\n2. 表情やタッチギミックのアニメーション微調整\\n3. ネコミミのジェスチャー不具合修正\\n4. Kaihen prefab を修正\\n※ 小規模修正のため、バージョン番号は据え置き\\n\\nモデル情報:\\n- モデル名: Sio / しお\\n- 製作: Chocolate rice\\n- 現行バージョン: ver.2.00\\n\\n動作環境:\\n- Unity 2022.3.22f1 基準\\n- VRChat対応\\n\\n構成:\\n- Polygon: 126,770\\n- Mesh: 23\\n- Material: 8\\n- Shape Keys: 顔 552 / 体 62\\n- MMD対応 / AFKモーションあり\\n\\n同梱ファイル:\\n- Unitypackage / FBX / Texture / Custom用Texture / UV / PSD / 規約PDF (JA, KR, EN, ZH)\\n\\nヘアUV仕様:\\n- 左右重ねUVで製作\\n\\n導入方法:\\n- 【無料】lilToonを先に導入: https://booth.pm/ko/items/3087170\\n\\n利用規約:\\n- 使用による損害は自己責任\\n- 購入時点で同意とみなす / 返金不可\\n- 利用前に必ず規約を確認\\n\\n規約リンク:\\n- KR: https://drive.google.com/file/d/16V1d8kKnigKflJPJMtEFD58iXNgdOHH_/view?usp=drive_link\\n- JA: https://drive.google.com/file/d/17VWFIPLh6eLYPHl1stdh2rWa-yQT93bg/view?usp=sharing\\n- EN: https://drive.google.com/file/d/1emfgEPY4O0iU6L_ntBSYc3tV9ohSAgRG/view?usp=sharing\\n- ZH: https://drive.google.com/file/d/1WeyWLWlI26PB_Sb-LD2L6XGWDcghipbG/view?usp=sharing\\n\\n特記事項（商用利用）:\\n1. Booth訊息詢問必須\\n2. クレジット表記必須\\n\\n禁止事項:\\n- 第三者への配布（無料/有料）\\n- 修正後の再販\\n- 一部使用して他モデルへ転用販売\\n- ファイル送信による他人の委託作業支援\\n- パブリックアップロード\\n- オリジナルファイルを使った改造物の再配布・販売（衣装制作時の一部複製除く / テクスチャ除外）","likes":32219},{"id":15,"itemType":"3D模型","title":"Urban Tech Obsidian","creator":"Siromori","release_date":"2023-03-04","images":["img1.jpg","img2.jpg","img3.jpg","img4.jpg","img5.jpg","img6.jpg","img7.jpg","img8.jpg","img9.jpg","img10.jpg","img11.jpg","img12.jpg","img13.jpg","img14.jpg"],"currency":"JPY","discount":1,"discount_end":null,"variants":[{"id":1,"name":"Full Avatar Package","price":5500,"stock":100,"image":"img5.jpg"},{"id":2,"name":"Miltina用","price":2300,"stock":100,"image":"miltina.jpg"},{"id":3,"name":"Shinano用","price":2300,"stock":100,"image":"shinano.jpg"},{"id":4,"name":"Airi用","price":2300,"stock":100,"image":"airi.jpg"},{"id":5,"name":"Manuka用","price":2300,"stock":100,"image":"manuka.jpg"},{"id":6,"name":"Moe用","price":2300,"stock":100,"image":"moe.jpg"},{"id":7,"name":"Sio用","price":2300,"stock":100,"image":"sio.jpg"},{"id":8,"name":"Mizuki用","price":2300,"stock":100,"image":"mizuki.jpg"},{"id":9,"name":"Lime & Chiffon用","price":2300,"stock":100,"image":"lime.jpg"},{"id":10,"name":"Kikyo用","price":2300,"stock":100,"image":"kikyo.jpg"},{"id":11,"name":"Selestia用","price":2300,"stock":100,"image":"slestia.jpg"},{"id":12,"name":"Shinra用","price":2300,"stock":100,"image":"shinra.jpg"},{"id":13,"name":"Uzuki用","price":2300,"stock":100,"image":"uzuki.jpg"},{"id":14,"name":"Maya用","price":2300,"stock":100,"image":"maya.jpg"},{"id":15,"name":"Karin用","price":2300,"stock":100,"image":"karin.jpg"},{"id":16,"name":"Yugi & Miyo","price":2300,"stock":100,"image":"yugimiyo.jpg"},{"id":17,"name":"Rindo用","price":2300,"stock":100,"image":"rindo.jpg"},{"id":18,"name":"Mamehinata用","price":2300,"stock":100,"image":"mamehinata.jpg"},{"id":19,"name":"Grus用","price":2300,"stock":100,"image":"grus.jpg"},{"id":20,"name":"TubeRose用","price":2300,"stock":100,"image":"tuberose.jpg"},{"id":21,"name":"Ukon 2nd用","price":2300,"stock":100,"image":"ukon2nd.jpg"}],"description":"Urban Tech Obsidianはクラシックなスタイルに未来志向的な感じを加えた衣装です。\\n\\n本衣装はModular Avatar、あるいは黒鳥ケモノ工房さんのAvatarTools(v2.2.2 BETA以上)を使って衣装をアバターに着せることを前提に作られています。\\n\\n同梱ファイル:\\n衣装FBXファイル、ColorTexutres、PSD(Photoshop Files)、Materials、Prefab\\n\\n以下の導入手順に従わない場合や、他のアバターに導入する際に発生する問題についてのお問い合わせは受け付けておりません！\\n導入中に問題が発生した場合は、以下の導入手順とアバターの最小必要バージョンも必ずご確認ください！\\nWe do not accept inquiries about problems that occur when not following the installation instructions below or when installing to other avatars!\\nIf you experience problems during installation, please be sure to also check the installation instructions below and the minimum required version of your avatar!\\n아래의 도입절차를 따르지 않거나, 다른 아바타에 도입하는 중 발생하는 문제에 대한 문의는 받지 않습니다!\\n도입 도중 문제가 발생 시, 아래의 도입절차와 아바타의 최소 요구 버전도 꼭 확인하시기 바랍니다!\\n\\n対応アバター(Supported Avatars)\\n-「桔梗」 by ポンデロニウム研究所 (v1.03以上)\\nhttps://ponderogen.booth.pm/items/3681787\\n\\n-「セレスティア」 by JINGO CHANNEL (v1.02以上)\\nhttps://jingo1016.booth.pm/items/4035411\\n\\n-「舞夜」Maya by キュビクローゼット (v1.02.2以上)\\nhttps://kyubihome.booth.pm/items/3390957\\n\\n-「カリン」Karin by こまど (v1.11以上)\\nhttps://komado.booth.pm/items/3470989\\n\\n-「ユギ」「ミヨ」YUGI & MIYO by SAKI# (v1.03以上)\\nhttps://as025886.booth.pm/items/4358508\\n\\n-「竜胆」Rindo by JINGO CHANNEL (v1.06以上)\\nhttps://jingo1016.booth.pm/items/3443188\\n\\n-「まめひなた」Mamehinata by かめ山 kameyama (v1.30以上)\\nhttps://mukumi.booth.pm/items/4340548\\n\\n-「GRUS」by くじ (v1.15以上)\\nhttps://kujishift.booth.pm/items/3190100\\n\\n-「TubeRose」by みなもとしゅん (v1.06以上)\\nhttps://minamotosyun.booth.pm/items/4193460\\n\\n-「卯月」Uzuki by みなもとしゅん (v1.00以上)\\nhttps://minamotosyun.booth.pm/items/4193460\\n\\n-「森羅」Shinra by mio3io(v1.16以上)\\nhttps://mio3works.booth.pm/items/4707634\\n\\n-「萌」Moe by キュビクローゼット (v1.01以上, 2023.04.14)\\nhttps://kyubihome.booth.pm/items/4667400\\n別のポストですが、同じ商品です:\\nhttps://siromori.booth.pm/items/4692790\\n\\n-「ライム」/「シフォン」Lime / Chiffon by こまど (v1.00以上)\\nhttps://komado.booth.pm/items/4876459\\nhttps://komado.booth.pm/items/5354471\\n\\n-「マヌカ」Manuka by JINGO CHANNEL (v1.00以上)\\nhttps://jingo1016.booth.pm/items/5058077\\n\\n- 「右近弐式(Ukon second type)」by キツネツキ(v1.12以上)\\nhttps://kitsune-tsuki.booth.pm/items/4839004\\n\\n- 「瑞希(Mizuki)」by IKUSIA(v1.09以上)\\nhttps://paryi.booth.pm/items/5132797\\n\\n- 「しお(Sio)」by Chocolate rice\\nhttps://chocolaterice.booth.pm/items/5650156\\n\\n-「しなの」Shinano by ポンデロニウム研究所\\nhttps://ponderogen.booth.pm/items/6106863\\n\\n-「愛莉」Airi by キュビクローゼット(v1.01以上)\\nhttps://kyubihome.booth.pm/items/6082686\\n\\n-「ミルティナ」Miltina by DOLOS(v1.01以上)\\nhttps://dolosart.booth.pm/items/6538026\\n\\n導入手続き (How to Apply)\\n〇必要アセット\\n\\nこのモデルの導入を成功させるために、次のアセットを先に準備してください。 このアセットはこちらの商品に同梱されていません。\\n\\n- LilToon Shader\\nhttps://lilxyzw.booth.pm/items/3087170\\n\\n以下のツールのいずれかを選択してください。\\n\\n- AvatarTools by 黒鳥ケモノ工房(v2.2.2 BETA以上)\\nhttps://booth.pm/ja/items/1564788\\n\\nor\\n\\n- Modular Avatar\\nhttps://modular-avatar.nadena.dev/\\n\\n\\n〇導入手続き\\nVRCSDK旧バージョンを使用するプロジェクトでは、衣装を着せたアバタープリファブの手の動きなどが正常に作動しないことがあります。\\nVRChat公式チームでサポートを中断したVRCSDKを使用せず、VCCを使用してください。\\n\\n上記のニーズアセットを最初にUnityプロジェクトにインポートしてから、ここからダウンロードしたUnityパッケージをインポートしてください。\\nこの商品の場合、各アバターに対応した3D衣装モデルのUnityPackageと、共通で使用するTextureが含まれたUnityPackageに分かれています。 目的のアバターのパッケージとテクスチャパッケージの両方をユニティプロジェクトにインポートしてください。\\n\\nアバターにこの服をあらかじめ置いておいたPrefabがUnityパッケージに基本的に含まれています。\\nこの服だけを着て使用することが目的であれば、そのPrefabを使用するだけです。\\n自分で服を着たい場合は、服だけが存在するPrefabと服を着るアバターをSceneに取り出してください。\\nAvatarToolsのAvatarAssemblerを使用してアバターに服を着てください。使用方法はAvatarToolsのリンクを参考にしてください。\\nModular Avatarを使用する場合は、Modular Avatarのリンクの文書を確認してください。\\n\\n※ 特定の状況で服から肉が突出する場合があるため、アバター素体のShrink_Hipシェイプキーを使用します。\\n\\n利用規約 (Terms of Use)\\n本商品はVN3Licenseを使用しています。\\n下記のLicenseを確認してください。\\n\\nThis product uses VN3 license.\\nPlease check the license below.\\n\\n본 상품은 VN3 License 를 사용하고 있습니다.\\n아래의 License를 확인해 주세요.\\n\\n本产品使用了VN3 License。\\n请确认下面的License。\\n\\n\\nJA:\\nhttps://drive.google.com/file/d/1YXJ2j6JKr8QkddfhqmKmGsXTWtqKaTiS/view?usp=sharing\\n\\nEN:\\nhttps://drive.google.com/file/d/12EWk0CsO6N5Kx01D-Dt1S8lGzdeEzwex/view?usp=sharing\\n\\nKO:\\nhttps://drive.google.com/file/d/1xIo-LFlqONkS92gyq8NKl-1z3Iq5S-m9/view?usp=sharing\\n\\nZH:\\nhttps://drive.google.com/file/d/1VrH-vc4CutU-e7eY_IU4IRuCV7mgfulj/view?usp=sharing\\n\\n連絡 (Contact)\\nお問い合わせ、ご質問等ございましたら、こちらへご連絡ください。\\nIf you have any questions, please contact me here.\\n\\nTwitter: https://twitter.com/SiromoriVR\\n\\nCredits\\n〇PV Credits\\n\\n●ASGARD_ON\\nhttps://twitter.com/ASGARD0224_ON\\n\\n\\n〇Picture Model Credits\\n\\n●HopeSkyD\\nhttps://twitter.com/GGamang_7\\n\\n●BLASI\\nhttps://twitter.com/SkadiBLS\\n\\n●BurnWithHeat\\nhttps://twitter.com/burnwithheat\\n\\n●FLIP\\nhttps://twitter.com/Mini_Flip_\\n\\n●Levin\\nhttps://twitter.com/bunny_64479\\n\\n●MOOD\\nhttps://twitter.com/MOOD_VRC\\n\\n●ROUSI\\nhttps://twitter.com/ROUSIVRC1\\n\\n●Sch9\\nhttps://twitter.com/kuromori_sachi\\n\\n●SKET\\nhttps://twitter.com/siroMOSE\\n\\n●skn\\nhttps://twitter.com/skn_vrc\\n\\n●wdms\\nhttps://twitter.com/wdms_vr\\n\\n●たっくん\\nhttps://twitter.com/KARlKARlChiken\\n\\n●ちべたろー\\nhttps://twitter.com/rururu_himaman\\n\\n●べましゃま\\nhttps://twitter.com/e_vemant\\n\\n●ルチン\\nhttps://twitter.com/Ruu_astro\\n\\n●春羽しか\\nhttps://twitter.com/sika_VRChat\\n\\n●UncleB\\nhttps://twitter.com/UncleB90009062\\n\\n\\n皆さん、本当にありがとうございます。","likes":20113},{"id":16,"itemType":"3D模型","title":"狛乃専用衣装「ClothesC」","creator":"ひゅうがなつみかん","release_date":"2024-03-15","images":["img1.jpg","img2.jpg","img3.jpg"],"currency":"JPY","discount":1,"discount_end":null,"variants":[{"id":1,"name":"Digital","price":2000,"stock":100,"image":null}],"description":"「ClothesC」はVRChatでの使用を想定した3Dモデルです\\nVRM、ゲーム、動画配信等にもご使用いただけます\\nアバターは付属していません\\n\\n\\n対応アバター：狛乃-Komano-\\nhttps://hyuuganatu.booth.pm/items/5260363\\n\\n▼モデル情報▼\\n\\n・Humanoid対応\\n・liltoon使用\\n・PhysicsBone設定済\\n\\n---------------------------------------\\n\\n●仕様\\n\\n　・ポリゴン数：67,402\\n　・メッシュ数：17\\n　・マテリアル数：6\\n　・テクスチャ数：6\\n\\n---------------------------------------\\n\\n●内容物\\n\\n　・Unity package\\n　・FBX\\n　・PNGテクスチャ\\n　・改変用PSD\\n\\n▼使用方法▼\\nパッケージに付属のAlphaMaskを狛乃のKaradaマテリアルに適用してご使用ください\\n\\n手を下したときに腰にある布がめくれる場合はSettingsのYour Avatar内にあるAvatar Self InteractをOffにしてください\\n\\nフードはParentConstraintとC_Jacketオブジェクトのシェイプキーを併用し実装しています\\nフードを被りたい場合は、C_Jacketのシェイプキーを0にし、ParentConstraintをオフにしてください\\n\\n狛乃の素体プレハブにそのまま着せると、ピアスと指輪が干渉します\\nそれぞれオフにして着せ替えてください\\n（ピアスはBodyにオフにするシェイプキーがあります）\\n\\n▼利用規約▼\\n\\n本アバターの規約は、VN3 Licenseを使用しています( https://www.vn3.org/ )\\n\\n利用規約（JP）\\n( https://drive.google.com/file/d/10AAzt1fpbxstNF4enR3tSMeJl4TdlEXI/view?usp=sharing )\\nTerms of use（EN）\\n( https://drive.google.com/file/d/1wtjrFXryMcQfiAI4ZQWoBDi1pngpGJJY/view?usp=sharing )\\n\\n\\n・本モデルをどのような形であっても使用した時点でこの規約に同意したものとします\\n・利用規約は最新のものが適用され、また予告なく内容を変更する可能性があります\\n・モデル使用によりいかなる損害、トラブルが発生したとしても作者は責任を負いません\\n・多言語版との違いが生じた場合、日本語規約が優先されます\\n・Redistribution of the data is strictly prohibited under any circumstances.\\n\\n▼更新履歴▼\\n2024/03/16\\n　販売開始\\n\\n\\n\\n\\n\\n作者：ひゅうがなつ （https://twitter.com/hyuuuuganatu)","likes":2431},{"id":17,"itemType":"3D模型","title":"【オリジナル3Dモデル】Edel Kreis -エーデルクライス-【楽器型魔法武器】VRChat想定 パーティクルやギミック付き バイオリン　パイルバンカー　魔法武器","creator":"TRISTA","release_date":"2025-01-19","images":["img1.jpg","img2.jpg","img3.jpg","img4.jpg","img5.jpg","img6.jpg","img7.jpg","img8.jpg","img9.jpg"],"currency":"JPY","discount":1,"discount_end":null,"variants":[{"id":1,"name":"【通常版】","price":2000,"stock":100,"image":null},{"id":1,"name":"【支援版】中身は同じです。","price":2200,"stock":100,"image":null}],"description":"「Edel Kreis」\\nバイオリンに擬態した魔法武器。\\n音の攻撃が得意だが、曲を演奏するのは難しい。\\n\\n【アイテム説明】\\n円を展開してから魔法が発動する。\\n闇・光・炎属性と斬撃属性。\\n\\n--------------------------------------------------------\\n\\n--------------------------------------------------------\\n\\n◆ギミック\\n・とりだす、しまう\\n・スピン(二方向)\\n・弓をバイオリンにのせる\\n・バイオリンを構える\\n・斬撃(二方向)\\n・パイルバンカー+遠距離魔法\\n・魔法・クレイス\\n・魔法・音範囲攻撃\\n・魔法・炎球\\n・魔法・音のシールド\\n\\n・ExMenuにて音、パーティクル、武器のオフ、パーティクルの軽量化(攻撃判定のオンオフ)\\n\\n操作方法は同梱されているマニュアルを参照してください。\\n\\nExpression Menu\\n・武器の非表示・表示\\n・音オフ\\n・パーティクルオフ\\n・lOWParticleパーティクル軽減\\n・デスクトップ用debugメニュー　←おまけです。\\n　(基本的にDUBUGでギミック動かすと壊れます。おまけのため非サポート)\\n\\n\\nパーティクルには攻撃判定が入っており、特定のワールドで遊ぶことが可能です。\\n\\n導入マニュアルつきです。\\n・MAのバージョンは必ず1.19.13以上でお願いします。動作確認済み(1.9.13、1.10.11)\\n・Please make sure that the version of MA is at least 1.19.13. Confirmed to work (1.19.13, 1.10.11).\\n\\n◆右利きのみ対応です。\\nVRChatのアバターに組み込むことを想定として作られた武器になります。liltoonとModulerAvatorが必要となります\\n導入方法はModulerAvatorを使用しており、同梱の画像付きマニュアルに従って簡単に導入することができます。\\n位置調整をするだけでアップロードが可能です。\\n\\n◆liltoon\\nhttps://booth.pm/ja/items/3087170\\n\\n◆ModulerAvator\\nhttps://modular-avatar.nadena.dev/ja/docs/intro/\\nこれら以外の導入に関してはサポート致しかねます。\\n\\n◆マテリアル\\n・カラーバリエーション3\\n\\nポリゴン数\\n△46391\\n\\nパラメーター数:22\\n\\n※スケールを変更機能はありますが、極端な調整をしすぎると仕様上一部のギミックが動きにくかったり、パーティクルがズレる可能性があります。\\nおまけとして、ある程度パーツ分けはできるようにはしてますが、テクスチャには影のベイクがされており、こちら共にサポート対象外となります。\\n\\n-------------------------------------------------------------\\n\\nＳｐｅｃｉａｌＴｈａｎｋｓ\\n\\nAki_cha様\\n\\n-------------------------------------------------------------\\n動画等でお借りした3Dモデル\\n\\n\\nオリジナル3Dモデル「桔梗」\\n( https://booth.pm/ja/items/3681787 )\\n\\n【6アバター対応】シスターメイド【VRChat】\\n( https://booth.pm/ja/items/5708467 )\\n\\n【オリジナル3Dモデル】 Sio / しお / ver.1.02\\n( https://booth.pm/ja/items/5650156 )\\n\\n【4way Smooth Shift Hair】\\n( https://booth.pm/ja/items/62874316 )\\n\\nショコラ -Chocolat-【オリジナル3Dモデル】\\n( https://komado.booth.pm/items/6405390 )\\n\\n【Sio/しお専用 】DOLL Makeup & Eyes texture\\n( https://booth.pm/ja/items/5871400 )\\n------------------------------------------------------------\\n\\n------------------------------------------------------------\\n利用規約\\n・本モデルデータの著作権は、制作者Tristaに帰属します。\\n・本データをいかなる形においても利用した時点で、本利用規約に同意したものとします。\\n・利用規約の内容は変更する場合があり、最新のものが適用されます。\\n・ユーザーは、方法を問わず本データの購入、ギフト購入とギフト受け取り、ダウンロード、インストール等の利用の開始時点で、本利用規約に同意したものとみなします。\\n・改変・改造可\\n・ゲーム・アニメーション・動画への利用可\\n・個人での商用利用可\\n・R-18・R-18Gへの利用可\\n\\n禁止事項\\n・データを再配布・再利用可能な状態で公開する事（改変の有無を問わず）\\n・他者を誹謗中傷する表現、政治、宗教活動\\n・本データの制作者を偽る行為\\n・購入者以外の者の利用\\n・法人の場合はお問い合わせください。\\n禁止事項\\n・データを再配布・再利用可能な状態で公開する事（改変の有無を問わず）\\n・他者を誹謗中傷する表現、政治、宗教活動\\n・本データの制作者を偽る行為\\n・購入者以外の者の利用\\n・法人の場合はお問い合わせください。\\n当ショップの 3D モデル利用規約は以下の通りです。\\n\\n再配布・転売禁止: 当ショップで購入した3Dモデルデータの\\n再配布、転売は一切禁止です。\\n他のプラットフォームでの販売\\nオークション出品なども含みます。\\nモデルデータの著作権はTrista.に帰属します。\\n無断での複製、二次販売、およびGumroad等での販売は禁止です。\\n\\n法的措置: 規約違反には、法的措置（弁護士対応を含む）をとる場合があります。\\n\\n免責\\nバージョンUnity2019.4.34f1にて作成し、2022.3.6f1では軽い動作確認を行い作っています。\\n利用規約免責などはすべて日本語が優先されます。\\n本モデル・データの利用に伴って発生したいかなる損害についても、制作者はその責を負いません。\\nおまけ品は利益を入れていないので動作を保証できません。\\nQUEST非対応です。\\nFPSが低いとギミックがうまく動きません。\\nサイズ変更などでパーティクルにズレが生じることがあります。\\n他商品や武器ギミックと競合する可能性がございます。\\n両手持ちは仕様上手からズレることがあります。\\n他のギミックやアイトラ(もしくはフェイシャルVRCFT等)と触覚スーツと心拍数等同時に)とあわせると競合したりパラメーターオーバーする可能性があります。\\n右手推奨の武器です。左手持ちには対応しておりません。\\nメニューから連続でギミックを無理やり連発するとバグる可能性があります。\\n刺さるパーティクルは角度が固定されたりうまく壁に刺さらないことがあります。\\nVRC CONSTRAINT不使用、非対応です。\\n今後のVRCHAT、UNITY、その他プラットフォームのアップデートにより本商品のギミックが正常に使用できなくなる場合がございます。\\n無理に連射すると点滅して迷惑になる可能性があるためご注意ください。これによるいかなる責任も負いません。\\n\\n正常動作確認時は商品公開当時(2025年01月19日)のものとなります。\\n\\nSupport is available in Japan only.","likes":4025},{"id":18,"itemType":"3D模型","title":"Lapwing","creator":"久","release_date":"2023-08-14","images":["img1.jpg","img2.jpg","img3.jpg","img4.jpg","img5.jpg","img6.jpg","img7.jpg"],"currency":"JPY","discount":1,"discount_end":null,"variants":[{"id":1,"name":"Digital","price":6000,"stock":100,"image":null}],"description":"PC版VRChatでのアバター使用を想定した3Dモデルです\\n\\n必ず以下の注意事項を確認し、利用規約に同意した上でご利用ください。\\n\\nダウンロード商品の注文確定後のキャンセル・返金はできません。\\n\\n・Quest版VRChat非対応\\n・VRM非対応\\n・肘を曲げた際に袖のスリット部分のメッシュが一部腕を貫通することがあります\\n\\n試着ワールド\\nhttps://vrchat.com/home/launch?worldId=wrld_a25852e4-be0c-44ef-9af8-fbb7e31a5e99\\n\\nAn English translation of the Terms of Use is below.\\nPlease be sure to agree to the Terms of Use before using this.\\n\\n内容\\n- Lapwing.unitypackage\\nアバター本体\\n\\n- lilToon_1.4.0.unitypackage\\nシェーダー\\n\\n- LapwingData.zip\\n改変用モデルデータ(.fbx)\\nテクスチャ、UVレイアウト(.psd, .clip, .png)\\n※psd形式はCLIP STUDIO PROで書き出しており、一部互換性がない可能性があります\\n\\n仕様\\nAvatar3.0 設定済み\\nCygnet, Grusとの互換性はありません。すみません。\\n\\nデフォルト（オーバーオール、上着を着た状態）\\n- パフォーマンスランク: Medium\\n- PhysBone Component: 14\\n- オブジェクト: 8 (頭、手足、髪、上着、オーバーオール、靴、靴下、鞄)\\n- ポリゴン: 67723\\n- マテリアル: 11\\n\\n素体（下着のみの状態）\\n- パフォーマンスランク: Medium\\n- PhysBone Component: 3\\n- オブジェクト: 5 (頭、体、髪、下着、靴下)\\n- ポリゴン: 52106\\n- マテリアル: 5\\n\\n共通\\n- 顔ブレンドシェイプ: viseme、ARKit、MMDx24、その他表情用x34、調整用x17\\n\\n\\n動作に必要なもの\\n- VRChatSDK3\\n( https://vrchat.com/home/download )\\n- lilToon 1.4.0\\n（同梱しています）\\n\\nアバターの導入手順\\nhttps://docs.google.com/document/d/12svbgMzKmQ8-lc-3pzuXJ8pfMz1-wMOqcc6fIHpRmFk/edit?usp=sharing\\n\\n1. VCCで新規プロジェクトを作成\\n2. lilToon_1.4.0.unitypackage をインポート\\n3. Lapwing.unityPackage をインポート\\n4. Assets/Lapwing/Lapwing.unity を開く\\n5. VRChatにアップロード\\n\\n\\n利用規約（全文）\\nhttps://docs.google.com/document/d/1c4E8sSfMvjG338fPskDV8BGQUacXhWLFLF8DKnSE_r4/edit?usp=sharing\\n\\n利用規約(要約)\\nLapwing(以下、本アバター)の利用規約の要約です。全文との間に矛盾がある場合は全文が優先されます。\\n\\nあなたは自由に:\\n- 本アバターをあなたのアバターとして利用できます。\\n- 本アバターを改変できます。\\n- 本アバターを動画や放送などで商用利用できます。その他の方法で利用したい場合はお問い合わせください。\\n\\nあなたは次の規約を守る必要があります:\\n‐ 本アバターに含まれるデータを販売または再配布しない。\\n‐ 本アバターに含まれるデータを編集したものを販売または再配布しない。\\n- VRChat の Public Avatar のような第三者が利用できる状態にしない。\\n- 法人として利用しない。もし法人として利用したい場合はお問い合わせください。\\n- 犯罪、公序良俗に反する行為や目的に利用しない。\\n- 成人向けコンテンツへ利用しない。\\n\\n注意点:\\n- 本アバターは現状有姿で提供されます。将来的な VRChat のアップデートによる不具合に関し kuji は責任を負いません。\\n\\nTerms Of Use (Translation)\\nThis translations are provided as a convenience, and are not meant to change the content of our terms.\\nThe Japanese version will control and should be your reference in case of conflict between a translation and the Japanese version.\\nThis terms shall be governed by and construed in accordance with the laws of Japan.\\n\\nYou are free to:\\n- Use this avatar as your avatar.\\n- Edit this avatar.\\n- Use this avatar commercially in your videos or live shows on youtube, twitch, etc.\\n\\nUnder the following terms:\\n- You do NOT re-sell or re-distribute any data contained in this avatar.\\n- You do NOT sell or distribute edited versions of the data contained in this avatar.\\n- You do NOT upload as \\"Public Avatar\\" in VRChat, or any other similar services.\\n- You do NOT use this avatar for corporate use.\\n- You do NOT use this avatar for criminal purposes.\\n- You do NOT use this avatar for works which include obscene, grotesque, and/or violent content.\\n\\nNOTICE:\\n- This avatar presented as is. Kuji is not responsible for any malfunctions that may result from future updates to VRChat.\\n\\n\\n本アバターのための衣装、テクスチャの販売について\\n本アバターのメッシュを利用せずに、本アバターの規格に準拠した新たな衣装データ等やテクスチャデータ等を作成し、販売することを許可します\\n\\n本アバターに含まれるメッシュを転用した制作物の配布や販売は不許可です\\nただし、本アバターに組み合わせて利用することを目的とした制作物に限り、下記の情報を転用したものを配布または販売することを許可します。\\n\\n許可\\n- スキンウェイト\\n- ボーン\\n- UVレイアウト\\n- マテリアル設定\\n- テクスチャ\\n\\n明記されていないことについてはboothのメッセージ機能より本アバター制作者にお問い合わせください。\\n\\n更新履歴\\n2023-8-14 1.0.0\\n- 初版\\n2023-8-16 1.0.1\\n- TPose素体のfbxとprefabの修正\\n2023-8-17 1.0.2\\n- 素体の下着メッシュに上下表示切り替えブレンドシェイプ追加\\n- LapwingClothes.prefabの脚physboneのGrab設定の修正\\n2023-9-4 1.0.3\\n- TPose素体のhumanoidリグの親指ボーン参照を修正\\n- TPose素体のメッシュごとの明るさが異なる問題（Anchor Override設定漏れ）の修正\\n- 前髪の長さを調整するブレンドシェイプが抜けていた問題の修正\\n2023-9-16 1.0.4\\n- 素体のかかとに衣装貫通対策ブレンドシェイプを追加\\n- 素体腰部分のメッシュ追加\\n- 全マテリアルにCustom Safety Fallbackを設定\\n2023-9-17 1.0.5\\n- 素体の靴下が消えていた問題の修正\\n- LapwingBody.fbxのhumanoidリグの肩が上がっていた問題の修正\\n- ハイヒール素体prefabの追加\\n- オーバーオールのみの衣装prefabの追加\\n2023-9-17 1.0.6\\n- ハイヒール用素体のToeボーンのバインドを削除\\n2023-9-19 1.0.7\\n- TPose素体の腕の貫通対策ブレンドシェイプを修正\\n- TPose素体の腕の頂点位置の左右対称が崩れていた問題の修正\\n2024-3-12 1.0.8\\n- ポニーテールを消すブレンドシェイプとリボンを消すブレンドシェイプを同時に有効にするとリボンを消せない問題の修正\\n2024-6-30 1.0.9\\n- unity20223.22f1環境でパッケージを作成\\n2024-7-01 1.0.10\\n- LapwingHair.prefabのメッシュ参照先がmissingになっていた問題の修正\\n\\nお問い合わせ\\n本アバターに関しまして、ご不明な点やご質問、不具合報告などありましたらBoothのメッセージでご連絡ください。\\n","likes":11572},{"id":19,"itemType":"3D模型","title":"Lapwing - Face Tracking Add-on","creator":"hashedits","release_date":"2025-04-03","images":["img1.jpg","img2.jpg","img3.jpg","img4.jpg","img5.jpg","img6.jpg","img7.jpg","img8.jpg","img9.jpg","img10.jpg","img11.jpg"],"currency":"JPY","discount":1,"discount_end":null,"variants":[{"id":1,"name":"Digital","price":4500,"stock":100,"image":null}],"description":"A face tracking Add-on for Lapwing (desctiption in Japanese, English and French bellow)\\n\\nDemo videos:\\nhttps://youtu.be/oOIztBXox60\\nhttps://youtube.com/shorts/DWfGe7tHT5A\\n\\nFeel free to share your creations with #HashFT on social media!\\nJP\\nこれはKujiさんのアバター「Lapwing」に対応したアドオンで、顔トラデバイス用にモデルにフェイストラッキングを追加して、アバターの表情をより豊かにすることができます。\\n頬を膨らませたり、舌を出したり、自分の視線がフレンドに見えるようにすることも出来ます！\\nさらにFT Effectsを有効にしていると、特定の顔をつくることで専用の表現が発動します！\\n\\n\\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\\n(！注意！)\\nこのアドオンはVRCFT 5.0以降で動作するように作られています。\\n\\"Unified Expressions\\"と呼ばれる顔トラ用のシェイプキーを使用します。\\n\\nKujiさんのアバター「Lapwing」が必要です、こちらからご購入頂けます:https://kujishift.booth.pm/items/4993931\\n\\nこのアドオンはパッケージのバージョン\\"Lapwing_1.0.10.zip\\"で動作されることを想定されており、\\nそちらに付属される正規のモデルでのみ正常に動作します。\\n\\n\\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\\n(導入説明)\\nアバターがProject内に存在することを証明するため、UnityウィンドウのツールバーからTools/Hash/Lapwing Patcherを開き、パッチを当ててください。\\n\\nこれが完了すれば、\\"AssetsHash's_Things/Lapwing/prefab\\"に顔トラ対応されたアバターのプレハブがそこにあるはずです。\\n\\nそちらをシーンに配置してアバターのセットアップは完了です！顔トラを楽しんでください！！\\n\\n\\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\\n(参考)\\nHMDの顔トラセットアップの手順:\\nhttps://docs.vrcft.io/docs/intro/getting-started\\n\\n顔トラセットアップでご質問があればDiscord鯖VRCTFまでお越しください:\\nhttps://discord.com/invite/vrcft\\n\\nUnityにてアバターのセットアップが上手くいかない場合は、私のBoothのDMまでご連絡ください。\\n\\nEN\\nThis is an add-on for Kuji's Lapwing that will add face tracking to the model for more expresive facial expressions with compatible hardware.\\nPuff your cheeks, stick your tongue out or let your friends know where you're looking!\\nSome specific emotes can be triggered by making special facial expressions if you have the FT Effects toggle On!\\n\\nThe addon is made to work with VRCFT 5.0 or newer.\\nIt uses Unified Expressions blendshapes\\n\\n\\nLapwing by Kuji is required and avaliable at:\\nhttps://kujishift.booth.pm/items/4993931\\n\\nThis add-on will work with the package Lapwing_1.0.10.zip\\nand the original model that comes with it.\\n\\nOnce bought , import the provided UnityPackage and in order to to prove that you have a copy of the avatar.\\nplease open the window located at the top of your unity window: Tools/Hash/Lapwing Patcher and hit patch.\\n\\n\\nOnce this is done, you should find a prefab in\\n\\nAssetsHash's_Things/Lapwing/prefab\\n\\nImport it into your scene, and enjoy!\\n\\n\\nHere's how to set-up your headset for face tracking:\\nhttps://docs.vrcft.io/docs/intro/getting-started\\n\\nIf you have any further question related to your set up you are welcome to join the VRCFT discord server:\\nhttps://discord.com/invite/vrcft\\n\\nif you have any trouble setting up the avatar in Unity, I can be reached trough my DMs on Booth\\n\\nFR\\nCeci est un ajout pour Lapwing réalisé par Kuji qui ajoutera du face tracking pour des expressions faciales plus vivantes. Gonfle tes joues, tire ta langue ou fais savoir à tes amis où tu regardes !\\n\\nCet add-on est conçu pour fonctionner avec VRCFT 5.0 ou une version plus récente.\\nLe package utilises le standard Unified Expressions\\n\\nLapwing est requis et disponible sur :\\nhttps://kujishift.booth.pm/items/4993931\\n\\n\\nCet ajout fonctionnera avec le package \\"Lapwing_1.0.10.zip\\" et le modèle qui vient avec ce dernier.\\n\\nUne fois acheté, importez le UnityPackage qui vous est fourni, et pour être sûr que vous avez une copie de l'avatar, merci d'ouvrir la fenetre de patch ce trouvant dans\\nTools/Hash/Lapwing Patcher\\n\\net de cliquer sur le bouton \\"patch\\"\\n\\nUne fois que c'est fait, vous pourrez trouver un prefab dans\\n\\nAssetsHash's_Things/Lapwing/prefab\\n\\nImportez-le dans votre scène et voilà !\\n\\nVoici comment vous pouvez préparer votre casque pour le face tracking :\\nhttps://docs.vrcft.io/docs/intro/getting-started\\n\\nSi vous avez plus de questions en rapport avec la préparation de votre casque, vous êtes les bienvenus de rejoindre le discord VRCFT :\\nhttps://discord.com/invite/vrcft\\n\\nSi vous avez un problème pour mettre votre avatar en route dans Unity, je peux être contacté via mes messages privés sur Booth.\\n\\nTerms\\nBy buying this product you agree to:\\n\\nNot redistribute its content\\nNot claim the content as your own creation\\nCredit me when the add-on is used for streaming purposes\\nUnderstand that this add-on does not contain the avatar or any of the accompanying data.\\nUnderstand that refunds/compensation will not be issued.\\n\\nCredits\\nSpecial thanks to:\\n\\nChoki & Pawlygon - for their template\\nCocoa - for his japanese translations\\nSisong - for his patching software\\n\\nthe VRCFT community - for being awsome\\n","likes":2177},{"id":20,"itemType":"3D模型","title":"キプフェル Kipfel / オリジナル3Dモデル","creator":"もち山金魚","release_date":"2024-06-11","images":["img1.jpg","img2.jpg","img3.jpg","img4.jpg","img5.jpg","img6.jpg","img7.jpg","img8.jpg","img9.jpg"],"currency":"JPY","discount":1,"discount_end":null,"variants":[{"id":1,"name":"Digital","price":5500,"stock":100,"image":null}],"description":"VRChatでの使用を想定したオリジナル3Dモデルです。\\nUnity2022、Avatars 3.0、PhysBoneに対応。\\nPC版、Mobile版VRChatに両対応。\\n\\nけだるげな猫の女の子です。\\n\\n▼キプフェル対応アイテム▼\\nhttps://booth.pm/ja/items?sort=new&tags%5B%5D=%E3%82%AD%E3%83%97%E3%83%95%E3%82%A7%E3%83%AB\\n\\n▼まめふれんずアバター▼\\nhttps://mochiyama.com/mamefriends\\n\\n▼まめふれんず対応要素と各スケール値▼\\n素体(Body_Base) ... 対応○　Prefabスケール1.12倍\\n後頭部(Hair_Base) ... 非対応×　独自形状\\nその他の対応要素 ... しっぽのボーン名がまめひなたと共通です\\n\\nこのアバターはまめふれんず共通素体を使用しています。\\n「まめふれんず」とは、首から下の素体メッシュを共通規格としたアバターシリーズです。\\n\\n※顔・けも耳・しっぽなど、素体以外のパーツについては互換性を保証していません。各アバター・対応衣装の販売ページをよくご確認のうえでご購入ください。\\n\\n● 内容物 ●\\n・UnityPackage\\n・FBX\\n・Blend(Ver3.4.1)\\n・Texture\\n∟PNG\\n∟PSD\\n∟UV\\n∟UV Guide\\n・キプフェル説明書\\n\\n● モデル情報 ●\\n総ポリゴン数：69,961\\nマテリアル数：9\\nlilToon Shader 使用\\n\\n・Performance Rank：Very Poor\\n・LipSync対応\\n・PhysBone設定済\\n・設定済み表情：15種(おまけ25種)\\n・表情用Blend Shape：304種\\n・MMD対応Blend Shape：45種\\n・素体用Blend Shape：50種\\n・Idle,Sit,Crouch,Prone,Fallポーズ設定済\\n・AFKアニメーション設定済\\n・Contactによるなでられギミック付き\\n・VRChat内での衣装切替メニュー付き\\n\\n● アバターの説明書 ●\\nキプフェル説明書(JP)\\nhttps://mochiyama.com/kipfel_manual_jp\\n\\nKipfel instructions(EN)\\nhttps://mochiyama.com/kipfel_manual_en\\n\\n3D 모델 Kipfel 설명서(KO)\\nhttps://mochiyama.com/kipfel_manual_ko\\n\\n3D模型 Kipfel 说明书(zhCN)\\nhttps://mochiyama.com/kipfel_manual_zhCN\\nアバターの仕様、アップロード方法、改変のポイント等については説明書をご確認ください。\\n\\nVRM、PMX、VRC内MMDワールド等、対応外の形式への変換についてはサポートできません。\\nお問い合わせをいただいてもお返事できない場合がありますが、ご了承ください。\\n\\n● 利用規約とガイドライン ●\\n\\nご購入前に利用規約とガイドラインの両方を必ずご確認ください。\\n本利用規約はVN3ライセンスを改変して作成されています。\\n\\n3Dアバター利用規約(jp)\\nhttps://mochiyama.com/license_jp\\n\\nLicense Agreement(en)\\nhttps://mochiyama.com/license_en\\n\\n3D 아바타 이용규약(ko)\\nhttps://mochiyama.com/license_ko\\n\\n3D虚拟形象用户协议(zh-CN)\\nhttps://mochiyama.com/license_zhCN\\n\\n-------------------------\\n\\nもち山金魚キャラクター使用ガイドライン(jp)\\nhttps://mochiyama.com/guideline_jp\\n\\nMOCHIYAMA KINGYO Character Usage Guide lines(en)\\nhttps://mochiyama.com/guideline_en\\n\\nMOCHIYAMA KINGYO 캐릭터 사용 가이드라인(ko)\\nhttps://mochiyama.com/guideline_ko\\n\\nMOCHIYAMA KINGYO 角色使用指南(zh-CN)\\nhttps://mochiyama.com/guideline_zhCN\\n\\n-------------------------\\n\\nこの商品は、もち山金魚BOOTH(https://mukumi.booth.pm/)でのみ販売されています。\\n転売や不正共有を発見した場合は以下のフォームよりお知らせ下さい。\\nhttps://forms.gle/xumwoprY7M8xRSvn8\\n\\n-------------------------\\n\\n● 配信活動でのご使用について ●\\n企業に所属していない個人のお客様の場合は、アバターをライブ配信や動画コンテンツにご使用できます。\\n利用規約とガイドラインを遵守の上でご利用ください。\\n\\n● クレジット ●\\nモデル制作：かめ山\\n\\nAFKアニメーション制作：STUDIO MOCA\\n\\nデバッグ協力：ぎゃざぁ / nekochanfood / まめふれんずアバター制作者のみなさん\\n\\nありがとうございました！🐈🤍\\n\\n更新情報\\n⚠改変済みのプロジェクトへ上書きする場合は、必ずバックアップをとってからご対応いただくようお願いいたします。\\n\\n▮2024.07.12 Ver1.0.0\\n\\n▮2024.07.14 Ver1.0.1\\n・「Kipfel_ActionLayer」更新\\n∟発声しながらAFKに入った際、復帰後にリップシンクが無効になる不具合を修正。\\n\\n・「Kipfel_FXLayer_v1.0.1」「Kipfel_FXLayer_kisekae_v1.0.1」追加\\n∟上記のAFKの不具合対応に関わる修正。\\n\\n・「PBC_Ground_ON(ColliderInactive).anim」更新\\n∟地面コライダーが自動で切り替わる仕組みが有効でなかったため修正。\\n\\n・「Kipfel.fbx」更新\\n∟BlendShape「mouth_yaeba_L(R)」「mouth_tooth」「mouth_tooth_toon」「eye_○○_jito」「eye_○○2」\\n「eye_kyoro」の出入りの動きを改善。\\n\\n▮2024.07.14 Ver1.0.2\\nBodyオブジェクトに残っていた不要なBlendShapeを削除。\\n\\n▮2024.07.16 Ver1.0.3\\n・「Kipfel.fbx」更新\\n∟顔周りの法線を修正。\\n∟BlendShape「mouth_grin2」修正。\\n∟MMD用準拠BlendShapeをリネーム。「ウィンク２右>ｳｨﾝｸ２右」「ウインク>ウィンク」「ウインク右>ウィンク右\\n」「照れ>頬染め」\\n∟目に関する一部のBlendShapeのメインハイライト(blendShape「eye_highlight_main_on」)の位置を微調整。\\n∟口に関する一部のBlendShapeを調整。mouth_mogumogu_left(right)との併用に対応。\\n\\n・「Kipfel.prefab」更新\\n∟「PB_Sleeve.L(R)」のPhysBone設定が左右非対称だったため、同じ値に修正。\\n\\n・アニメーションクリップ「LipSyncON_AnimationOFF」「kipfel_facial_blackeye」更新\\n∟一部の表情とリップシンクの干渉を緩和するため。\\n\\n・「Kipfel_ActionLayer」更新、「Kipfel_FXLayer_v1.0.3」「Kipfel_FXLayer_kisekae_v1.0.3」追加\\n∟Kipfel,prefabでEyeLookの項目を有効にした場合を想定し、推奨の初期設定を追加しました。(デフォルト状態では引き続き無効に設定してあります)(更新後もEyeLookによる自動瞬きには非対応ですのでご注意ください)\\n∟上記の対応に付随してAnimatorを更新。\\n\\n・テクスチャ「kipfel_hair」更新\\n∟しっぽのテクスチャを調整し、UVの切れ目が目立たないように修正しました。\\n\\n▮2024.12.25 Ver1.1.0\\n\\n・Mobile版モデルを追加。\\n\\n・「Kipfel_FXLayer_v1.1.0」追加\\n∟sit時に他人視点で猫耳が消えていた不具合を修正。\\n∟なでられギミック調整。Parameter「Pet」をBoolからFloatに変更。\\n\\n・「Kipfel.prefab」更新\\n∟VRC Constraintに対応。\\n∟半袖シャツの袖を調整。腕をひねったとき袖が貫通しづらくなりました。\\n\\n・「Outfit_alpha」マテリアル更新\\n∟メガネレンズの透明度を高くしました。\\n\\n・AFKアニメーション調整。バッグの貫通を緩和。\\n\\n▮2025.02.26 Ver1.1.1\\n\\n猫耳のアニメーションを微調整。\\n","likes":31194}]`);var VR={JPY:{USD:.007,JPY:1,TWD:.23},USD:{USD:1,JPY:143.01,TWD:32.4}};function su(t,e){const n=cn(ys);var i=0;try{t==n?i=e:i=Math.round(e*VR[t][n])}catch{i=Math.round(e*(1/VR[n][t]))}return i}function ag(){return typeof window<"u"}function Yu(t){return IP(t)?(t.nodeName||"").toLowerCase():"#document"}function Wn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cr(t){var e;return(e=(IP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function IP(t){return ag()?t instanceof Node||t instanceof Wn(t).Node:!1}function Ft(t){return ag()?t instanceof Element||t instanceof Wn(t).Element:!1}function wr(t){return ag()?t instanceof HTMLElement||t instanceof Wn(t).HTMLElement:!1}function I_(t){return!ag()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Wn(t).ShadowRoot}function Df(t){const{overflow:e,overflowX:n,overflowY:i,display:s}=Hi(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(s)}function SH(t){return["table","td","th"].includes(Yu(t))}function og(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function DT(t){const e=PT(),n=Ft(t)?Hi(t):t;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function AH(t){let e=Ra(t);for(;wr(e)&&!ku(e);){if(DT(e))return e;if(og(e))return null;e=Ra(e)}return null}function PT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ku(t){return["html","body","#document"].includes(Yu(t))}function Hi(t){return Wn(t).getComputedStyle(t)}function lg(t){return Ft(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ra(t){if(Yu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||I_(t)&&t.host||Cr(t);return I_(e)?e.host:e}function NP(t){const e=Ra(t);return ku(e)?t.ownerDocument?t.ownerDocument.body:t.body:wr(e)&&Df(e)?e:NP(e)}function tf(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=NP(t),o=s===((i=t.ownerDocument)==null?void 0:i.body),u=Wn(s);if(o){const h=N_(u);return e.concat(u,u.visualViewport||[],Df(s)?s:[],h&&n?tf(h):[])}return e.concat(s,tf(s,[],n))}function N_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function RH(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function Nh(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&I_(n)){let i=e;for(;i;){if(t===i)return!0;i=i.parentNode||i.host}}return!1}function CH(){return/apple/i.test(navigator.vendor)}function D_(t,e){const n=["mouse","pen"];return n.push("",void 0),n.includes(t)}function xo(t){return(t==null?void 0:t.ownerDocument)||document}function IH(t){return"composedPath"in t?t.composedPath()[0]:t.target}const gp=Math.min,ko=Math.max,yp=Math.round,ym=Math.floor,br=t=>({x:t,y:t}),NH={left:"right",right:"left",bottom:"top",top:"bottom"},DH={start:"end",end:"start"};function LR(t,e,n){return ko(t,gp(e,n))}function kT(t,e){return typeof t=="function"?t(e):t}function Ou(t){return t.split("-")[0]}function OT(t){return t.split("-")[1]}function DP(t){return t==="x"?"y":"x"}function PP(t){return t==="y"?"height":"width"}function nf(t){return["top","bottom"].includes(Ou(t))?"y":"x"}function kP(t){return DP(nf(t))}function PH(t,e,n){n===void 0&&(n=!1);const i=OT(t),s=kP(t),o=PP(s);let u=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(u=vp(u)),[u,vp(u)]}function kH(t){const e=vp(t);return[P_(t),e,P_(e)]}function P_(t){return t.replace(/start|end/g,e=>DH[e])}function OH(t,e,n){const i=["left","right"],s=["right","left"],o=["top","bottom"],u=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:i:e?i:s;case"left":case"right":return e?o:u;default:return[]}}function MH(t,e,n,i){const s=OT(t);let o=OH(Ou(t),n==="start",i);return s&&(o=o.map(u=>u+"-"+s),e&&(o=o.concat(o.map(P_)))),o}function vp(t){return t.replace(/left|right|bottom|top/g,e=>NH[e])}function jH(t){return{top:0,right:0,bottom:0,left:0,...t}}function VH(t){return typeof t!="number"?jH(t):{top:t,right:t,bottom:t,left:t}}function _p(t){const{x:e,y:n,width:i,height:s}=t;return{width:i,height:s,top:n,left:e,right:e+i,bottom:n+s,x:e,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var LH=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],k_=LH.join(","),OP=typeof Element>"u",rf=OP?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,bp=!OP&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Tp=function t(e,n){var i;n===void 0&&(n=!0);var s=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"inert"),o=s===""||s==="true",u=o||n&&e&&t(e.parentNode);return u},UH=function(e){var n,i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return i===""||i==="true"},zH=function(e,n,i){if(Tp(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(k_));return n&&rf.call(e,k_)&&s.unshift(e),s=s.filter(i),s},BH=function t(e,n,i){for(var s=[],o=Array.from(e);o.length;){var u=o.shift();if(!Tp(u,!1))if(u.tagName==="SLOT"){var h=u.assignedElements(),f=h.length?h:u.children,d=t(f,!0,i);i.flatten?s.push.apply(s,d):s.push({scopeParent:u,candidates:d})}else{var g=rf.call(u,k_);g&&i.filter(u)&&(n||!e.includes(u))&&s.push(u);var _=u.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(u),T=!Tp(_,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(u));if(_&&T){var x=t(_===!0?u.children:_.children,!0,i);i.flatten?s.push.apply(s,x):s.push({scopeParent:u,candidates:x})}else o.unshift.apply(o,u.children)}}return s},MP=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},jP=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||UH(e))&&!MP(e)?0:e.tabIndex},FH=function(e,n){var i=jP(e);return i<0&&n&&!MP(e)?0:i},qH=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},VP=function(e){return e.tagName==="INPUT"},HH=function(e){return VP(e)&&e.type==="hidden"},GH=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(i){return i.tagName==="SUMMARY"});return n},KH=function(e,n){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===n)return e[i]},$H=function(e){if(!e.name)return!0;var n=e.form||bp(e),i=function(h){return n.querySelectorAll('input[type="radio"][name="'+h+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=i(window.CSS.escape(e.name));else try{s=i(e.name)}catch(u){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",u.message),!1}var o=KH(s,e.form);return!o||o===e},QH=function(e){return VP(e)&&e.type==="radio"},YH=function(e){return QH(e)&&!$H(e)},XH=function(e){var n,i=e&&bp(e),s=(n=i)===null||n===void 0?void 0:n.host,o=!1;if(i&&i!==e){var u,h,f;for(o=!!((u=s)!==null&&u!==void 0&&(h=u.ownerDocument)!==null&&h!==void 0&&h.contains(s)||e!=null&&(f=e.ownerDocument)!==null&&f!==void 0&&f.contains(e));!o&&s;){var d,g,_;i=bp(s),s=(d=i)===null||d===void 0?void 0:d.host,o=!!((g=s)!==null&&g!==void 0&&(_=g.ownerDocument)!==null&&_!==void 0&&_.contains(s))}}return o},UR=function(e){var n=e.getBoundingClientRect(),i=n.width,s=n.height;return i===0&&s===0},WH=function(e,n){var i=n.displayCheck,s=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=rf.call(e,"details>summary:first-of-type"),u=o?e.parentElement:e;if(rf.call(u,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof s=="function"){for(var h=e;e;){var f=e.parentElement,d=bp(e);if(f&&!f.shadowRoot&&s(f)===!0)return UR(e);e.assignedSlot?e=e.assignedSlot:!f&&d!==e.ownerDocument?e=d.host:e=f}e=h}if(XH(e))return!e.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return UR(e);return!1},JH=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var i=0;i<n.children.length;i++){var s=n.children.item(i);if(s.tagName==="LEGEND")return rf.call(n,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}n=n.parentElement}return!1},ZH=function(e,n){return!(n.disabled||Tp(n)||HH(n)||WH(n,e)||GH(n)||JH(n))},zR=function(e,n){return!(YH(n)||jP(n)<0||!ZH(e,n))},eG=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},tG=function t(e){var n=[],i=[];return e.forEach(function(s,o){var u=!!s.scopeParent,h=u?s.scopeParent:s,f=FH(h,u),d=u?t(s.candidates):h;f===0?u?n.push.apply(n,d):n.push(h):i.push({documentOrder:o,tabIndex:f,item:s,isScope:u,content:d})}),i.sort(qH).reduce(function(s,o){return o.isScope?s.push.apply(s,o.content):s.push(o.content),s},[]).concat(n)},LP=function(e,n){n=n||{};var i;return n.getShadowRoot?i=BH([e],n.includeContainer,{filter:zR.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:eG}):i=zH(e,n.includeContainer,zR.bind(null,n)),tG(i)},UP=hC();function BR(t,e,n){let{reference:i,floating:s}=t;const o=nf(e),u=kP(e),h=PP(u),f=Ou(e),d=o==="y",g=i.x+i.width/2-s.width/2,_=i.y+i.height/2-s.height/2,T=i[h]/2-s[h]/2;let x;switch(f){case"top":x={x:g,y:i.y-s.height};break;case"bottom":x={x:g,y:i.y+i.height};break;case"right":x={x:i.x+i.width,y:_};break;case"left":x={x:i.x-s.width,y:_};break;default:x={x:i.x,y:i.y}}switch(OT(e)){case"start":x[u]-=T*(n&&d?-1:1);break;case"end":x[u]+=T*(n&&d?-1:1);break}return x}const nG=async(t,e,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:o=[],platform:u}=n,h=o.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let d=await u.getElementRects({reference:t,floating:e,strategy:s}),{x:g,y:_}=BR(d,i,f),T=i,x={},S=0;for(let N=0;N<h.length;N++){const{name:R,fn:k}=h[N],{x:U,y:V,data:$,reset:A}=await k({x:g,y:_,initialPlacement:i,placement:T,strategy:s,middlewareData:x,rects:d,platform:u,elements:{reference:t,floating:e}});g=U??g,_=V??_,x={...x,[R]:{...x[R],...$}},A&&S<=50&&(S++,typeof A=="object"&&(A.placement&&(T=A.placement),A.rects&&(d=A.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:s}):A.rects),{x:g,y:_}=BR(d,T,f)),N=-1)}return{x:g,y:_,placement:T,strategy:s,middlewareData:x}};async function zP(t,e){var n;e===void 0&&(e={});const{x:i,y:s,platform:o,rects:u,elements:h,strategy:f}=t,{boundary:d="clippingAncestors",rootBoundary:g="viewport",elementContext:_="floating",altBoundary:T=!1,padding:x=0}=kT(e,t),S=VH(x),R=h[T?_==="floating"?"reference":"floating":_],k=_p(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(R)))==null||n?R:R.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(h.floating)),boundary:d,rootBoundary:g,strategy:f})),U=_==="floating"?{x:i,y:s,width:u.floating.width,height:u.floating.height}:u.reference,V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h.floating)),$=await(o.isElement==null?void 0:o.isElement(V))?await(o.getScale==null?void 0:o.getScale(V))||{x:1,y:1}:{x:1,y:1},A=_p(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:U,offsetParent:V,strategy:f}):U);return{top:(k.top-A.top+S.top)/$.y,bottom:(A.bottom-k.bottom+S.bottom)/$.y,left:(k.left-A.left+S.left)/$.x,right:(A.right-k.right+S.right)/$.x}}const iG=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:s,middlewareData:o,rects:u,initialPlacement:h,platform:f,elements:d}=e,{mainAxis:g=!0,crossAxis:_=!0,fallbackPlacements:T,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:N=!0,...R}=kT(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const k=Ou(s),U=nf(h),V=Ou(h)===h,$=await(f.isRTL==null?void 0:f.isRTL(d.floating)),A=T||(V||!N?[vp(h)]:kH(h)),q=S!=="none";!T&&q&&A.push(...MH(h,N,S,$));const M=[h,...A],C=await zP(e,R),P=[];let j=((i=o.flip)==null?void 0:i.overflows)||[];if(g&&P.push(C[k]),_){const fe=PH(s,u,$);P.push(C[fe[0]],C[fe[1]])}if(j=[...j,{placement:s,overflows:P}],!P.every(fe=>fe<=0)){var F,H;const fe=(((F=o.flip)==null?void 0:F.index)||0)+1,Oe=M[fe];if(Oe)return{data:{index:fe,overflows:j},reset:{placement:Oe}};let Z=(H=j.filter(te=>te.overflows[0]<=0).sort((te,re)=>te.overflows[1]-re.overflows[1])[0])==null?void 0:H.placement;if(!Z)switch(x){case"bestFit":{var L;const te=(L=j.filter(re=>{if(q){const me=nf(re.placement);return me===U||me==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(me=>me>0).reduce((me,z)=>me+z,0)]).sort((re,me)=>re[1]-me[1])[0])==null?void 0:L[0];te&&(Z=te);break}case"initialPlacement":Z=h;break}if(s!==Z)return{reset:{placement:Z}}}return{}}}},rG=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:s}=e,{mainAxis:o=!0,crossAxis:u=!1,limiter:h={fn:R=>{let{x:k,y:U}=R;return{x:k,y:U}}},...f}=kT(t,e),d={x:n,y:i},g=await zP(e,f),_=nf(Ou(s)),T=DP(_);let x=d[T],S=d[_];if(o){const R=T==="y"?"top":"left",k=T==="y"?"bottom":"right",U=x+g[R],V=x-g[k];x=LR(U,x,V)}if(u){const R=_==="y"?"top":"left",k=_==="y"?"bottom":"right",U=S+g[R],V=S-g[k];S=LR(U,S,V)}const N=h.fn({...e,[T]:x,[_]:S});return{...N,data:{x:N.x-n,y:N.y-i,enabled:{[T]:o,[_]:u}}}}}};function BP(t){const e=Hi(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=wr(t),o=s?t.offsetWidth:n,u=s?t.offsetHeight:i,h=yp(n)!==o||yp(i)!==u;return h&&(n=o,i=u),{width:n,height:i,$:h}}function MT(t){return Ft(t)?t:t.contextElement}function au(t){const e=MT(t);if(!wr(e))return br(1);const n=e.getBoundingClientRect(),{width:i,height:s,$:o}=BP(e);let u=(o?yp(n.width):n.width)/i,h=(o?yp(n.height):n.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const sG=br(0);function FP(t){const e=Wn(t);return!PT()||!e.visualViewport?sG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function aG(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Wn(t)?!1:e}function Ho(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=MT(t);let u=br(1);e&&(i?Ft(i)&&(u=au(i)):u=au(t));const h=aG(o,n,i)?FP(o):br(0);let f=(s.left+h.x)/u.x,d=(s.top+h.y)/u.y,g=s.width/u.x,_=s.height/u.y;if(o){const T=Wn(o),x=i&&Ft(i)?Wn(i):i;let S=T,N=N_(S);for(;N&&i&&x!==S;){const R=au(N),k=N.getBoundingClientRect(),U=Hi(N),V=k.left+(N.clientLeft+parseFloat(U.paddingLeft))*R.x,$=k.top+(N.clientTop+parseFloat(U.paddingTop))*R.y;f*=R.x,d*=R.y,g*=R.x,_*=R.y,f+=V,d+=$,S=Wn(N),N=N_(S)}}return _p({width:g,height:_,x:f,y:d})}function jT(t,e){const n=lg(t).scrollLeft;return e?e.left+n:Ho(Cr(t)).left+n}function qP(t,e,n){n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=i.left+e.scrollLeft-(n?0:jT(t,i)),o=i.top+e.scrollTop;return{x:s,y:o}}function oG(t){let{elements:e,rect:n,offsetParent:i,strategy:s}=t;const o=s==="fixed",u=Cr(i),h=e?og(e.floating):!1;if(i===u||h&&o)return n;let f={scrollLeft:0,scrollTop:0},d=br(1);const g=br(0),_=wr(i);if((_||!_&&!o)&&((Yu(i)!=="body"||Df(u))&&(f=lg(i)),wr(i))){const x=Ho(i);d=au(i),g.x=x.x+i.clientLeft,g.y=x.y+i.clientTop}const T=u&&!_&&!o?qP(u,f,!0):br(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-f.scrollLeft*d.x+g.x+T.x,y:n.y*d.y-f.scrollTop*d.y+g.y+T.y}}function lG(t){return Array.from(t.getClientRects())}function uG(t){const e=Cr(t),n=lg(t),i=t.ownerDocument.body,s=ko(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),o=ko(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-n.scrollLeft+jT(t);const h=-n.scrollTop;return Hi(i).direction==="rtl"&&(u+=ko(e.clientWidth,i.clientWidth)-s),{width:s,height:o,x:u,y:h}}function cG(t,e){const n=Wn(t),i=Cr(t),s=n.visualViewport;let o=i.clientWidth,u=i.clientHeight,h=0,f=0;if(s){o=s.width,u=s.height;const d=PT();(!d||d&&e==="fixed")&&(h=s.offsetLeft,f=s.offsetTop)}return{width:o,height:u,x:h,y:f}}function hG(t,e){const n=Ho(t,!0,e==="fixed"),i=n.top+t.clientTop,s=n.left+t.clientLeft,o=wr(t)?au(t):br(1),u=t.clientWidth*o.x,h=t.clientHeight*o.y,f=s*o.x,d=i*o.y;return{width:u,height:h,x:f,y:d}}function FR(t,e,n){let i;if(e==="viewport")i=cG(t,n);else if(e==="document")i=uG(Cr(t));else if(Ft(e))i=hG(e,n);else{const s=FP(t);i={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return _p(i)}function HP(t,e){const n=Ra(t);return n===e||!Ft(n)||ku(n)?!1:Hi(n).position==="fixed"||HP(n,e)}function fG(t,e){const n=e.get(t);if(n)return n;let i=tf(t,[],!1).filter(h=>Ft(h)&&Yu(h)!=="body"),s=null;const o=Hi(t).position==="fixed";let u=o?Ra(t):t;for(;Ft(u)&&!ku(u);){const h=Hi(u),f=DT(u);!f&&h.position==="fixed"&&(s=null),(o?!f&&!s:!f&&h.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Df(u)&&!f&&HP(t,u))?i=i.filter(g=>g!==u):s=h,u=Ra(u)}return e.set(t,i),i}function dG(t){let{element:e,boundary:n,rootBoundary:i,strategy:s}=t;const u=[...n==="clippingAncestors"?og(e)?[]:fG(e,this._c):[].concat(n),i],h=u[0],f=u.reduce((d,g)=>{const _=FR(e,g,s);return d.top=ko(_.top,d.top),d.right=gp(_.right,d.right),d.bottom=gp(_.bottom,d.bottom),d.left=ko(_.left,d.left),d},FR(e,h,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function mG(t){const{width:e,height:n}=BP(t);return{width:e,height:n}}function pG(t,e,n){const i=wr(e),s=Cr(e),o=n==="fixed",u=Ho(t,!0,o,e);let h={scrollLeft:0,scrollTop:0};const f=br(0);if(i||!i&&!o)if((Yu(e)!=="body"||Df(s))&&(h=lg(e)),i){const T=Ho(e,!0,o,e);f.x=T.x+e.clientLeft,f.y=T.y+e.clientTop}else s&&(f.x=jT(s));const d=s&&!i&&!o?qP(s,h):br(0),g=u.left+h.scrollLeft-f.x-d.x,_=u.top+h.scrollTop-f.y-d.y;return{x:g,y:_,width:u.width,height:u.height}}function n0(t){return Hi(t).position==="static"}function qR(t,e){if(!wr(t)||Hi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Cr(t)===n&&(n=n.ownerDocument.body),n}function GP(t,e){const n=Wn(t);if(og(t))return n;if(!wr(t)){let s=Ra(t);for(;s&&!ku(s);){if(Ft(s)&&!n0(s))return s;s=Ra(s)}return n}let i=qR(t,e);for(;i&&SH(i)&&n0(i);)i=qR(i,e);return i&&ku(i)&&n0(i)&&!DT(i)?n:i||AH(t)||n}const gG=async function(t){const e=this.getOffsetParent||GP,n=this.getDimensions,i=await n(t.floating);return{reference:pG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function yG(t){return Hi(t).direction==="rtl"}const vG={convertOffsetParentRelativeRectToViewportRelativeRect:oG,getDocumentElement:Cr,getClippingRect:dG,getOffsetParent:GP,getElementRects:gG,getClientRects:lG,getDimensions:mG,getScale:au,isElement:Ft,isRTL:yG};function KP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function _G(t,e){let n=null,i;const s=Cr(t);function o(){var h;clearTimeout(i),(h=n)==null||h.disconnect(),n=null}function u(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),o();const d=t.getBoundingClientRect(),{left:g,top:_,width:T,height:x}=d;if(h||e(),!T||!x)return;const S=ym(_),N=ym(s.clientWidth-(g+T)),R=ym(s.clientHeight-(_+x)),k=ym(g),V={rootMargin:-S+"px "+-N+"px "+-R+"px "+-k+"px",threshold:ko(0,gp(1,f))||1};let $=!0;function A(q){const M=q[0].intersectionRatio;if(M!==f){if(!$)return u();M?u(!1,M):i=setTimeout(()=>{u(!1,1e-7)},1e3)}M===1&&!KP(d,t.getBoundingClientRect())&&u(),$=!1}try{n=new IntersectionObserver(A,{...V,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,V)}n.observe(t)}return u(!0),o}function bG(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,d=MT(t),g=s||o?[...d?tf(d):[],...tf(e)]:[];g.forEach(k=>{s&&k.addEventListener("scroll",n,{passive:!0}),o&&k.addEventListener("resize",n)});const _=d&&h?_G(d,n):null;let T=-1,x=null;u&&(x=new ResizeObserver(k=>{let[U]=k;U&&U.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var V;(V=x)==null||V.observe(e)})),n()}),d&&!f&&x.observe(d),x.observe(e));let S,N=f?Ho(t):null;f&&R();function R(){const k=Ho(t);N&&!KP(N,k)&&n(),N=k,S=requestAnimationFrame(R)}return n(),()=>{var k;g.forEach(U=>{s&&U.removeEventListener("scroll",n),o&&U.removeEventListener("resize",n)}),_==null||_(),(k=x)==null||k.disconnect(),x=null,f&&cancelAnimationFrame(S)}}const TG=rG,xG=iG,EG=(t,e,n)=>{const i=new Map,s={platform:vG,...n},o={...s.platform,_c:i};return nG(t,e,{...s,platform:o})};var Mm=typeof document<"u"?I.useLayoutEffect:I.useEffect;function xp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!xp(t[i],e[i]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,s[i]))return!1;for(i=n;i--!==0;){const o=s[i];if(!(o==="_owner"&&t.$$typeof)&&!xp(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function $P(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function HR(t,e){const n=$P(t);return Math.round(e*n)/n}function i0(t){const e=I.useRef(t);return Mm(()=>{e.current=t}),e}function wG(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:s,elements:{reference:o,floating:u}={},transform:h=!0,whileElementsMounted:f,open:d}=t,[g,_]=I.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[T,x]=I.useState(i);xp(T,i)||x(i);const[S,N]=I.useState(null),[R,k]=I.useState(null),U=I.useCallback(re=>{re!==q.current&&(q.current=re,N(re))},[]),V=I.useCallback(re=>{re!==M.current&&(M.current=re,k(re))},[]),$=o||S,A=u||R,q=I.useRef(null),M=I.useRef(null),C=I.useRef(g),P=f!=null,j=i0(f),F=i0(s),H=i0(d),L=I.useCallback(()=>{if(!q.current||!M.current)return;const re={placement:e,strategy:n,middleware:T};F.current&&(re.platform=F.current),EG(q.current,M.current,re).then(me=>{const z={...me,isPositioned:H.current!==!1};fe.current&&!xp(C.current,z)&&(C.current=z,UP.flushSync(()=>{_(z)}))})},[T,e,n,F,H]);Mm(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,_(re=>({...re,isPositioned:!1})))},[d]);const fe=I.useRef(!1);Mm(()=>(fe.current=!0,()=>{fe.current=!1}),[]),Mm(()=>{if($&&(q.current=$),A&&(M.current=A),$&&A){if(j.current)return j.current($,A,L);L()}},[$,A,L,j,P]);const Oe=I.useMemo(()=>({reference:q,floating:M,setReference:U,setFloating:V}),[U,V]),Z=I.useMemo(()=>({reference:$,floating:A}),[$,A]),te=I.useMemo(()=>{const re={position:n,left:0,top:0};if(!Z.floating)return re;const me=HR(Z.floating,g.x),z=HR(Z.floating,g.y);return h?{...re,transform:"translate("+me+"px, "+z+"px)",...$P(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:me,top:z}},[n,h,Z.floating,g.x,g.y]);return I.useMemo(()=>({...g,update:L,refs:Oe,elements:Z,floatingStyles:te}),[g,L,Oe,Z,te])}const SG=(t,e)=>({...TG(t),options:[t,e]}),AG=(t,e)=>({...xG(t),options:[t,e]}),QP={...kO},RG=QP.useInsertionEffect,CG=RG||(t=>t());function jm(t){const e=I.useRef(()=>{});return CG(()=>{e.current=t}),I.useCallback(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e.current==null?void 0:e.current(...i)},[])}var Tr=typeof document<"u"?I.useLayoutEffect:I.useEffect;let GR=!1,IG=0;const KR=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+IG++;function NG(){const[t,e]=I.useState(()=>GR?KR():void 0);return Tr(()=>{t==null&&e(KR())},[]),I.useEffect(()=>{GR=!0},[]),t}const DG=QP.useId,YP=DG||NG;function PG(){const t=new Map;return{emit(e,n){var i;(i=t.get(e))==null||i.forEach(s=>s(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){var i;(i=t.get(e))==null||i.delete(n)}}}const kG=I.createContext(null),OG=I.createContext(null),XP=()=>{var t;return((t=I.useContext(kG))==null?void 0:t.id)||null},WP=()=>I.useContext(OG);function VT(t){return"data-floating-ui-"+t}function Pi(t){t.current!==-1&&(clearTimeout(t.current),t.current=-1)}function vm(t){const e=I.useRef(t);return Tr(()=>{e.current=t}),e}const $R=VT("safe-polygon");function r0(t,e,n){if(n&&!D_(n))return 0;if(typeof t=="number")return t;if(typeof t=="function"){const i=t();return typeof i=="number"?i:i==null?void 0:i[e]}return t==null?void 0:t[e]}function s0(t){return typeof t=="function"?t():t}function MG(t,e){e===void 0&&(e={});const{open:n,onOpenChange:i,dataRef:s,events:o,elements:u}=t,{enabled:h=!0,delay:f=0,handleClose:d=null,mouseOnly:g=!1,restMs:_=0,move:T=!0}=e,x=WP(),S=XP(),N=vm(d),R=vm(f),k=vm(n),U=vm(_),V=I.useRef(),$=I.useRef(-1),A=I.useRef(),q=I.useRef(-1),M=I.useRef(!0),C=I.useRef(!1),P=I.useRef(()=>{}),j=I.useRef(!1),F=I.useCallback(()=>{var te;const re=(te=s.current.openEvent)==null?void 0:te.type;return(re==null?void 0:re.includes("mouse"))&&re!=="mousedown"},[s]);I.useEffect(()=>{if(!h)return;function te(re){let{open:me}=re;me||(Pi($),Pi(q),M.current=!0,j.current=!1)}return o.on("openchange",te),()=>{o.off("openchange",te)}},[h,o]),I.useEffect(()=>{if(!h||!N.current||!n)return;function te(me){F()&&i(!1,me,"hover")}const re=xo(u.floating).documentElement;return re.addEventListener("mouseleave",te),()=>{re.removeEventListener("mouseleave",te)}},[u.floating,n,i,h,N,F]);const H=I.useCallback(function(te,re,me){re===void 0&&(re=!0),me===void 0&&(me="hover");const z=r0(R.current,"close",V.current);z&&!A.current?(Pi($),$.current=window.setTimeout(()=>i(!1,te,me),z)):re&&(Pi($),i(!1,te,me))},[R,i]),L=jm(()=>{P.current(),A.current=void 0}),fe=jm(()=>{if(C.current){const te=xo(u.floating).body;te.style.pointerEvents="",te.removeAttribute($R),C.current=!1}}),Oe=jm(()=>s.current.openEvent?["click","mousedown"].includes(s.current.openEvent.type):!1);I.useEffect(()=>{if(!h)return;function te(he){if(Pi($),M.current=!1,g&&!D_(V.current)||s0(U.current)>0&&!r0(R.current,"open"))return;const le=r0(R.current,"open",V.current);le?$.current=window.setTimeout(()=>{k.current||i(!0,he,"hover")},le):n||i(!0,he,"hover")}function re(he){if(Oe()){fe();return}P.current();const le=xo(u.floating);if(Pi(q),j.current=!1,N.current&&s.current.floatingContext){n||Pi($),A.current=N.current({...s.current.floatingContext,tree:x,x:he.clientX,y:he.clientY,onClose(){fe(),L(),Oe()||H(he,!0,"safe-polygon")}});const Ne=A.current;le.addEventListener("mousemove",Ne),P.current=()=>{le.removeEventListener("mousemove",Ne)};return}(V.current==="touch"?!Nh(u.floating,he.relatedTarget):!0)&&H(he)}function me(he){Oe()||s.current.floatingContext&&(N.current==null||N.current({...s.current.floatingContext,tree:x,x:he.clientX,y:he.clientY,onClose(){fe(),L(),Oe()||H(he)}})(he))}function z(){Pi($)}function ae(he){Oe()||H(he,!1)}if(Ft(u.domReference)){const he=u.domReference,le=u.floating;return n&&he.addEventListener("mouseleave",me),T&&he.addEventListener("mousemove",te,{once:!0}),he.addEventListener("mouseenter",te),he.addEventListener("mouseleave",re),le&&(le.addEventListener("mouseleave",me),le.addEventListener("mouseenter",z),le.addEventListener("mouseleave",ae)),()=>{n&&he.removeEventListener("mouseleave",me),T&&he.removeEventListener("mousemove",te),he.removeEventListener("mouseenter",te),he.removeEventListener("mouseleave",re),le&&(le.removeEventListener("mouseleave",me),le.removeEventListener("mouseenter",z),le.removeEventListener("mouseleave",ae))}}},[u,h,t,g,T,H,L,fe,i,n,k,x,R,N,s,Oe,U]),Tr(()=>{var te;if(h&&n&&(te=N.current)!=null&&te.__options.blockPointerEvents&&F()){C.current=!0;const me=u.floating;if(Ft(u.domReference)&&me){var re;const z=xo(u.floating).body;z.setAttribute($R,"");const ae=u.domReference,he=x==null||(re=x.nodesRef.current.find(le=>le.id===S))==null||(re=re.context)==null?void 0:re.elements.floating;return he&&(he.style.pointerEvents=""),z.style.pointerEvents="none",ae.style.pointerEvents="auto",me.style.pointerEvents="auto",()=>{z.style.pointerEvents="",ae.style.pointerEvents="",me.style.pointerEvents=""}}}},[h,n,S,u,x,N,F]),Tr(()=>{n||(V.current=void 0,j.current=!1,L(),fe())},[n,L,fe]),I.useEffect(()=>()=>{L(),Pi($),Pi(q),fe()},[h,u.domReference,L,fe]);const Z=I.useMemo(()=>{function te(re){V.current=re.pointerType}return{onPointerDown:te,onPointerEnter:te,onMouseMove(re){const{nativeEvent:me}=re;function z(){!M.current&&!k.current&&i(!0,me,"hover")}g&&!D_(V.current)||n||s0(U.current)===0||j.current&&re.movementX**2+re.movementY**2<2||(Pi(q),V.current==="touch"?z():(j.current=!0,q.current=window.setTimeout(z,s0(U.current))))}}},[g,i,n,k,U]);return I.useMemo(()=>h?{reference:Z}:{},[h,Z])}function jG(t,e){let n=t.filter(s=>{var o;return s.parentId===e&&((o=s.context)==null?void 0:o.open)}),i=n;for(;i.length;)i=t.filter(s=>{var o;return(o=i)==null?void 0:o.some(u=>{var h;return s.parentId===u.id&&((h=s.context)==null?void 0:h.open)})}),n=n.concat(i);return n}const JP=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function ZP(t,e){const n=LP(t,JP());e==="prev"&&n.reverse();const i=n.indexOf(RH(xo(t)));return n.slice(i+1)[0]}function VG(t){return ZP(xo(t).body,"next")||t}function LG(t){return ZP(xo(t).body,"prev")||t}function a0(t,e){const n=e||t.currentTarget,i=t.relatedTarget;return!i||!Nh(n,i)}function UG(t){LP(t,JP()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function QR(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const i=n.dataset.tabindex;delete n.dataset.tabindex,i?n.setAttribute("tabindex",i):n.removeAttribute("tabindex")})}const ek={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},YR=I.forwardRef(function(e,n){const[i,s]=I.useState();Tr(()=>{CH()&&s("button")},[]);const o={ref:n,tabIndex:0,role:i,"aria-hidden":i?void 0:!0,[VT("focus-guard")]:"",style:ek};return y.jsx("span",{...e,...o})}),tk=I.createContext(null),XR=VT("portal");function zG(t){t===void 0&&(t={});const{id:e,root:n}=t,i=YP(),s=FG(),[o,u]=I.useState(null),h=I.useRef(null);return Tr(()=>()=>{o==null||o.remove(),queueMicrotask(()=>{h.current=null})},[o]),Tr(()=>{if(!i||h.current)return;const f=e?document.getElementById(e):null;if(!f)return;const d=document.createElement("div");d.id=i,d.setAttribute(XR,""),f.appendChild(d),h.current=d,u(d)},[e,i]),Tr(()=>{if(n===null||!i||h.current)return;let f=n||(s==null?void 0:s.portalNode);f&&!Ft(f)&&(f=f.current),f=f||document.body;let d=null;e&&(d=document.createElement("div"),d.id=e,f.appendChild(d));const g=document.createElement("div");g.id=i,g.setAttribute(XR,""),f=d||f,f.appendChild(g),h.current=g,u(g)},[e,n,i,s]),o}function BG(t){const{children:e,id:n,root:i,preserveTabOrder:s=!0}=t,o=zG({id:n,root:i}),[u,h]=I.useState(null),f=I.useRef(null),d=I.useRef(null),g=I.useRef(null),_=I.useRef(null),T=u==null?void 0:u.modal,x=u==null?void 0:u.open,S=!!u&&!u.modal&&u.open&&s&&!!(i||o);return I.useEffect(()=>{if(!o||!s||T)return;function N(R){o&&a0(R)&&(R.type==="focusin"?QR:UG)(o)}return o.addEventListener("focusin",N,!0),o.addEventListener("focusout",N,!0),()=>{o.removeEventListener("focusin",N,!0),o.removeEventListener("focusout",N,!0)}},[o,s,T]),I.useEffect(()=>{o&&(x||QR(o))},[x,o]),y.jsxs(tk.Provider,{value:I.useMemo(()=>({preserveTabOrder:s,beforeOutsideRef:f,afterOutsideRef:d,beforeInsideRef:g,afterInsideRef:_,portalNode:o,setFocusManagerState:h}),[s,o]),children:[S&&o&&y.jsx(YR,{"data-type":"outside",ref:f,onFocus:N=>{if(a0(N,o)){var R;(R=g.current)==null||R.focus()}else{const k=u?u.domReference:null,U=LG(k);U==null||U.focus()}}}),S&&o&&y.jsx("span",{"aria-owns":o.id,style:ek}),o&&UP.createPortal(e,o),S&&o&&y.jsx(YR,{"data-type":"outside",ref:d,onFocus:N=>{if(a0(N,o)){var R;(R=_.current)==null||R.focus()}else{const k=u?u.domReference:null,U=VG(k);U==null||U.focus(),u!=null&&u.closeOnFocusOut&&(u==null||u.onOpenChange(!1,N.nativeEvent,"focus-out"))}}})]})}const FG=()=>I.useContext(tk),qG="data-floating-ui-focusable";function HG(t){const{open:e=!1,onOpenChange:n,elements:i}=t,s=YP(),o=I.useRef({}),[u]=I.useState(()=>PG()),h=XP()!=null,[f,d]=I.useState(i.reference),g=jm((x,S,N)=>{o.current.openEvent=x?S:void 0,u.emit("openchange",{open:x,event:S,reason:N,nested:h}),n==null||n(x,S,N)}),_=I.useMemo(()=>({setPositionReference:d}),[]),T=I.useMemo(()=>({reference:f||i.reference||null,floating:i.floating||null,domReference:i.reference}),[f,i.reference,i.floating]);return I.useMemo(()=>({dataRef:o,open:e,onOpenChange:g,elements:T,events:u,floatingId:s,refs:_}),[e,g,T,u,s,_])}function GG(t){t===void 0&&(t={});const{nodeId:e}=t,n=HG({...t,elements:{reference:null,floating:null,...t.elements}}),i=t.rootContext||n,s=i.elements,[o,u]=I.useState(null),[h,f]=I.useState(null),g=(s==null?void 0:s.domReference)||o,_=I.useRef(null),T=WP();Tr(()=>{g&&(_.current=g)},[g]);const x=wG({...t,elements:{...s,...h&&{reference:h}}}),S=I.useCallback(V=>{const $=Ft(V)?{getBoundingClientRect:()=>V.getBoundingClientRect(),getClientRects:()=>V.getClientRects(),contextElement:V}:V;f($),x.refs.setReference($)},[x.refs]),N=I.useCallback(V=>{(Ft(V)||V===null)&&(_.current=V,u(V)),(Ft(x.refs.reference.current)||x.refs.reference.current===null||V!==null&&!Ft(V))&&x.refs.setReference(V)},[x.refs]),R=I.useMemo(()=>({...x.refs,setReference:N,setPositionReference:S,domReference:_}),[x.refs,N,S]),k=I.useMemo(()=>({...x.elements,domReference:g}),[x.elements,g]),U=I.useMemo(()=>({...x,...i,refs:R,elements:k,nodeId:e}),[x,R,k,e,i]);return Tr(()=>{i.dataRef.current.floatingContext=U;const V=T==null?void 0:T.nodesRef.current.find($=>$.id===e);V&&(V.context=U)}),I.useMemo(()=>({...x,context:U,refs:R,elements:k}),[x,R,k,U])}const WR="active",JR="selected";function o0(t,e,n){const i=new Map,s=n==="item";let o=t;if(s&&t){const{[WR]:u,[JR]:h,...f}=t;o=f}return{...n==="floating"&&{tabIndex:-1,[qG]:""},...o,...e.map(u=>{const h=u?u[n]:null;return typeof h=="function"?t?h(t):null:h}).concat(t).reduce((u,h)=>(h&&Object.entries(h).forEach(f=>{let[d,g]=f;if(!(s&&[WR,JR].includes(d)))if(d.indexOf("on")===0){if(i.has(d)||i.set(d,[]),typeof g=="function"){var _;(_=i.get(d))==null||_.push(g),u[d]=function(){for(var T,x=arguments.length,S=new Array(x),N=0;N<x;N++)S[N]=arguments[N];return(T=i.get(d))==null?void 0:T.map(R=>R(...S)).find(R=>R!==void 0)}}}else u[d]=g}),u),{})}}function KG(t){t===void 0&&(t=[]);const e=t.map(h=>h==null?void 0:h.reference),n=t.map(h=>h==null?void 0:h.floating),i=t.map(h=>h==null?void 0:h.item),s=I.useCallback(h=>o0(h,t,"reference"),e),o=I.useCallback(h=>o0(h,t,"floating"),n),u=I.useCallback(h=>o0(h,t,"item"),i);return I.useMemo(()=>({getReferenceProps:s,getFloatingProps:o,getItemProps:u}),[s,o,u])}function ZR(t,e){const[n,i]=t;let s=!1;const o=e.length;for(let u=0,h=o-1;u<o;h=u++){const[f,d]=e[u]||[0,0],[g,_]=e[h]||[0,0];d>=i!=_>=i&&n<=(g-f)*(i-d)/(_-d)+f&&(s=!s)}return s}function $G(t,e){return t[0]>=e.x&&t[0]<=e.x+e.width&&t[1]>=e.y&&t[1]<=e.y+e.height}function QG(t){t===void 0&&(t={});const{buffer:e=.5,blockPointerEvents:n=!1,requireIntent:i=!0}=t;let s,o=!1,u=null,h=null,f=performance.now();function d(_,T){const x=performance.now(),S=x-f;if(u===null||h===null||S===0)return u=_,h=T,f=x,null;const N=_-u,R=T-h,U=Math.sqrt(N*N+R*R)/S;return u=_,h=T,f=x,U}const g=_=>{let{x:T,y:x,placement:S,elements:N,onClose:R,nodeId:k,tree:U}=_;return function($){function A(){clearTimeout(s),R()}if(clearTimeout(s),!N.domReference||!N.floating||S==null||T==null||x==null)return;const{clientX:q,clientY:M}=$,C=[q,M],P=IH($),j=$.type==="mouseleave",F=Nh(N.floating,P),H=Nh(N.domReference,P),L=N.domReference.getBoundingClientRect(),fe=N.floating.getBoundingClientRect(),Oe=S.split("-")[0],Z=T>fe.right-fe.width/2,te=x>fe.bottom-fe.height/2,re=$G(C,L),me=fe.width>L.width,z=fe.height>L.height,ae=(me?L:fe).left,he=(me?L:fe).right,le=(z?L:fe).top,_e=(z?L:fe).bottom;if(F&&(o=!0,!j))return;if(H&&(o=!1),H&&!j){o=!0;return}if(j&&Ft($.relatedTarget)&&Nh(N.floating,$.relatedTarget)||U&&jG(U.nodesRef.current,k).some(ft=>{let{context:De}=ft;return De==null?void 0:De.open}))return;if(Oe==="top"&&x>=L.bottom-1||Oe==="bottom"&&x<=L.top+1||Oe==="left"&&T>=L.right-1||Oe==="right"&&T<=L.left+1)return A();let Ne=[];switch(Oe){case"top":Ne=[[ae,L.top+1],[ae,fe.bottom-1],[he,fe.bottom-1],[he,L.top+1]];break;case"bottom":Ne=[[ae,fe.top+1],[ae,L.bottom-1],[he,L.bottom-1],[he,fe.top+1]];break;case"left":Ne=[[fe.right-1,_e],[fe.right-1,le],[L.left+1,le],[L.left+1,_e]];break;case"right":Ne=[[L.right-1,_e],[L.right-1,le],[fe.left+1,le],[fe.left+1,_e]];break}function Re(ft){let[De,lt]=ft;switch(Oe){case"top":{const fn=[me?De+e/2:Z?De+e*4:De-e*4,lt+e+1],Jt=[me?De-e/2:Z?De+e*4:De-e*4,lt+e+1],Pn=[[fe.left,Z||me?fe.bottom-e:fe.top],[fe.right,Z?me?fe.bottom-e:fe.top:fe.bottom-e]];return[fn,Jt,...Pn]}case"bottom":{const fn=[me?De+e/2:Z?De+e*4:De-e*4,lt-e],Jt=[me?De-e/2:Z?De+e*4:De-e*4,lt-e],Pn=[[fe.left,Z||me?fe.top+e:fe.bottom],[fe.right,Z?me?fe.top+e:fe.bottom:fe.top+e]];return[fn,Jt,...Pn]}case"left":{const fn=[De+e+1,z?lt+e/2:te?lt+e*4:lt-e*4],Jt=[De+e+1,z?lt-e/2:te?lt+e*4:lt-e*4];return[...[[te||z?fe.right-e:fe.left,fe.top],[te?z?fe.right-e:fe.left:fe.right-e,fe.bottom]],fn,Jt]}case"right":{const fn=[De-e,z?lt+e/2:te?lt+e*4:lt-e*4],Jt=[De-e,z?lt-e/2:te?lt+e*4:lt-e*4],Pn=[[te||z?fe.left+e:fe.right,fe.top],[te?z?fe.left+e:fe.right:fe.left+e,fe.bottom]];return[fn,Jt,...Pn]}}}if(!ZR([q,M],Ne)){if(o&&!re)return A();if(!j&&i){const ft=d($.clientX,$.clientY);if(ft!==null&&ft<.1)return A()}ZR([q,M],Re([T,x]))?!o&&i&&(s=window.setTimeout(A,40)):A()}}};return g.__options={blockPointerEvents:n},g}function sf(t){const{id:e,title:n,image:i,price:s,discount:o,currency:u,description:h}=t,f=cn(ys),[d,g]=I.useState(!1),{refs:_,floatingStyles:T,context:x}=GG({whileElementsMounted:bG,open:d,onOpenChange:g,placement:"right-start",strategy:"fixed",middleware:[AG({crossAxis:!1}),SG({crossAxis:!1})]}),S=MG(x,{handleClose:QG()}),{getReferenceProps:N,getFloatingProps:R}=KG([S]);return y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:_.setReference,className:"  h-25 w-full flex pl-4 pr-6 relative group text-stone-900 dark:text-stone-50",...N(),children:y.jsxs(We,{to:"/products/id/"+e,className:" w-full h-full flex",children:[y.jsx("figure",{className:" h-2/3 w-1/4 aspect-[2/1] overflow-hidden rounded-sm self-center",children:y.jsx("img",{src:"/images/"+e+"/"+i,alt:"商品圖",className:" h-full w-full object-cover object-center"})}),y.jsxs("div",{className:"self-start mt-4 w-2/3",children:[y.jsx("p",{className:" h-[3rem] self-center text- ml-3 line-clamp-2",children:n}),y.jsxs("figure",{className:" absolute bottom-2 right-4 flex gap-1 items-baseline",children:[y.jsx("span",{className:`text-stone-50 px-2 bg-red-800  dark:bg-orange-400 text-sm ${o==1?"hidden":""}`,children:o*100==100?null:"-"+(100-o*100)+"%"}),y.jsx("p",{className:" text-right min-w-12 price font-bold text-lg",children:Math.round(su(u,s)*o)}),y.jsx("p",{className:" text-sm",children:f})]})]})]})},e),d&&y.jsx(BG,{children:y.jsxs("div",{ref:_.setFloating,style:T,className:"max-w-sm hidden lg:block rounded overflow-hidden bg-neutral-100 dark:bg-neutral-700/80 backdrop-blur-lg shadow-xl",...R(),children:[y.jsx("figure",{className:" aspect-1/1 overflow-hidden rounded-sm self-center",children:y.jsx("img",{src:"/images/"+e+"/"+i,alt:"商品圖",className:" h-full w-full object-cover object-center"})}),y.jsxs("div",{className:"px-6 py-4",children:[y.jsx("div",{className:"font-bold text-xl mb-2",children:n}),y.jsx("p",{className:"text-stone-900 dark:text-stone-50 text-base max-h-16 pb-4 overflow-y-scroll overflow-x-hidden",children:h})]})]})})]})}function YG(){const t=ga.sort((n,i)=>i.likes-n.likes).slice(0,10),e=ga.sort((n,i)=>new Date(i.release_date)-new Date(n.release_date)).slice(0,10);return y.jsx(y.Fragment,{children:y.jsxs("main",{className:" main w-dvw px-10 bg-stone-100 dark:bg-stone-800",children:[y.jsx(wH,{}),y.jsxs("div",{className:"max-w-screen-xl mx-auto my-4 gap-5 flex flex-col md:flex-row justify-between ",children:[y.jsxs("ul",{className:" flex flex-col md:w-50/100 bg-stone-50 dark:bg-stone-700 rounded-lg pt-3",children:[y.jsx("p",{className:" text-lg font-bold mb-3 pl-3 text-orange-900 dark:text-orange-300",children:"熱門商品"}),t.map(n=>y.jsxs("li",{children:[y.jsx("hr",{className:" border-1 border-stone-200 dark:border-stone-600"}),y.jsx(sf,{id:n.id,image:n.images[0]||n.variants[0].image,title:n.title,discount:n.discount,price:n.variants[0].price,currency:n.currency,description:n.description},n.id)]},n.id))]}),y.jsxs("ul",{className:" flex flex-col md:w-48/100 bg-stone-50 dark:bg-stone-700 rounded-lg pt-3",children:[y.jsx("p",{className:" text-lg font-bold mb-3 pl-3 text-orange-900 dark:text-orange-300",children:"新上架"}),e.map(n=>y.jsxs("li",{children:[y.jsx("hr",{className:" border-1 border-stone-200 dark:border-stone-600"}),y.jsx(sf,{id:n.id,image:n.images[0]||n.variants[0].image,title:n.title,discount:n.discount,price:n.variants[0].price,currency:n.currency,description:n.description},n.id)]},n.id))]})]})]})})}function XG(){return y.jsxs(y.Fragment,{children:[y.jsx(ei,{children:y.jsx("title",{children:"首頁"})}),y.jsx(ti,{}),y.jsx(YG,{}),y.jsx(ni,{})]})}var eC={JPY:{USD:.007,JPY:1,TWD:.23},USD:{USD:1,JPY:143.01,TWD:32.4}};function xi(t,e,n){var i=0;try{t==e?i=n:i=Math.round(n*eC[t][e])}catch{i=Math.round(n*(1/eC[e][t]))}return i}function WG(){const t=wi(),e=Si(),n=cn(L_),i=cn(ys),[s,o]=I.useState({visible:!1,type:null}),u=I.useMemo(()=>n.reduce((f,d)=>f+xi(d.currency,i,d.price)*d.qty*d.discount,0),[n,i]),h=()=>{const f=wa.currentUser;f?f.emailVerified?e("/checkout"):o({visible:!0,type:"unverified"}):o({visible:!0,type:"notLoggedIn"})};return console.log(n),y.jsxs("div",{className:"max-w-screen-xl mx-auto w-full px-10",children:[s.visible&&y.jsx("div",{className:"fixed bg-stone-300/50 dark:bg-stone-700/50 backdrop-blur-xl inset-0 bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"rounded-lg bg-stone-50 dark:bg-stone-600 p-6 shadow-lg w-80 text-center",children:[s.type==="unverified"&&y.jsxs(y.Fragment,{children:[y.jsx("h2",{className:"text-xl font-bold mb-2",children:"請先完成驗證"}),y.jsx("p",{className:"mb-4",children:"您尚未完成信箱驗證，請先到會員中心查看詳情"}),y.jsx("span",{onClick:()=>e("/account/setting"),className:"dark:text-orange-300 text-orange-400 cursor-pointer font-bold",children:"前往"})]}),s.type==="notLoggedIn"&&y.jsxs(y.Fragment,{children:[y.jsx("h2",{className:"text-xl font-bold mb-2",children:"請先登入"}),y.jsx("p",{className:"mb-4",children:"您必須登入帳號後才能前往結帳"}),y.jsx("span",{onClick:()=>e("/account/login"),className:"dark:text-orange-300 text-orange-400 cursor-pointer font-bold",children:"前往登入"})]})]})}),y.jsxs("ul",{className:`rounded-lg flex flex-col w-full justify-center py-10 px-5 ${n.length==0?"":"bg-stone-50 dark:bg-stone-700"}`,children:[y.jsxs("li",{className:" my-5 flex mx-auto items-center gap-2 text-xl text-orange-900 dark:text-orange-300",children:[y.jsx(RT,{size:28}),y.jsx("p",{className:" font-bold",children:n.length==0?"購物車裡尚沒有商品喔":"購物車"})]}),n.length>0?n.map((f,d)=>y.jsxs("li",{children:[y.jsx("hr",{className:"border-1 border-stone-300 dark:border-stone-600 my-2"}),y.jsxs("div",{className:"  h-25 lg:w-8/10 mx-auto grid grid-cols-[1fr_auto_1fr_auto] md:grid-rows-2 lg:grid-cols-[100px_1fr_120px_80px] gap-x-5 md:gap-x-10 items-center pl-10 pr-6 relative mb-4 overflow-hidden",children:[y.jsx(CT,{className:" absolute left-2 text-stone-300 cursor-pointer",onClick:()=>{t(qM({id:f.id,variantID:f.variantID}))}}),y.jsx("figure",{className:" order-1 col-span-2 sm:col-span-1 row-span-2 lg:order-0 lg:row-span-2 aspect-2/1 overflow-hidden rounded-xl h-full w-full ]",children:y.jsx("img",{src:"/images/"+f.id+"/"+f.image,alt:"商品圖",className:" h-full w-full object-cover object-center"})}),y.jsxs("div",{className:" order-2 col-span-2 lg:order-1 lg:col-span-1 lg:row-span-2 w-full lg:w-[350px] flex flex-col ",children:[y.jsx(We,{to:"/products/id/"+f.id,children:y.jsx("p",{className:" h-[1.5rem] text-nowrap truncate text-sm",children:f.title})}),y.jsx("p",{className:"text-sm",children:f.variantName})]}),f.type=="3D模型"?y.jsx("div",{className:" order-4 col-span-2 lg:col-span-1 lg:order-2  lg:row-span-2",children:y.jsx("p",{className:" text-center",children:f.qty})}):y.jsxs("div",{className:" mx-auto order-4 col-span-2 lg:col-span-1 lg:order-2 inline-flex h-1/2 lg:h-1/3 md:w-2/3 w-full lg:row-span-2 rounded-md border-stone-300 dark:border-stone-600 bg-stone-50 dark:bg-stone-600",children:[y.jsx("button",{className:" btn !h-full no-round !rounded-l-md !rounded-r-none !bg-stone-200 dark:!bg-stone-700  !shadow-none !px-0 w-1/4",onClick:()=>{const g=Math.max(1,f.qty-1);t(v1({id:f.id,variantID:f.variantID,qty:g}))},children:y.jsx(RP,{className:" dark:!text-stone-50 size-4"})}),y.jsx("div",{className:"flex items-center flex-1 h-full",children:y.jsx("p",{className:" w-full text-center text-sm",children:f.qty})}),y.jsx("button",{className:" btn !h-full no-round !rounded-r-md !rounded-l-none !bg-stone-200 dark:!bg-stone-700  !shadow-none !px-0 w-1/4",onClick:()=>{const g=Math.min(f.stock,f.qty+1);t(v1({id:f.id,variantID:f.variantID,qty:g}))},children:y.jsx(CP,{className:" dark:!text-stone-50 size-4"})})]}),y.jsxs("figure",{className:" order-3 col-span-1 row-span-2 lg:order-3 lg:row-span-2 flex gap-1 items-baseline",children:[y.jsx("p",{className:" text-right min-w-12 price font-bold text-xl",children:xi(f.currency,i,f.price*f.qty*f.discount)}),y.jsx("p",{className:" ml-1",children:i})]})]})]},d)):"",n.length==0?"":y.jsxs("div",{className:" justify-end flex items-baseline gap-2 my-4 w-full lg:w-8/10 mx-auto",children:[y.jsx("p",{children:"小計"}),y.jsx("p",{className:"text-xl font-bold text-orange-900 dark:text-orange-300",children:Math.round(u)}),y.jsx("p",{children:i})]}),n.length==0?"":y.jsx("button",{className:"w-full lg:w-8/10 mx-auto",onClick:h,children:"前往結帳"})]})]})}function JG(){return y.jsxs(y.Fragment,{children:[y.jsx(ei,{children:y.jsx("title",{children:"購物車"})}),y.jsx(ti,{}),y.jsx(WG,{}),y.jsx(ni,{})]})}var l0,tC;function ZG(){if(tC)return l0;tC=1,l0={compareTwoStrings:t,findBestMatch:e};function t(i,s){if(i=i.replace(/\s+/g,""),s=s.replace(/\s+/g,""),i===s)return 1;if(i.length<2||s.length<2)return 0;let o=new Map;for(let h=0;h<i.length-1;h++){const f=i.substring(h,h+2),d=o.has(f)?o.get(f)+1:1;o.set(f,d)}let u=0;for(let h=0;h<s.length-1;h++){const f=s.substring(h,h+2),d=o.has(f)?o.get(f):0;d>0&&(o.set(f,d-1),u++)}return 2*u/(i.length+s.length-2)}function e(i,s){if(!n(i,s))throw new Error("Bad arguments: First argument should be a string, second should be an array of strings");const o=[];let u=0;for(let f=0;f<s.length;f++){const d=s[f],g=t(i,d);o.push({target:d,rating:g}),g>o[u].rating&&(u=f)}const h=o[u];return{ratings:o,bestMatch:h,bestMatchIndex:u}}function n(i,s){return!(typeof i!="string"||!Array.isArray(s)||!s.length||s.find(function(o){return typeof o!="string"}))}return l0}var nk=ZG();function eK(t){const{item:e,isDiscount:n,selectedVariantId:i,nowPrice:s}=t,o=cn(ys);return y.jsxs("div",{className:" w-6/10 md:w-1/2 p-4 bg-stone-50 dark:bg-stone-700 shadow-lg rounded-md flex flex-col justify-between",children:[y.jsxs("div",{children:[y.jsxs("div",{className:" flex flex-col sm:flex-row sm:justify-between items-center text-nowrap md:text-xs lg:text-base",children:[n?y.jsxs("p",{className:" order-2 sm:order-0 text-orange-700 dark:text-orange-400 font-bold w-full",children:["特價至",e.discount_end.replaceAll("-","/")]}):y.jsx("p",{children:"這個商品暫時沒有特價..."}),n?y.jsx("span",{className:" text-stone-50 bg-orange-700 dark:bg-orange-400 px-2 rounded-sm h-[1.5rem] mt-0.5 pt-0.5 font-normal text-sm w-full sm:w-auto",children:`${100-e.discount*100}% off`}):y.jsx(y.Fragment,{})]}),y.jsx("hr",{className:"my-2 w-full"})]}),y.jsxs("div",{className:" w-full",children:[y.jsxs("div",{className:"w-full grid grid-cols-2 text-lg md:text-right",children:[y.jsx("p",{className:" text-nowrap text-left",children:"原始價格"}),y.jsxs("p",{className:" text-right",children:[su(e.currency,e.variants[i].price),o]}),y.jsxs("p",{className:" col-span-2 grid-cols-subgrid text-right text-sm text-stone-600 dark:text-stone-400",children:[e.variants[i].price,e.currency]})]}),y.jsxs("div",{className:"w-full grid grid-cols-2 text-lg md:text-right items-baseline",children:[y.jsx("p",{className:" text-nowrap text-left",children:"當前價格"}),y.jsxs("div",{className:" flex items-baseline justify-end",children:[y.jsx("p",{className:" text-2xl font-bold price",children:o=="USD"?(su(e.currency,e.variants[i].price)*e.discount).toFixed(2):Math.round(su(e.currency,e.variants[i].price)*e.discount)}),y.jsx("p",{className:"ml-1 text-right",children:o})]}),y.jsxs("p",{className:" col-span-2 grid-cols-subgrid text-right text-sm text-stone-600 dark:text-stone-400",children:[Math.round(e.variants[i].price*e.discount),e.currency]})]})]})]})}function tK(t){const e=wi(),n=ii(),i=Si(),{item:s,selectedVariantId:o,qty:u,outOfStock:h}=t,f=()=>{e(FM({type:s.itemType,id:s.id,title:s.title,variantID:s.variants[o].id,variantName:s.variants[o].name,image:s.variants[o].image||s.images[0],price:s.variants[o].price,stock:s.variants[o].stock,currency:s.currency,discount:s.discount,qty:u}));const d=n.pathname;i(`${d}?reason=addtoCart`)};return y.jsxs("button",{className:" w-full !rounded-sm flex justify-center gap-4 disabled:!bg-stone-500",disabled:!!h,onClick:f,children:[y.jsx(RT,{}),"加入購物車"]})}function nK(){const t=B_(),e=ga.find(P=>P.id===parseInt(t.id)),[n,i]=I.useState(0),[s,o]=I.useState(0),[u,h]=I.useState(e.likes),f=e.variants[n].stock<=0,d=e.discount!==1,[g,_]=I.useState(e.variants[n].stock>0?1:0),[T,x]=I.useState(!1),S=[];let N=0;e.images.forEach(P=>{P&&(S.push(P),N++)}),e.variants.forEach(P=>{P.image&&S.push(P.image)});const R=I.useRef([]);I.useEffect(()=>{const P=R.current[s];P&&P.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[s]);const k=P=>{const j=Number(P.target.value);i(j),o(S.length==N?s:N+j)},U=()=>{_(P=>Math.max(1,P-1))},V=()=>{_(P=>Math.min(e.variants[n].stock,P+1))},$=ga.map(P=>P.title),A=nk.findBestMatch(e.title,$),M=ga.map((P,j)=>({...P,similarity:A.ratings[j].rating})).filter(P=>P.id!==e.id&&P.similarity>0).sort((P,j)=>j.similarity-P.similarity).slice(0,3),C=()=>{u==e.likes?(h(P=>P+1),x(!0)):(h(P=>P-1),x(!1))};return y.jsxs("main",{className:" main w-screen overflow-hidden",children:[y.jsx(ei,{children:y.jsxs("title",{children:[e.title," - Hash·Buy"]})}),y.jsxs("div",{className:"max-w-screen-xl mx-auto px-10",children:[y.jsx("div",{className:"breadcrumbs text-sm mb-4",children:y.jsxs("ul",{children:[y.jsx("li",{children:y.jsx(We,{to:"/",children:"首頁"})}),y.jsx("li",{children:y.jsx(We,{to:`/products/category/${encodeURIComponent(e.itemType.trim())}`,children:e.itemType})}),y.jsx("li",{children:e.title})]})}),y.jsxs("div",{className:" flex flex-col md:flex-row",children:[y.jsxs("div",{className:"relative flex flex-col w-full md:w-2/5 ",children:[y.jsx("figure",{className:"aspect-square overflow-hidden rounded-xl border border-stone-500 bg-stone-500/50",children:y.jsx("img",{src:`/images/${e.id}/${S[s]}`,alt:"",className:"w-full h-full object-contain object-center"})}),y.jsxs("div",{className:" relative flex items-center gap-2 w-full mt-4",children:[y.jsx("button",{className:"btn !py-2 !px-0 h-full !bg-stone-300 dark:!bg-stone-600 dark:!text-stone-50 !shadow-none",onClick:()=>o(P=>(P-1+S.length)%S.length),children:y.jsx(qq,{})}),y.jsx("div",{className:" flex h-20 overflow-x-scroll no-scrollbar gap-2 bg-stone-50 dark:bg-stone-700 p-2 rounded-xl shadow-lg flex-1",children:S.map((P,j)=>y.jsx("img",{ref:F=>R.current[j]=F,src:"/images/"+e.id+"/"+P,onClick:()=>o(j),className:` aspect-square bg-stone-300 dark:bg-stone-500 object-cover object-center rounded-lg cursor-pointer hover:border-2 hover:border-orange-300 ${s===j?"border-2 border-stone-300":"border-0"}`},j))}),y.jsx("button",{className:"btn !py-2 !px-0 h-full !bg-stone-300 dark:!bg-stone-600 dark:!text-stone-50 !shadow-none",onClick:()=>o(P=>(P+1)%S.length),children:y.jsx(Gq,{})})]})]}),y.jsxs("div",{className:" py-4 info-gird-area w-full md:w-3/5 md:pl-10",children:[y.jsx("h2",{className:"info-title text-xl font-bold min-h-[3rem] leading-snug",children:e.title}),y.jsxs("div",{className:" relative info-main flex justify-between",children:[y.jsxs("div",{className:" w-5/10 lg:w-6/10 mt-4",children:[y.jsxs("p",{className:"font-bold",children:["by ",e.creator]}),y.jsxs("p",{className:"text-sm text-stone-600 dark:text-stone-400",children:[e.release_date.replaceAll("-","/")," 推出"]}),y.jsx("select",{defaultValue:e.variants[0].name,disabled:e.variants.length==1,className:" absolute select w-1/3 lg:w-1/2 bottom-0 bg-stone-50 dark:bg-stone-700 ",onChange:k,children:e.variants.map(P=>y.jsxs("option",{value:P.id-1,children:[P.name,P.stock==0?"【缺貨】":""]},P.id))})]}),y.jsx(eK,{item:e,isDiscount:d,selectedVariantId:n})]}),y.jsxs("div",{className:"info-bottom mt-4",children:[y.jsxs("div",{className:" flex justify-between mb-8 ",children:[e.itemType!=="3D模型"?y.jsxs("div",{className:" inline-flex w-1/4 rounded-sm",children:[y.jsx("button",{className:" btn !p-2 no-round !rounded-l-md !rounded-r-none !bg-stone-200 dark:!bg-stone-700 !shadow-none !px-0 w-1/4",disabled:!!f,onClick:U,children:y.jsx(RP,{className:" dark:!text-stone-50"})}),y.jsx("div",{className:"flex items-center w-1/2 bg-stone-50 dark:bg-stone-600",children:y.jsx("p",{className:" text-center w-full",children:f?0:g})}),y.jsx("button",{className:" btn !p-2 no-round !rounded-r-sm !rounded-l-none !bg-stone-200 dark:!bg-stone-700 !shadow-none !px-0 w-1/4",disabled:!!f,onClick:V,children:y.jsx(CP,{className:" dark:!text-stone-50"})})]}):y.jsx("div",{className:" inline-flex w-1/3 rounded-sm text-stone-600 border p-2 cursor-not-allowed",children:y.jsx("p",{className:" w-full text-center",children:"數位商品不提供複數購買"})}),y.jsxs("div",{className:" flex items-center gap-2",children:[y.jsx("p",{className:" text-lg text-right",children:u}),y.jsxs("label",{className:"cursor-pointer swap swap-flip",children:[y.jsx("input",{type:"checkbox",onChange:C}),y.jsx(jR,{fill:"none",className:"size-8 text-orange-900 dark:text-orange-300 swap-off"}),y.jsx(jR,{fill:"currentColor",className:"size-8 text-orange-900 dark:text-orange-300 swap-on"})]})]})]}),y.jsx(tK,{item:e,selectedVariantId:n,outOfStock:f,qty:g}),y.jsx("div",{className:" mt-15 bg-stone-300 w-full h-25 p-4",children:y.jsx("p",{className:" text-2xl text-center",children:"歡迎廣告置入"})})]})]})]}),y.jsxs("div",{className:"mt-10 flex flex-col md:flex-row gap-4",children:[y.jsxs("div",{className:" w-full md:w-2/3",children:[y.jsx("h3",{className:"text-xl font-bold text-orange-900 dark:text-orange-300 mb-2",children:"簡介"}),y.jsx("div",{className:"whitespace-pre-wrap overflow-y-auto",children:y.jsx("p",{children:e.description})})]}),y.jsxs("div",{className:" w-full flex flex-col md:w-1/3",children:[y.jsx("h3",{className:"text-xl font-bold text-orange-900 dark:text-orange-300 mb-2",children:"關聯商品"}),y.jsx("ul",{children:M.map(P=>y.jsx(sf,{id:P.id,image:P.images[0],title:P.title,discount:P.discount,price:P.variants[0].price,currency:P.currency,description:P.description},P.id))})]})]})]})]})}function iK(){return y.jsxs(y.Fragment,{children:[y.jsx(ti,{}),y.jsx(nK,{}),y.jsx(ni,{})]})}function rK(){const t=B_();console.log(t.categoryName);const[e,n]=I.useState([]),[i,s]=I.useState("relative"),o=cn(ys),u=f=>f.trim().toLowerCase().replace(/\s+/g,"").replace(/[^\p{L}\p{N}]/gu,"");I.useEffect(()=>{const d=ga.filter(g=>u(g.itemType)===u(t.categoryName)).sort((g,_)=>new Date(_.release_date)-new Date(g.release_date));n(d)},[t.categoryName]),console.log(e);const h=f=>{s(f);const d=[...e];switch(console.log(d),f){case"newToOld":n(d.sort((g,_)=>new Date(_.release_date)-new Date(g.release_date)));break;case"oldToNew":n(d.sort((g,_)=>new Date(g.release_date)-new Date(_.release_date)));break;case"highToLow":n(d.sort((g,_)=>Math.round(xi(g.currency,o,g.variants[0].price)*g.discount)-Math.round(xi(_.currency,o,_.variants[0].price)*_.discount)));break;case"lowToHigh":n(d.sort((g,_)=>Math.round(xi(_.currency,o,_.variants[0].price)*_.discount)-Math.round(xi(g.currency,o,g.variants[0].price)*g.discount)));break}};return y.jsxs("div",{className:"max-w-screen-xl mx-auto px-10 w-full",children:[y.jsx("h2",{className:" text-lg font-bold my-4 w-full text-center text-orange-900 dark:text-orange-300",children:t.categoryName}),y.jsxs("div",{className:" flex items-center my-4",children:[y.jsx("span",{className:" text-nowrap",children:"使用幣值 : "}),y.jsxs("select",{defaultValue:i,onChange:f=>h(f.target.value),className:"select shadow-none h-8 focus:outline-none ml-1 mt-0.5 border-0 bg-stone-300 dark:bg-stone-600 cursor-pointer",children:[y.jsx("option",{value:"newToOld",className:"dark:bg-stone-600",children:"由新到舊"}),y.jsx("option",{value:"oldToNew",className:"dark:bg-stone-600",children:"由舊到新"}),y.jsx("option",{value:"highToLow",className:" dark:bg-stone-600",children:"由價格低到高"}),y.jsx("option",{value:"lowToHigh",className:" dark:bg-stone-600",children:"由價格高到低"})]})]}),y.jsx("ul",{className:" grid grid-cols-1 lg:grid-cols-2 gap-x-10 gap-y-5",children:e.map(f=>y.jsxs("div",{children:[y.jsx("hr",{className:" border-1 border-stone-200 dark:border-stone-600"}),y.jsx(sf,{id:f.id,image:f.images[0],title:f.title,discount:f.discount,price:f.variants[0].price,currency:f.currency,description:f.description},f.id)]},f.id))})]})}function sK(){return y.jsxs(y.Fragment,{children:[y.jsx(ei,{children:y.jsx("title",{children:"分類"})}),y.jsx(ti,{}),y.jsx(rK,{}),y.jsx(ni,{})]})}const hr=JSON.parse('[{"districts":[{"zip":"100","name":"中正區"},{"zip":"103","name":"大同區"},{"zip":"104","name":"中山區"},{"zip":"105","name":"松山區"},{"zip":"106","name":"大安區"},{"zip":"108","name":"萬華區"},{"zip":"110","name":"信義區"},{"zip":"111","name":"士林區"},{"zip":"112","name":"北投區"},{"zip":"114","name":"內湖區"},{"zip":"115","name":"南港區"},{"zip":"116","name":"文山區"}],"name":"臺北市"},{"districts":[{"zip":"200","name":"仁愛區"},{"zip":"201","name":"信義區"},{"zip":"202","name":"中正區"},{"zip":"203","name":"中山區"},{"zip":"204","name":"安樂區"},{"zip":"205","name":"暖暖區"},{"zip":"206","name":"七堵區"}],"name":"基隆市"},{"districts":[{"zip":"207","name":"萬里區"},{"zip":"208","name":"金山區"},{"zip":"220","name":"板橋區"},{"zip":"221","name":"汐止區"},{"zip":"222","name":"深坑區"},{"zip":"223","name":"石碇區"},{"zip":"224","name":"瑞芳區"},{"zip":"226","name":"平溪區"},{"zip":"227","name":"雙溪區"},{"zip":"228","name":"貢寮區"},{"zip":"231","name":"新店區"},{"zip":"232","name":"坪林區"},{"zip":"233","name":"烏來區"},{"zip":"234","name":"永和區"},{"zip":"235","name":"中和區"},{"zip":"236","name":"土城區"},{"zip":"237","name":"三峽區"},{"zip":"238","name":"樹林區"},{"zip":"239","name":"鶯歌區"},{"zip":"241","name":"三重區"},{"zip":"242","name":"新莊區"},{"zip":"243","name":"泰山區"},{"zip":"244","name":"林口區"},{"zip":"247","name":"蘆洲區"},{"zip":"248","name":"五股區"},{"zip":"249","name":"八里區"},{"zip":"251","name":"淡水區"},{"zip":"252","name":"三芝區"},{"zip":"253","name":"石門區"}],"name":"新北市"},{"districts":[{"zip":"260","name":"宜蘭市"},{"zip":"263","name":"壯圍鄉"},{"zip":"261","name":"頭城鎮"},{"zip":"262","name":"礁溪鄉"},{"zip":"264","name":"員山鄉"},{"zip":"265","name":"羅東鎮"},{"zip":"266","name":"三星鄉"},{"zip":"267","name":"大同鄉"},{"zip":"268","name":"五結鄉"},{"zip":"269","name":"冬山鄉"},{"zip":"270","name":"蘇澳鎮"},{"zip":"272","name":"南澳鄉"},{"zip":"290","name":"釣魚臺"}],"name":"宜蘭縣"},{"districts":[{"zip":"209","name":"南竿鄉"},{"zip":"210","name":"北竿鄉"},{"zip":"211","name":"莒光鄉"},{"zip":"212","name":"東引鄉"}],"name":"連江縣"},{"districts":[{"zip":"300","name":"東區"},{"zip":"300","name":"北區"},{"zip":"300","name":"香山區"}],"name":"新竹市"},{"districts":[{"zip":"308","name":"寶山鄉"},{"zip":"302","name":"竹北市"},{"zip":"303","name":"湖口鄉"},{"zip":"304","name":"新豐鄉"},{"zip":"305","name":"新埔鎮"},{"zip":"306","name":"關西鎮"},{"zip":"307","name":"芎林鄉"},{"zip":"310","name":"竹東鎮"},{"zip":"311","name":"五峰鄉"},{"zip":"312","name":"橫山鄉"},{"zip":"313","name":"尖石鄉"},{"zip":"314","name":"北埔鄉"},{"zip":"315","name":"峨眉鄉"}],"name":"新竹縣"},{"districts":[{"zip":"320","name":"中壢區"},{"zip":"324","name":"平鎮區"},{"zip":"325","name":"龍潭區"},{"zip":"326","name":"楊梅區"},{"zip":"327","name":"新屋區"},{"zip":"328","name":"觀音區"},{"zip":"330","name":"桃園區"},{"zip":"333","name":"龜山區"},{"zip":"334","name":"八德區"},{"zip":"335","name":"大溪區"},{"zip":"336","name":"復興區"},{"zip":"337","name":"大園區"},{"zip":"338","name":"蘆竹區"}],"name":"桃園市"},{"districts":[{"zip":"350","name":"竹南鎮"},{"zip":"351","name":"頭份市"},{"zip":"352","name":"三灣鄉"},{"zip":"353","name":"南庄鄉"},{"zip":"354","name":"獅潭鄉"},{"zip":"356","name":"後龍鎮"},{"zip":"357","name":"通霄鎮"},{"zip":"358","name":"苑裡鎮"},{"zip":"360","name":"苗栗市"},{"zip":"361","name":"造橋鄉"},{"zip":"362","name":"頭屋鄉"},{"zip":"363","name":"公館鄉"},{"zip":"364","name":"大湖鄉"},{"zip":"365","name":"泰安鄉"},{"zip":"366","name":"銅鑼鄉"},{"zip":"367","name":"三義鄉"},{"zip":"368","name":"西湖鄉"},{"zip":"369","name":"卓蘭鎮"}],"name":"苗栗縣"},{"districts":[{"zip":"400","name":"中區"},{"zip":"401","name":"東區"},{"zip":"402","name":"南區"},{"zip":"403","name":"西區"},{"zip":"404","name":"北區"},{"zip":"406","name":"北屯區"},{"zip":"407","name":"西屯區"},{"zip":"408","name":"南屯區"},{"zip":"411","name":"太平區"},{"zip":"412","name":"大里區"},{"zip":"413","name":"霧峰區"},{"zip":"414","name":"烏日區"},{"zip":"420","name":"豐原區"},{"zip":"421","name":"后里區"},{"zip":"422","name":"石岡區"},{"zip":"423","name":"東勢區"},{"zip":"424","name":"和平區"},{"zip":"426","name":"新社區"},{"zip":"427","name":"潭子區"},{"zip":"428","name":"大雅區"},{"zip":"429","name":"神岡區"},{"zip":"432","name":"大肚區"},{"zip":"433","name":"沙鹿區"},{"zip":"434","name":"龍井區"},{"zip":"435","name":"梧棲區"},{"zip":"436","name":"清水區"},{"zip":"437","name":"大甲區"},{"zip":"438","name":"外埔區"},{"zip":"439","name":"大安區"}],"name":"臺中市"},{"districts":[{"zip":"500","name":"彰化市"},{"zip":"502","name":"芬園鄉"},{"zip":"503","name":"花壇鄉"},{"zip":"504","name":"秀水鄉"},{"zip":"505","name":"鹿港鎮"},{"zip":"506","name":"福興鄉"},{"zip":"507","name":"線西鄉"},{"zip":"508","name":"和美鎮"},{"zip":"509","name":"伸港鄉"},{"zip":"510","name":"員林市"},{"zip":"511","name":"社頭鄉"},{"zip":"512","name":"永靖鄉"},{"zip":"513","name":"埔心鄉"},{"zip":"514","name":"溪湖鎮"},{"zip":"515","name":"大村鄉"},{"zip":"516","name":"埔鹽鄉"},{"zip":"520","name":"田中鎮"},{"zip":"521","name":"北斗鎮"},{"zip":"522","name":"田尾鄉"},{"zip":"523","name":"埤頭鄉"},{"zip":"524","name":"溪州鄉"},{"zip":"525","name":"竹塘鄉"},{"zip":"526","name":"二林鎮"},{"zip":"527","name":"大城鄉"},{"zip":"528","name":"芳苑鄉"},{"zip":"530","name":"二水鄉"}],"name":"彰化縣"},{"districts":[{"zip":"540","name":"南投市"},{"zip":"541","name":"中寮鄉"},{"zip":"542","name":"草屯鎮"},{"zip":"544","name":"國姓鄉"},{"zip":"545","name":"埔里鎮"},{"zip":"546","name":"仁愛鄉"},{"zip":"551","name":"名間鄉"},{"zip":"552","name":"集集鎮"},{"zip":"553","name":"水里鄉"},{"zip":"555","name":"魚池鄉"},{"zip":"556","name":"信義鄉"},{"zip":"557","name":"竹山鎮"},{"zip":"558","name":"鹿谷鄉"}],"name":"南投縣"},{"districts":[{"zip":"600","name":"西區"},{"zip":"600","name":"東區"}],"name":"嘉義市"},{"districts":[{"zip":"602","name":"番路鄉"},{"zip":"603","name":"梅山鄉"},{"zip":"604","name":"竹崎鄉"},{"zip":"605","name":"阿里山鄉"},{"zip":"606","name":"中埔鄉"},{"zip":"607","name":"大埔鄉"},{"zip":"608","name":"水上鄉"},{"zip":"611","name":"鹿草鄉"},{"zip":"612","name":"太保市"},{"zip":"613","name":"朴子市"},{"zip":"614","name":"東石鄉"},{"zip":"615","name":"六腳鄉"},{"zip":"616","name":"新港鄉"},{"zip":"621","name":"民雄鄉"},{"zip":"622","name":"大林鎮"},{"zip":"623","name":"溪口鄉"},{"zip":"624","name":"義竹鄉"},{"zip":"625","name":"布袋鎮"}],"name":"嘉義縣"},{"districts":[{"zip":"630","name":"斗南鎮"},{"zip":"631","name":"大埤鄉"},{"zip":"632","name":"虎尾鎮"},{"zip":"633","name":"土庫鎮"},{"zip":"634","name":"褒忠鄉"},{"zip":"635","name":"東勢鄉"},{"zip":"636","name":"臺西鄉"},{"zip":"637","name":"崙背鄉"},{"zip":"638","name":"麥寮鄉"},{"zip":"640","name":"斗六市"},{"zip":"643","name":"林內鄉"},{"zip":"646","name":"古坑鄉"},{"zip":"647","name":"莿桐鄉"},{"zip":"648","name":"西螺鎮"},{"zip":"649","name":"二崙鄉"},{"zip":"651","name":"北港鎮"},{"zip":"652","name":"水林鄉"},{"zip":"653","name":"口湖鄉"},{"zip":"654","name":"四湖鄉"},{"zip":"655","name":"元長鄉"}],"name":"雲林縣"},{"districts":[{"zip":"700","name":"中西區"},{"zip":"701","name":"東區"},{"zip":"702","name":"南區"},{"zip":"704","name":"北區"},{"zip":"708","name":"安平區"},{"zip":"709","name":"安南區"},{"zip":"710","name":"永康區"},{"zip":"711","name":"歸仁區"},{"zip":"712","name":"新化區"},{"zip":"713","name":"左鎮區"},{"zip":"714","name":"玉井區"},{"zip":"715","name":"楠西區"},{"zip":"716","name":"南化區"},{"zip":"717","name":"仁德區"},{"zip":"718","name":"關廟區"},{"zip":"719","name":"龍崎區"},{"zip":"720","name":"官田區"},{"zip":"721","name":"麻豆區"},{"zip":"722","name":"佳里區"},{"zip":"723","name":"西港區"},{"zip":"724","name":"七股區"},{"zip":"725","name":"將軍區"},{"zip":"726","name":"學甲區"},{"zip":"727","name":"北門區"},{"zip":"730","name":"新營區"},{"zip":"731","name":"後壁區"},{"zip":"732","name":"白河區"},{"zip":"733","name":"東山區"},{"zip":"734","name":"六甲區"},{"zip":"735","name":"下營區"},{"zip":"736","name":"柳營區"},{"zip":"737","name":"鹽水區"},{"zip":"741","name":"善化區"},{"zip":"744","name":"新市區"},{"zip":"742","name":"大內區"},{"zip":"743","name":"山上區"},{"zip":"745","name":"安定區"}],"name":"臺南市"},{"districts":[{"zip":"800","name":"新興區"},{"zip":"801","name":"前金區"},{"zip":"802","name":"苓雅區"},{"zip":"803","name":"鹽埕區"},{"zip":"804","name":"鼓山區"},{"zip":"805","name":"旗津區"},{"zip":"806","name":"前鎮區"},{"zip":"807","name":"三民區"},{"zip":"811","name":"楠梓區"},{"zip":"812","name":"小港區"},{"zip":"813","name":"左營區"},{"zip":"814","name":"仁武區"},{"zip":"815","name":"大社區"},{"zip":"817","name":"東沙群島"},{"zip":"819","name":"南沙群島"},{"zip":"820","name":"岡山區"},{"zip":"821","name":"路竹區"},{"zip":"822","name":"阿蓮區"},{"zip":"823","name":"田寮區"},{"zip":"824","name":"燕巢區"},{"zip":"825","name":"橋頭區"},{"zip":"826","name":"梓官區"},{"zip":"827","name":"彌陀區"},{"zip":"828","name":"永安區"},{"zip":"829","name":"湖內區"},{"zip":"830","name":"鳳山區"},{"zip":"831","name":"大寮區"},{"zip":"832","name":"林園區"},{"zip":"833","name":"鳥松區"},{"zip":"840","name":"大樹區"},{"zip":"842","name":"旗山區"},{"zip":"843","name":"美濃區"},{"zip":"844","name":"六龜區"},{"zip":"845","name":"內門區"},{"zip":"846","name":"杉林區"},{"zip":"847","name":"甲仙區"},{"zip":"848","name":"桃源區"},{"zip":"849","name":"那瑪夏區"},{"zip":"851","name":"茂林區"},{"zip":"852","name":"茄萣區"}],"name":"高雄市"},{"districts":[{"zip":"900","name":"屏東市"},{"zip":"901","name":"三地門鄉"},{"zip":"902","name":"霧臺鄉"},{"zip":"903","name":"瑪家鄉"},{"zip":"904","name":"九如鄉"},{"zip":"905","name":"里港鄉"},{"zip":"906","name":"高樹鄉"},{"zip":"907","name":"鹽埔鄉"},{"zip":"908","name":"長治鄉"},{"zip":"909","name":"麟洛鄉"},{"zip":"911","name":"竹田鄉"},{"zip":"912","name":"內埔鄉"},{"zip":"913","name":"萬丹鄉"},{"zip":"920","name":"潮州鎮"},{"zip":"921","name":"泰武鄉"},{"zip":"922","name":"來義鄉"},{"zip":"923","name":"萬巒鄉"},{"zip":"924","name":"崁頂鄉"},{"zip":"925","name":"新埤鄉"},{"zip":"926","name":"南州鄉"},{"zip":"927","name":"林邊鄉"},{"zip":"928","name":"東港鎮"},{"zip":"929","name":"琉球鄉"},{"zip":"931","name":"佳冬鄉"},{"zip":"932","name":"新園鄉"},{"zip":"940","name":"枋寮鄉"},{"zip":"941","name":"枋山鄉"},{"zip":"942","name":"春日鄉"},{"zip":"943","name":"獅子鄉"},{"zip":"944","name":"車城鄉"},{"zip":"945","name":"牡丹鄉"},{"zip":"946","name":"恆春鎮"},{"zip":"947","name":"滿州鄉"}],"name":"屏東縣"},{"districts":[{"zip":"950","name":"臺東市"},{"zip":"951","name":"綠島鄉"},{"zip":"952","name":"蘭嶼鄉"},{"zip":"953","name":"延平鄉"},{"zip":"954","name":"卑南鄉"},{"zip":"955","name":"鹿野鄉"},{"zip":"956","name":"關山鎮"},{"zip":"957","name":"海端鄉"},{"zip":"958","name":"池上鄉"},{"zip":"959","name":"東河鄉"},{"zip":"961","name":"成功鎮"},{"zip":"962","name":"長濱鄉"},{"zip":"963","name":"太麻里鄉"},{"zip":"964","name":"金峰鄉"},{"zip":"965","name":"大武鄉"},{"zip":"966","name":"達仁鄉"}],"name":"臺東縣"},{"districts":[{"zip":"970","name":"花蓮市"},{"zip":"971","name":"新城鄉"},{"zip":"972","name":"秀林鄉"},{"zip":"973","name":"吉安鄉"},{"zip":"974","name":"壽豐鄉"},{"zip":"975","name":"鳳林鎮"},{"zip":"976","name":"光復鄉"},{"zip":"977","name":"豐濱鄉"},{"zip":"978","name":"瑞穗鄉"},{"zip":"979","name":"萬榮鄉"},{"zip":"981","name":"玉里鎮"},{"zip":"982","name":"卓溪鄉"},{"zip":"983","name":"富里鄉"}],"name":"花蓮縣"},{"districts":[{"zip":"880","name":"馬公市"},{"zip":"881","name":"西嶼鄉"},{"zip":"882","name":"望安鄉"},{"zip":"883","name":"七美鄉"},{"zip":"884","name":"白沙鄉"},{"zip":"885","name":"湖西鄉"}],"name":"澎湖縣"},{"districts":[{"zip":"890","name":"金沙鎮"},{"zip":"891","name":"金湖鎮"},{"zip":"892","name":"金寧鄉"},{"zip":"893","name":"金城鎮"},{"zip":"894","name":"烈嶼鄉"},{"zip":"896","name":"烏坵鄉"}],"name":"金門縣"}]');function aK(){const e=wa.currentUser.uid,n=Si(),i=wi(),s=cn(L_),o=cn(ys),[u,h]=I.useState(null),[f,d]=I.useState({familyName:"",givenName:"",tel:"",email:"",address:"",city:0,district:0}),[g,_]=I.useState({familyName:"",givenName:"",tel:"",email:"",address:"",city:0,district:0}),[T,x]=I.useState({number:"",cvc:"",exp:""}),S=async()=>{if(e)try{const A=Iu(qo,"users",e),q=await QN(A);q.exists()?(h(q.data()),console.log("使用者資料已抓到:",q.data())):console.log("找不到使用者資料")}catch(A){console.error("抓取使用者資料失敗:",A)}};I.useEffect(()=>{S()},[]);const N=s.reduce((A,q)=>A+su(q.currency,Math.round(q.price*q.discount))*q.qty,0),R=()=>{u&&d({familyName:u.familyName||"",givenName:u.givenName||"",tel:u.tel||"",email:u.email||"",address:u.address||"",city:u.cityId||0,district:u.districtId||0})},k=()=>{_(f)},U=A=>A.familyName.trim()!==""&&A.givenName.trim()!==""&&A.tel.trim()!==""&&A.email.trim()!==""&&A.address.trim()!=="",V=A=>{const q=A.number.replace(/\s/g,""),M=A.cvc,C=A.exp,P=/^\d{16}$/.test(q),j=/^\d{3}$/.test(M),F=C.match(/^(\d{2})\/(\d{2})$/),H=!!F&&parseInt(F[1],10)>=1&&parseInt(F[1],10)<=12;return P&&j&&H},$=async()=>{if(!e){console.error("尚未登入");return}if(!U(f)){alert("請完整填寫購買人資料");return}if(!U(g)){alert("請完整填寫收件人資料");return}if(!V(T)){alert("請正確填寫信用卡資料");return}try{const A={userId:e,buyer:f,recipient:g,createdAt:sB(),status:"pending",total:N,currency:o,items:s,payment:{method:"credit_card",creditCard:{number:T.number.replace(/\d{12}(\d{4})/,"**** **** **** $1"),exp:T.exp}}},q=await iB(VN(qo,"orders"),A);console.log("訂單已建立，ID：",q.id),i(HM()),n("/?reason=finishCheckout")}catch(A){console.error("送出訂單時發生錯誤：",A)}};return y.jsx("div",{className:"max-w-screen-xl mx-auto main",children:y.jsxs("div",{className:" w-8/10 bg-stone-50 dark:bg-stone-700 rounded-xl py-4 px-8 mx-auto border border-stone-300 dark:border-stone-600",children:[y.jsx("h3",{className:" text-center text-xl font-bold text-orange-900 dark:text-orange-300 mt-10",children:"結帳"}),y.jsxs("ul",{className:"w-full max-w-[80vw] mx-auto py-5 px-2 md:px-10 my-5",children:[y.jsx("hr",{className:"my-4"}),y.jsx("h4",{className:"text-lg font-bold text-orange-900 dark:text-orange-300 mb-2",children:"訂單商品"}),s.map((A,q)=>y.jsxs("li",{className:"grid grid-cols-[1fr_1fr_auto_50px_auto] grid-rows-2 sm:grid-rows-1 gap-x-4 mb-2",children:[y.jsx("p",{className:"text-nowrap truncate col-span-5 sm:col-span-1",children:A.title}),y.jsx("p",{className:"col-span-2 sm:col-span-1 text-center",children:A.variantName}),y.jsxs("p",{children:[A.qty,"個"]}),y.jsx("p",{className:" text-right",children:su(A.currency,Math.round(A.price*A.discount))}),y.jsx("p",{children:o})]},q)),y.jsxs("li",{className:" w-full text-right flex justify-end items-baseline gap-4 mt-4",children:[y.jsx("p",{children:"小計"}),y.jsx("p",{className:"text-xl font-bold text-orange-900 dark:text-orange-300",children:N}),y.jsx("p",{children:o})]}),y.jsx("hr",{className:"my-4"})]}),y.jsxs("div",{className:" flex flex-col md:flex-row gap-20 max-w-[80vw] mx-auto p-2 md:p-10",children:[y.jsxs("div",{className:" grid grid-cols-4 gap-4 w-full lg:w-1/2",children:[y.jsxs("div",{className:" col-span-4 flex justify-between",children:[y.jsx("h4",{className:"text-lg font-bold text-orange-900 dark:text-orange-300",children:"購買人資訊"}),y.jsx("p",{onClick:R,className:" text-right right-0 col-span-1 text-stone-700 hover:text-stone-600 dark:text-stone-300 dark:hover:text-stone-400 text-nowrap cursor-pointer",children:"匯入會員資料"})]}),y.jsxs("div",{children:[y.jsx("p",{children:"姓"}),y.jsx("input",{name:"familyName",className:" input",value:f.familyName,onChange:A=>d({...f,[A.target.name]:A.target.value})})]}),y.jsxs("div",{className:"col-span-2",children:[y.jsx("p",{children:"名"}),y.jsx("input",{name:"givenName",className:" input",value:f.givenName,onChange:A=>d({...f,[A.target.name]:A.target.value})})]}),y.jsxs("div",{className:"col-span-4",children:[y.jsx("p",{children:"電子信箱"}),y.jsx("input",{name:"email",className:" input w-full",value:f.email,onChange:A=>d({...f,[A.target.name]:A.target.value})})]}),y.jsxs("div",{className:"col-span-4",children:[y.jsx("p",{children:"連絡電話"}),y.jsx("input",{name:"tel",className:" input w-full",value:f.tel,onChange:A=>d({...f,[A.target.name]:A.target.value})})]}),y.jsx("h4",{className:"col-span-4",children:"發票地址"}),y.jsxs("div",{className:"col-span-2",children:[y.jsx("p",{children:"城市"}),y.jsxs("select",{name:"city",value:f.city,className:" select",onChange:A=>d({...f,[A.target.name]:Number(A.target.value)}),children:[y.jsx("option",{disabled:!0,children:"城市"}),hr.map((A,q)=>y.jsx("option",{value:q,children:A.name},q))]})]}),y.jsxs("div",{className:"col-span-2",children:[y.jsx("p",{children:"行政區"}),y.jsxs("select",{name:"district",value:f.district,className:"select",onChange:A=>d({...f,[A.target.name]:Number(A.target.value)}),children:[y.jsx("option",{disabled:!0,children:"行政區"}),hr[f.city].districts.map((A,q)=>y.jsx("option",{value:q,children:A.name},q))]})]}),y.jsx("div",{className:"col-span-4",children:y.jsx("input",{name:"address",className:" input w-full",value:f.address,placeholder:"請輸入詳細地址",onChange:A=>d({...f,[A.target.name]:A.target.value})})})]}),y.jsxs("div",{className:" grid grid-cols-4 gap-4 w-full lg:w-1/2 ",children:[y.jsxs("div",{className:" col-span-4 flex justify-between items-center",children:[y.jsx("h4",{className:"col-span-3 text-lg font-bold text-orange-900 dark:text-orange-300",children:"收件人資訊"}),y.jsx("p",{onClick:k,className:" text-stone-700 hover:text-stone-600 dark:text-stone-300 dark:hover:text-stone-400 text-nowrap cursor-pointer",children:"從購買人同步"})]}),y.jsxs("div",{children:[y.jsx("p",{children:"姓"}),y.jsx("input",{name:"familyName",className:" input",value:g.familyName,onChange:A=>_({...g,[A.target.name]:A.target.value})})]}),y.jsxs("div",{className:"col-span-2",children:[y.jsx("p",{children:"名"}),y.jsx("input",{name:"givenName",className:" input",value:g.givenName,onChange:A=>_({...g,[A.target.name]:A.target.value})})]}),y.jsxs("div",{className:"col-span-4",children:[y.jsx("p",{children:"電子信箱"}),y.jsx("input",{name:"email",className:" input w-full",value:g.email,onChange:A=>_({...g,[A.target.name]:A.target.value})})]}),y.jsxs("div",{className:"col-span-4",children:[y.jsx("p",{children:"連絡電話"}),y.jsx("input",{name:"tel",className:" input w-full",value:g.tel,onChange:A=>_({...g,[A.target.name]:A.target.value})})]}),y.jsx("h4",{className:"col-span-4",children:"收件地址"}),y.jsxs("div",{className:"col-span-2",children:[y.jsx("p",{children:"城市"}),y.jsxs("select",{name:"city",value:g.city,className:" select",onChange:A=>_({...g,[A.target.name]:Number(A.target.value)}),children:[y.jsx("option",{disabled:!0,children:"城市"}),hr.map((A,q)=>y.jsx("option",{value:q,children:A.name},q))]})]}),y.jsxs("div",{className:"col-span-2",children:[y.jsx("p",{children:"行政區"}),y.jsxs("select",{name:"district",value:g.district,className:"select",onChange:A=>d({...g,[A.target.name]:Number(A.target.value)}),children:[y.jsx("option",{disabled:!0,children:"行政區"}),hr[g.city].districts.map((A,q)=>y.jsx("option",{value:q,children:A.name},q))]})]}),y.jsx("div",{className:"col-span-4",children:y.jsx("input",{name:"address",className:" input w-full",value:g.address,placeholder:"請輸入詳細地址",onChange:A=>_({...g,[A.target.name]:A.target.value})})})]})]}),y.jsxs("div",{className:"max-w-[80vw] mx-auto py-5 px-2 md:p-10 my-5 flex flex-col gap-2",children:[y.jsx("h4",{className:"text-lg font-bold text-orange-900 dark:text-orange-300 mb-2",children:"取貨方式"}),y.jsxs("label",{className:" flex gap-4 items-center ml-5",children:[y.jsx("input",{type:"checkbox",checked:!0,onChange:()=>"",className:"checkbox border-stone-300 bg-stone-50 dark:border-stone-600 dark:bg-stone-800 checked:bg-orange-300 checked:text-orange-900 checked:border-orange-300 "}),y.jsx("p",{className:"h-[1.5rem]",children:"宅配"})]})]}),y.jsxs("div",{className:" grid grid-cols-3 gap-4 w-full max-w-[80vw] mx-auto p-2 md:p-10",children:[y.jsx("h4",{className:"col-span-3 text-lg font-bold text-orange-900 dark:text-orange-300 grid-cols-3",children:"付款資訊"}),y.jsxs("div",{className:"col-span-3 md:col-span-1",children:[y.jsx("p",{children:"信用卡卡號"}),y.jsx("input",{type:"text",name:"cc-number",placeholder:"1234 5678 9012 3456",maxLength:19,className:"input w-full",value:T.number,onChange:A=>{let q=A.target.value.replace(/\D/g,"");q.length>16&&(q=q.slice(0,16));const M=q.replace(/(.{4})/g,"$1 ").trim();x(C=>({...C,number:M}))}})]}),y.jsxs("div",{className:"col-span-1",children:[y.jsx("p",{children:"安全碼"}),y.jsx("input",{type:"text",name:"cc-csc",placeholder:"CVC",maxLength:3,className:"input w-full",value:T.cvc,onChange:A=>{const q=A.target.value.replace(/\D/g,"").slice(0,3);x(M=>({...M,cvc:q}))}})]}),y.jsxs("div",{className:"col-span-1",children:[y.jsx("p",{children:"有效日期"}),y.jsx("input",{type:"text",name:"cc-exp",placeholder:"MM/YY",maxLength:5,className:"input w-full",value:T.exp,onChange:A=>{let q=A.target.value.replace(/\D/g,"");q.length>4&&(q=q.slice(0,4)),q.length>=3&&(q=`${q.slice(0,2)}/${q.slice(2)}`),x(M=>({...M,exp:q}))}})]})]}),y.jsxs("button",{className:"w-full max-w-[80vw] mx-auto my-15",onClick:$,children:["確認付款　",N,o]})]})})}function oK(){return y.jsxs(y.Fragment,{children:[y.jsx(ei,{children:y.jsx("title",{children:"結帳"})}),y.jsx(ti,{}),y.jsx(aK,{}),y.jsx(ni,{})]})}function lK(){const t=wi(),e=Si(),n=B_(),[i,s]=I.useState([]),[o,u]=I.useState("relative"),[h,f]=I.useState(""),d=I.useRef(),g=cn(NC),_=cn(ys);I.useEffect(()=>{const S=n.keyword.toLowerCase().trim(),N=ga.map(A=>A.title),R=nk.findBestMatch(S,N.map(A=>A.toLowerCase())),k=ga.map((A,q)=>({...A,similarity:R.ratings[q].rating})),U=k.filter(A=>A.title.toLowerCase().includes(S)),V=k.filter(A=>!A.title.toLowerCase().includes(S)&&A.similarity>.01).sort((A,q)=>q.similarity-A.similarity),$=[...U,...V];s($),f("")},[n.keyword]);const T=S=>{S.preventDefault(),h.trim()!==""&&(t(DC(h)),e(`/results/${encodeURIComponent(h.trim())}`))},x=S=>{u(S);const N=[...i];switch(console.log(N),S){case"relative":s(N.sort((R,k)=>k.similarity-R.similarity));break;case"newToOld":similarItems,s(N.sort((R,k)=>new Date(k.release_date)-new Date(R.release_date)));break;case"oldToNew":s(N.sort((R,k)=>new Date(R.release_date)-new Date(k.release_date)));break;case"highToLow":s(N.sort((R,k)=>Math.round(xi(R.currency,_,R.variants[0].price)*R.discount)-Math.round(xi(k.currency,_,k.variants[0].price)*k.discount)));break;case"lowToHigh":s(N.sort((R,k)=>Math.round(xi(k.currency,_,k.variants[0].price)*k.discount)-Math.round(xi(R.currency,_,R.variants[0].price)*R.discount)));break}};return y.jsxs("div",{className:"max-w-screen-xl mx-auto px-10 w-full",children:[y.jsxs("form",{onSubmit:T,className:" flex flex-col mt-10 mb-5 w-full gap-4",children:[y.jsxs("div",{className:"flex",children:[y.jsx("label",{className:"input bg-stone-50 border-0 dark:bg-stone-700 w-full",children:y.jsx("input",{type:"search",ref:d,value:h,onChange:S=>f(S.target.value),required:!0,placeholder:n.keyword,className:" text-stone-900 font-bold dark:text-stone-50"})}),y.jsx("button",{className:" !px-5 !py-0 ml-4",children:y.jsx(C_,{size:"30",className:" text-orange-900"})})]}),y.jsxs("ul",{className:" flex items-center text-stone-900 dark:text-stone-50",children:[y.jsx("li",{className:"",children:"搜尋歷史："}),g.map((S,N)=>y.jsx("li",{children:y.jsx(We,{to:`/results/${S}`,className:"block px-3 py-1 rounded hover:bg-stone-300 dark:hover:bg-stone-600",children:S})},N))]}),y.jsxs("div",{className:" flex items-center",children:[y.jsx("span",{className:" text-nowrap",children:"顯示排序 : "}),y.jsxs("select",{defaultValue:o,onChange:S=>x(S.target.value),className:"select shadow-none h-8 focus:outline-none ml-1 mt-0.5 border-0 bg-stone-300 dark:bg-stone-600 cursor-pointer",children:[y.jsx("option",{value:"relative",className:"dark:bg-stone-600",children:"關聯性"}),y.jsx("option",{value:"newToOld",className:"dark:bg-stone-600",children:"由新到舊"}),y.jsx("option",{value:"oldToNew",className:"dark:bg-stone-600",children:"由舊到新"}),y.jsx("option",{value:"highToLow",className:" dark:bg-stone-600",children:"由價格低到高"}),y.jsx("option",{value:"lowToHigh",className:" dark:bg-stone-600",children:"由價格高到低"})]})]})]}),y.jsx("ul",{className:" grid grid-cols-1 lg:grid-cols-2 gap-10",children:i.map(S=>y.jsxs("div",{children:[y.jsx("hr",{className:" border-1 border-stone-200 dark:border-stone-600"}),y.jsx(sf,{id:S.id,image:S.images[0],title:S.title,discount:S.discount,price:S.variants[0].price,currency:S.currency},S.id)]},S.id))})]})}function uK(){return y.jsxs(y.Fragment,{children:[y.jsx(ei,{children:y.jsx("title",{children:"搜尋"})}),y.jsx(ti,{}),y.jsx(lK,{}),y.jsx(ni,{})]})}function cK(){return y.jsx("div",{className:" main max-w-screen-xl mx-auto",children:y.jsxs("div",{class:"shopping-info text-sm leading-relaxed",children:[y.jsx("h2",{class:"text-lg font-bold text-orange-900 dark:text-orange-300 mb-4",children:"購物須知 FAQ"}),y.jsxs("div",{children:[y.jsx("p",{class:"font-semibold",children:"Q1. 我下單後會收到什麼通知？"}),y.jsx("p",{children:"商品出貨後會寄送電子郵件通知至顧客所填寫的購買人信箱，顧客可以使用郵件內提供的物流單號查詢運送進度。"}),y.jsx("p",{children:"若購買的商品為數位內容，則會在訂單完成後 30 分鐘內將檔案寄送至結帳時所填寫的收件人信箱。"})]}),y.jsx("hr",{class:"my-4 border-stone-300 dark:border-stone-600"}),y.jsxs("div",{children:[y.jsx("p",{class:"font-semibold",children:"Q2. 支援哪些付款方式？"}),y.jsx("p",{children:"我們目前支援以下付款方式："}),y.jsx("ul",{class:"list-disc list-inside",children:y.jsx("li",{children:"信用卡（Visa / MasterCard / JCB）"})}),y.jsx("p",{children:"付款資訊會在結帳時詳細列出，請於時限內完成付款以確保訂單成立。"})]}),y.jsx("hr",{class:"my-4 border-stone-300 dark:border-stone-600"}),y.jsxs("div",{children:[y.jsx("p",{class:"font-semibold",children:"Q3. 出貨時間需要多久？"}),y.jsxs("p",{children:["實體商品通常會在付款完成後的 ",y.jsx("strong",{children:"2～3 個工作天內出貨"}),"（不含例假日），如遇預購商品或特殊活動，請以商品頁面標示為準。"]}),y.jsxs("p",{children:["數位內容則會於訂單完成後 ",y.jsx("strong",{children:"自動寄送至信箱"}),"，不另提供實體光碟或郵寄。"]})]}),y.jsx("hr",{class:"my-4 border-stone-300 dark:border-stone-600"}),y.jsxs("div",{children:[y.jsx("p",{class:"font-semibold",children:"Q4. 物流配送範圍為？"}),y.jsx("p",{children:"除數位商品外目前僅提供台灣本島的配送服務。離島或海外地址暫不開放，如有特殊需求請聯絡客服。"})]}),y.jsx("hr",{class:"my-4 border-stone-300 dark:border-stone-600"}),y.jsxs("div",{children:[y.jsx("p",{class:"font-semibold",children:"Q5. 可以修改或取消訂單嗎？"}),y.jsxs("p",{children:["若訂單尚未出貨，請盡快聯絡客服協助處理。",y.jsx("br",{}),"訂單出貨後即無法取消或更改內容。",y.jsx("br",{}),"數位內容一經發送，恕無法修改或退費，請務必確認訂單資訊正確。"]})]}),y.jsx("hr",{class:"my-4 border-stone-300 dark:border-stone-600"}),y.jsxs("div",{children:[y.jsx("p",{class:"font-semibold",children:"Q6. 商品有提供退換貨服務嗎？"}),y.jsxs("p",{children:["除非商品有重大瑕疵或出貨錯誤，一般情況下恕不接受退換貨。",y.jsx("br",{}),"收到商品後若有問題，請於 7 日內聯絡我們，並提供訂單編號與商品照片，我們將盡快協助處理。"]})]}),y.jsx("hr",{class:"my-4 border-stone-300 dark:border-stone-600"}),y.jsxs("div",{children:[y.jsx("p",{class:"font-semibold",children:"Q7. 如何聯絡客服？"}),y.jsx("p",{children:"您可以透過以下方式與我們聯繫："}),y.jsxs("ul",{class:"list-disc list-inside",children:[y.jsx("li",{children:"s111219028@stu.ntue.edu.tw"}),y.jsx("li",{children:"s111219014@stu.ntue.edu.tw"}),y.jsx("li",{children:"客服時間：全年24小時休息"})]})]})]})})}function hK(){return y.jsxs(y.Fragment,{children:[y.jsx(ei,{children:y.jsx("title",{children:"購物須知"})}),y.jsx(ti,{}),y.jsx(cK,{}),y.jsx(ni,{})]})}const fK=async(t,e)=>(await TU(wa,t,e)).user;function dK(){var x;const[t,e]=I.useState(""),[n,i]=I.useState(!1),[s,o]=I.useState(""),[u,h]=I.useState(null),f=wi(),d=Si(),_=((x=ii().state)==null?void 0:x.from)||"/",T=async S=>{S.preventDefault();try{const N=await fK(t,s);if(await N.reload(),!N.emailVerified){setSuccessModal(!0),setTimeout(()=>{d(_)},3e3);return}f(kC({uid:N.uid,email:N.email,displayName:N.displayName,emailVerified:N.emailVerified}));const R=new URL(_,window.location.origin);R.searchParams.set("reason","loginSuccess"),d(R.pathname+R.search)}catch(N){switch(console.error("登入失敗",N.message),N.message){case"Firebase: Error (auth/invalid-credential).":h("信箱或密碼錯誤");break;default:h("登入失敗，請稍後再試");break}}};return y.jsxs(y.Fragment,{children:[y.jsx(ei,{children:y.jsx("title",{children:"登入"})}),y.jsx(ti,{}),y.jsxs("main",{children:[n&&y.jsx("div",{className:"fixed bg-stone-300/50 dark:bg-stone-700/50 backdrop-blur-xl inset-0 bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:" rounded-lg bg-stone-50 dark:bg-stone-600 p-6 shadow-lg w-80 text-center",children:[y.jsx("h2",{className:"text-xl font-bold mb-2",children:"登入成功"}),y.jsx("p",{className:"mb-4",children:"歡迎回來，將在 3 秒後返回首頁"}),y.jsx("span",{onClick:()=>d(_),className:"dark:text-orange-300 text-orange-400  cursor-pointer font-bold",children:"立即返回"})]})}),y.jsxs("div",{className:"flex min-h-full max-w-screen-xl flex-1 flex-col px-6 py-12 lg:px-8 bg-stone-50 dark:bg-stone-700 rounded-lg w-8/10 lg:w-2/3 justify-self-center mb-10 shadow-xl",children:[y.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[y.jsx("h2",{className:"mt-10 text-center text-2xl/9 font-bold tracking-tight",children:"登入帳號"}),y.jsx("hr",{className:"w-1/4 border-orange-300 border-3 mt-4 rounded-2xl justify-self-center"})]}),u&&y.jsx("div",{className:"bg-error mt-4 h-12 w-1/2 flex items-center justify-center mx-auto rounded-lg",children:y.jsx("p",{className:" inline-block text-stone-50 font-bold",children:u})}),y.jsxs("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-sm",children:[y.jsxs("form",{onSubmit:T,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm/6 font-medium",children:"電子信箱"}),y.jsx("div",{className:"mt-2",children:y.jsx("input",{id:"email",name:"email",type:"email",required:!0,autoComplete:"email",value:t,onChange:S=>e(S.target.value),className:"block w-full rounded-md px-3 py-1.5 text-base outline-1 -outline-offset-1 outline-stone-300 placeholder:text-stone-400 focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"})})]}),y.jsxs("div",{children:[y.jsx("div",{className:"flex items-center justify-between",children:y.jsx("label",{htmlFor:"password",className:"block text-sm/6 font-medium",children:"密碼"})}),y.jsx("div",{className:"mt-2",children:y.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:s,onChange:S=>o(S.target.value),className:"block w-full rounded-md px-3 py-1.5 text-base outline-1 -outline-offset-1 outline-stone-300 placeholder:text-stone-400 focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"})}),y.jsx("div",{className:"text-sm mt-4",children:y.jsx(We,{to:"/account/reset",className:"font-semibold text-orange-300 hover:text-orange-500",children:"忘記密碼?"})})]}),y.jsx("div",{children:y.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-orange-300 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-xs hover:bg-orange-300 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600",children:"登入"})})]}),y.jsxs("p",{className:"mt-10 text-center text-sm/6 text-stone-600 dark:text-stone-300",children:["還沒有帳號?"," ",y.jsx(We,{to:"/account/register",className:"font-semibold text-orange-300 hover:text-orange-500",children:"點我去註冊"})]})]})]})]}),y.jsx(ni,{})]})}const mK=async(t,e,n)=>{const s=(await bU(wa,t,e)).user;return await EU(s,{displayName:n}),await lb(s),await XN(Iu(qo,"users",s.uid),{email:s.email,displayName:n,emailVerified:s.emailVerified,createdAt:new Date,familyName:"",givenName:"",gender:"",birthday:"",tel:"",cityId:0,cityName:"",districtId:0,districtName:"",address:""}),s};function pK(){var T;const[t,e]=I.useState(""),[n,i]=I.useState(""),[s,o]=I.useState(""),[u,h]=I.useState(!1),f=Si(),g=((T=ii().state)==null?void 0:T.from)||"/",_=async x=>{x.preventDefault();try{const S=await mK(t,s,n);console.log("註冊成功:",S.uid),h(!0)}catch(S){console.error("註冊失敗:",S.message)}};return y.jsxs(y.Fragment,{children:[y.jsx(ei,{children:y.jsx("title",{children:"註冊"})}),y.jsx(ti,{}),y.jsxs("main",{children:[u&&y.jsx("div",{className:"fixed bg-stone-300/50 dark:bg-stone-700/50 backdrop-blur-xl inset-0 bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:" rounded-lg bg-stone-50 dark:bg-stone-600 p-6 shadow-lg w-80 text-center",children:[y.jsx("h2",{className:"text-xl font-bold mb-2",children:"註冊成功"}),y.jsx("p",{className:"mb-4",children:"需要完成信箱驗證並至會員中心填寫資料才能進行購物"}),y.jsx("span",{onClick:()=>f(g),className:"dark:text-orange-300 text-orange-400  cursor-pointer font-bold",children:"沒問題，返回首頁"})]})}),y.jsxs("div",{className:"flex min-h-full flex-1 flex-col px-6 py-12 lg:px-8 bg-stone-50 dark:bg-stone-700 rounded-lg w-2/3 justify-self-center mb-10 shadow-xl",children:[y.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[y.jsx("h2",{className:"mt-10 text-center text-2xl/9 font-bold tracking-tight",children:"註冊新帳號"}),y.jsx("hr",{className:"w-1/4 border-orange-300 border-3 mt-4 rounded-2xl justify-self-center"})]}),y.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[y.jsxs("form",{onSubmit:_,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"username",className:"block text-sm/6 font-medium",children:"暱稱"}),y.jsx("div",{className:"mt-2",children:y.jsx("input",{id:"username",name:"username",type:"text",required:!0,autoComplete:"username",value:n,onChange:x=>i(x.target.value),className:"block w-full rounded-md px-3 py-1.5 text-base outline-1 -outline-offset-1 outline-stone-300 placeholder:text-stone-400 focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"})})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm/6 font-medium",children:"電子信箱"}),y.jsx("div",{className:"mt-2",children:y.jsx("input",{id:"email",name:"email",type:"email",required:!0,autoComplete:"email",value:t,onChange:x=>e(x.target.value),className:"block w-full rounded-md px-3 py-1.5 text-base outline-1 -outline-offset-1 outline-stone-300 placeholder:text-stone-400 focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"})})]}),y.jsxs("div",{children:[y.jsx("div",{className:"flex items-center justify-between",children:y.jsx("label",{htmlFor:"password",className:"block text-sm/6 font-medium",children:"密碼"})}),y.jsx("div",{className:"mt-2",children:y.jsx("input",{id:"password",name:"password",type:"password",required:!0,autoComplete:"current-password",value:s,onChange:x=>o(x.target.value),className:"block w-full rounded-md px-3 py-1.5 text-base outline-1 -outline-offset-1 outline-stone-300 placeholder:text-stone-400 focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6"})})]}),y.jsx("div",{children:y.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-orange-300 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-xs hover:bg-orange-300 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600",children:"註冊"})})]}),y.jsxs("p",{className:"mt-10 text-center text-sm/6 text-stone-600 dark:text-stone-300",children:["已經有帳號?"," ",y.jsx(We,{to:"/account/login",className:"font-semibold text-orange-300 hover:text-orange-500",children:"點我去登入"})]})]})]})]}),y.jsx(ni,{})]})}function gK(){const t=wa.currentUser,[e,n]=I.useState(2e3),[i,s]=I.useState(1),[o,u]=I.useState(1),h=new Date().getFullYear()-13,f=[],d=[];for(let A=h;A>=1900;A--)f.push(A);for(let A=1;A<=12;A++)d.push(A);const g=A=>A%4===0&&A%100!==0||A%400===0,_=(A,q)=>q===2?g(A)?29:28:[4,6,9,11].includes(q)?30:31,T=Array.from({length:_(e,i)},(A,q)=>q+1),[x,S]=I.useState({familyName:"",givenName:"",tel:"",email:"",address:"",gender:"",birthday:"",cityId:0,cityName:"",districtId:0,districtName:""},t);I.useEffect(()=>{const A=hr[t.cityId||0],q=A.districts[t.districtId||0];t&&S(M=>({...M,familyName:t.familyName||"",givenName:t.givenName||"",tel:t.tel||"",email:t.email||"",address:t.address||"",gender:t.gender||"",birthday:"",cityId:t.cityId||0,cityName:(A==null?void 0:A.name)||"",districtId:t.districtId||0,districtName:(q==null?void 0:q.name)||""}))},[t]),I.useEffect(()=>{if(e&&i&&o){const A=String(i).padStart(2,"0"),q=String(o).padStart(2,"0"),M=`${e}-${A}-${q}`;S(C=>({...C,birthday:M}))}},[e,i,o]);const N=A=>{const q=wa.currentUser;lb(q)},R=async()=>{const q=Uu().currentUser;try{const M=Iu(qo,"users",q.uid);await XN(M,x,{merge:!0}),alert("✅ 資料儲存成功！")}catch(M){console.error("❌ 資料儲存失敗:",M),alert("儲存失敗，請稍後再試")}},k=async A=>{const q=Iu(qo,"users",A),M=await QN(q);if(!M.exists())throw new Error("找不到使用者資料");return M.data()},{data:U,isLoading:V,error:$}=m2({queryKey:["userData",t==null?void 0:t.uid],queryFn:()=>k(t.uid),enabled:!!t});return I.useEffect(()=>{if(t&&U){const A=hr[U.cityId||0],q=A==null?void 0:A.districts[U.districtId||0];S(M=>({...M,...U,email:t.email||U.email,cityName:(A==null?void 0:A.name)||"",districtName:(q==null?void 0:q.name)||""}))}},[t,U]),I.useEffect(()=>{if(U!=null&&U.birthday){const[A,q,M]=U.birthday.split("-").map(Number);n(A),s(q),u(M)}},[U]),console.log(x),y.jsx("div",{className:"max-w-screen-xl mx-auto main",children:y.jsx("div",{className:" px-8 py-4 w-8/10 bg-stone-50 dark:bg-stone-700 mx-auto rounded-xl border border-stone-300 dark:border-stone-600",children:t?y.jsxs(y.Fragment,{children:[y.jsx("h3",{className:" text-center text-xl font-bold text-orange-900 dark:text-orange-300 mt-10",children:"設定"}),y.jsxs("div",{className:" flex flex-col max-w-[80vw] mx-auto p-8 gap-4",children:[y.jsx("h4",{className:"text-lg font-bold text-orange-900 dark:text-orange-300",children:"帳號設定"}),y.jsx("hr",{className:" border-1 border-stone-300 dark:border-stone-600 w-full"}),y.jsxs("div",{className:" flex gap-8 items-center",children:[y.jsx("p",{className:" text-orange-400 dark:text-orange-300 font-bold",children:"暱稱"}),y.jsx("p",{children:t.displayName}),y.jsx("button",{className:" !h-8 leading-1 !rounded-4xl",children:"修改"})]}),y.jsxs("div",{className:" flex gap-8 items-center",children:[y.jsx("p",{className:" text-orange-400 dark:text-orange-300 font-bold",children:"信箱"}),y.jsx("p",{children:t.email}),y.jsx("button",{className:" !h-8 leading-1 !rounded-4xl",children:"修改"})]}),y.jsxs("div",{className:" flex gap-8 items-center",children:[y.jsx("p",{className:" text-orange-400 dark:text-orange-300 font-bold",children:"驗證"}),y.jsx("p",{children:t.emailVerified?"已完成":"尚未完成"}),y.jsx("button",{className:" !h-8 leading-1 !rounded-4xl disabled:!bg-stone-500",onClick:N,disabled:!!t.emailVerified,children:t.emailVerified?"已完成驗證":"重新寄送驗證信"})]}),y.jsx("hr",{className:" border-1 border-stone-300 dark:border-stone-600 w-full"})]}),y.jsx("div",{className:" flex flex-col md:flex-row gap-20 max-w-[80vw] mx-auto p-10",children:y.jsxs("div",{className:" grid grid-cols-8 gap-4 w-full",children:[y.jsxs("div",{className:" col-span-8 md:col-span-8 flex gap-8 items-center",children:[y.jsx("h4",{className:" text-lg font-bold text-orange-900 dark:text-orange-300",children:"編輯會員資料"}),y.jsx("div",{className:"tooltip flex gap-2","data-tip":"完成資料填寫可加快您結帳的速度",children:y.jsx(Yq,{className:" cursor-pointer"})})]}),y.jsxs("div",{className:" col-span-4 md:col-span-1",children:[y.jsx("p",{className:"font-black mt-4",children:"姓"}),y.jsx("input",{name:"familyName",className:" input",value:x.familyName,onChange:A=>S({...x,[A.target.name]:A.target.value})})]}),y.jsxs("div",{className:"col-span-4 md:col-span-2",children:[y.jsx("p",{className:"font-black mt-4",children:"名"}),y.jsx("input",{name:"givenName",className:" input",value:x.givenName,onChange:A=>S({...x,[A.target.name]:A.target.value})})]}),y.jsx("span",{className:" col-span-0 md:col-span-1"}),y.jsxs("div",{className:"col-span-8 md:col-span-4",children:[y.jsx("p",{className:"font-black mt-4",children:"性別"}),y.jsxs("div",{className:" flex gap-8 py-2 flex-col md:flex-row",children:[y.jsxs("label",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"radio",name:"gender",value:"male",checked:x.gender==="male",className:"radio bg-stone-300 dark:bg-stone-600 checked:bg-orange-300 checked:text-stone-50 dark:checked:text-stone-700 checked:border-ornage-300",onChange:A=>S({...x,gender:A.target.value})}),"男性"]}),y.jsxs("label",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"radio",name:"gender",value:"female",checked:x.gender==="female",className:"radio bg-stone-300 dark:bg-stone-600 checked:bg-orange-300 checked:text-stone-50 dark:checked:text-stone-700 checked:border-ornage-300",onChange:A=>S({...x,gender:A.target.value})}),"女性"]}),y.jsxs("label",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"radio",name:"gender",value:"other",checked:x.gender==="other",className:"radio bg-stone-300 dark:bg-stone-600 checked:bg-orange-300 checked:text-stone-50 dark:checked:text-stone-700 checked:border-ornage-300",onChange:A=>S({...x,gender:A.target.value})}),"其他/不願透漏"]})]})]}),y.jsx("h4",{className:"col-span-8 font-black mt-4",children:"生日"}),y.jsxs("div",{className:"col-span-2",children:[y.jsx("p",{children:"年"}),y.jsx("select",{name:"birthday",id:"year",className:" select",value:e,onChange:A=>n(parseInt(A.target.value)),children:f.map(A=>y.jsx("option",{value:A,children:A},A))})]}),y.jsxs("div",{className:"col-span-1",children:[y.jsx("p",{children:"月"}),y.jsx("select",{name:"birthday",id:"month",className:" select",value:i,onChange:A=>s(parseInt(A.target.value)),children:d.map(A=>y.jsx("option",{value:A,children:A},A))})]}),y.jsxs("div",{className:"col-span-1",children:[y.jsx("p",{children:"日"}),y.jsx("select",{name:"birthday",id:"day",className:" select",value:o,onChange:A=>u(parseInt(A.target.value)),children:T.map(A=>y.jsx("option",{value:A,children:A},A))})]}),y.jsxs("div",{className:"col-span-4",children:[y.jsx("p",{className:"font-black",children:"連絡電話"}),y.jsx("input",{name:"tel",className:" input w-full",value:x.tel,onChange:A=>S({...x,[A.target.name]:A.target.value})})]}),y.jsx("h4",{className:"col-span-8 font-black mt-4",children:"聯絡地址"}),y.jsxs("div",{className:"col-span-2",children:[y.jsx("p",{children:"城市"}),y.jsxs("select",{name:"cityId",value:x.cityId,className:" select",onChange:A=>{const q=Number(A.target.value),M=hr[q];S(C=>({...C,cityId:q,cityName:M.name,districtId:0,districtName:""}))},children:[y.jsx("option",{value:"",disabled:!0,children:"城市"}),hr.map((A,q)=>y.jsx("option",{value:q,children:A.name},q))]})]}),y.jsxs("div",{className:"col-span-2",children:[y.jsx("p",{children:"行政區"}),y.jsxs("select",{name:"districtId",value:x.districtId,className:"select",onChange:A=>{const q=Number(A.target.value),M=hr[x.cityId].districts[q];S(C=>({...C,districtId:q,districtName:M.name}))},children:[y.jsx("option",{value:"",disabled:!0,children:"行政區"}),hr[x.cityId].districts.map((A,q)=>y.jsx("option",{value:q,children:A.name},q))]})]}),y.jsxs("div",{className:"col-span-4",children:[y.jsx("p",{children:"詳細地址"}),y.jsx("input",{name:"address",className:" input w-full",value:x.address,placeholder:"請輸入詳細地址",onChange:A=>S({...x,[A.target.name]:A.target.value})})]}),y.jsx("button",{className:" col-span-8 mt-8",onClick:R,children:"儲存修改"})]})})]}):y.jsxs("div",{className:"flex flex-col gap-4 p-8",children:[y.jsx("p",{className:" justify-self-center text-xl text-center",children:"您尚未登入帳號"}),y.jsx(We,{to:"/account/login",children:y.jsx("p",{className:" text-orange-400 dark:text-orange-300 cursor-pointer text-center",children:"點我去登入"})})]})})})}function yK(){return y.jsxs(y.Fragment,{children:[y.jsx(ei,{children:y.jsx("title",{children:"設定"})}),y.jsx(ti,{}),y.jsx(gK,{}),y.jsx(ni,{})]})}function vK({status:t}){const e=["pending","processing","shipped","delivered"],n={pending:"訂單成立",processing:"揀貨中",shipped:"配送中",delivered:"已送達"},i=e.indexOf(t);return y.jsx("div",{className:"my-4 px-2 grid grid-cols-4",children:e.map((s,o)=>y.jsx("div",{className:"",children:y.jsxs("div",{className:" flex flex-col justify-center",children:[y.jsxs("div",{className:" flex items-center",children:[y.jsx("div",{className:` w-1/2 h-2 ${o-1<i?"bg-orange-300":"bg-gray-300"} ${o==0?"rounded-l-full":""}`}),y.jsx("div",{className:` w-1/2 h-2 ${o<=i?"bg-orange-300":"bg-gray-300"} ${o==3?"rounded-r-full":""}`})]}),y.jsx("p",{className:`text-xs mt-1 text-center whitespace-nowrap ${o-1<i?"text-orange-300 font-bold":""}`,children:n[s]})]})},s))})}function _K(){const[t,e]=hI(wa);wi();const n=cn(ys),i=async h=>{const f=X9(VN(qo,"orders"),W9("userId","==",h));return(await tB(f)).docs.map(g=>({id:g.id,...g.data()}))},{data:s,isLoading:o,error:u}=m2({queryKey:["orders",t==null?void 0:t.uid],queryFn:()=>i(t.uid),enabled:!!(t!=null&&t.uid)&&!e});return e||o?y.jsxs("div",{className:"w-screen h-screen bg-stone-800 text-gray-100 flex flex-col items-center justify-center gap-4",children:[y.jsx("p",{className:" text-2xl",children:"驗證中..."}),y.jsx(SP,{})]}):u?y.jsxs("p",{children:["錯誤：",u.message]}):s!=null&&s.length?y.jsxs(y.Fragment,{children:[y.jsx(ei,{children:y.jsx("title",{children:"訂單"})}),y.jsx(ti,{}),y.jsx("div",{className:" max-w-screen-xl mx-auto w-8/10",children:y.jsxs("div",{className:" bg-stone-50 dark:bg-stone-700 rounded-xl p-8 border border-stone-300 dark:border-stone-600",children:[y.jsxs("div",{className:"lg:w-1/2 mx-auto flex flex-col justify-center",children:[y.jsx("h3",{className:" font-bold text-center my-5 flex mx-auto items-center gap-2 text-xl text-orange-900 dark:text-orange-300",children:"你的訂單"}),y.jsx("hr",{className:"w-1/4 border-orange-300 border-3 mt-4 rounded-2xl mx-auto mb-4"})]}),y.jsx("ul",{className:" flex flex-col gap-4",children:s.map(h=>{var f;return y.jsx("li",{className:" flex flex-col my-2 md:w-8/10 mx-auto",children:y.jsxs("div",{className:"collapse  collapse-arrow border border-stone-300 dark:border-stone-600",children:[y.jsx("input",{type:"checkbox"}),y.jsxs("div",{className:"collapse-title",children:[y.jsxs("div",{className:"  flex flex-col gap-2 md:flex-row md:justify-between",children:[y.jsxs("div",{className:" flex md:gap-2 flex-col  justify-between",children:[y.jsx("p",{children:"訂單編號"}),y.jsx("p",{className:" font-black",children:h.id})]}),y.jsxs("div",{className:" flex flex-row gap-2 text-sm md:text-md md:flex-col justify-between",children:[y.jsx("p",{children:"訂購日期"}),y.jsx("p",{children:(f=h.createdAt)==null?void 0:f.toDate().toLocaleString()})]}),y.jsxs("div",{className:" flex flex-row gap-2 md:flex-col  justify-between",children:[y.jsx("p",{children:"總價"}),y.jsxs("p",{className:" text-orange-900 dark:text-orange-300 font-bold",children:[xi(h.currency,n,h.total),n]})]})]}),y.jsx(vK,{status:h.status})]}),y.jsxs("div",{className:"collapse-content",children:[y.jsx("hr",{className:" my-2  border-stone-300 dark:border-stone-600"}),y.jsxs("div",{className:" w-full grid grid-cols-[1fr_1fr_1fr] md:grid-cols-[2fr_1fr_1fr] ",children:[y.jsx("p",{className:" truncate",children:"商品名"}),y.jsx("p",{className:" text-center",children:"數量"}),y.jsx("div",{className:" flex gap-2 justify-end mr-10",children:y.jsx("p",{children:"價格"})})]}),y.jsx("ul",{className:" flex flex-col gap-2 mt-4",children:h.items.map((d,g)=>y.jsx("li",{className:" flex gap-4",children:y.jsxs("div",{className:" w-full grid grid-cols-[2fr_1fr_1fr]",children:[y.jsx("p",{className:" truncate",children:d.title}),y.jsx("p",{className:" text-center",children:d.qty}),y.jsxs("div",{className:" flex gap-2 justify-end  mr-10",children:[y.jsx("p",{children:xi(d.currency,n,Math.round(d.price*d.discount*d.qty))}),y.jsx("p",{children:n})]}),y.jsx("p",{className:"ml-2",children:d.variantName})]})},g))}),y.jsx("div",{className:" w-full flex justify-end p-4",children:y.jsx("button",{className:" btn",children:"給評價"})})]})]})},h.id)})})]})}),y.jsx(ni,{})]}):y.jsxs(y.Fragment,{children:[y.jsx(ei,{children:y.jsx("title",{children:"訂單"})}),y.jsx(ti,{}),y.jsx("div",{className:"max-w-screen-xl mx-auto  bg-stone-50 dark:bg-stone-700 rounded-xl p-8 border border-stone-300 dark:border-stone-600 shadow w-2/3 py-8 px-24 ",children:y.jsxs("div",{className:" w-8/10 lg:w-1/2 mx-auto flex flex-col justify-center",children:[y.jsx("h3",{className:" font-bold text-center my-5 flex mx-auto items-center gap-2 text-xl text-orange-900 dark:text-orange-300",children:"你的訂單"}),y.jsx("hr",{className:"w-1/4 border-orange-300 border-3 mt-4 rounded-2xl mx-auto mb-4"}),y.jsx("p",{className:" text-center",children:"您目前還沒有訂單"})]})}),y.jsx(ni,{})]})}function bK(){const t=Uu(Ku),[e,n]=I.useState(""),[i,s]=I.useState(""),[o,u]=I.useState(""),h=async f=>{f.preventDefault(),s(""),u("");try{await _U(t,e),s("重設密碼連結已發送到你的信箱！")}catch{u("發送失敗，請確認信箱是否正確")}};return y.jsxs(y.Fragment,{children:[y.jsx(ei,{children:y.jsx("title",{children:"重設密碼"})}),y.jsx(ti,{}),y.jsx("div",{className:"max-w-screen-xl mx-auto bg-white dark:bg-stone-700 rounded-xl shadow w-8/10 px-6 md:pb-20 lg:w-2/3 py-8 lg:px-24 ",children:y.jsxs("div",{className:" lg:w-1/2 mx-auto",children:[y.jsx("h3",{className:" my-5 items-center gap-2 text-xl text-orange-900 dark:text-orange-300 font-bold text-center w-full",children:"重設密碼"}),y.jsx("hr",{className:"w-1/4 border-orange-300 border-3 mt-4 rounded-2xl justify-self-center mb-4"}),i&&y.jsx("div",{className:" bg-success h-16 rounded-xl flex items-center my-8 shadow-success/30 shadow-2xl",children:y.jsx("p",{className:" w-full text-center text-stone-700 font-bold",children:i})}),o&&y.jsx("div",{className:" bg-error h-16 rounded-xl flex items-center my-8 shadow-error/30 shadow-2xl",children:y.jsx("p",{className:" w-full text-center text-stone-700 font-bold",children:o})}),y.jsx("p",{className:" text-center",children:"請輸入註冊時使用的電子信箱，我們會將重設密碼的指示送至您的信箱。"}),y.jsxs("form",{onSubmit:h,className:"space-y-4 mt-8",children:[y.jsx("input",{type:"email",value:e,onChange:f=>n(f.target.value),placeholder:"example@hashbuy.com",className:"block w-full rounded-md px-3 py-1.5 text-base outline-1 -outline-offset-1 outline-stone-300 placeholder:text-stone-400 focus:outline-2 focus:-outline-offset-2 focus:outline-orange-600 sm:text-sm/6",required:!0}),y.jsx("button",{type:"submit",className:"btn w-full",children:"發送重設信件"}),y.jsxs(We,{to:"/account/login",children:[" ",y.jsx("p",{className:" w-full text-center cursor-pointer hover:text-orange-300 duration-75",children:"回到登入"})," "]})]})]})}),y.jsx(ni,{})]})}const TK=Uu();function xK(){const t=wi(),e=new T3;return I.useEffect(()=>{const n=J2(TK,i=>{t(i?kC({uid:i.uid,email:i.email,displayName:i.displayName}):U_())});return()=>n()},[t]),y.jsx(y.Fragment,{children:y.jsx(A3,{client:e,children:y.jsx(n2,{context:{},children:y.jsx(TV,{children:y.jsxs(Wj,{children:[y.jsx(yn,{path:"/",element:y.jsx(XG,{})}),y.jsx(yn,{path:"/shoppingcart",element:y.jsx(JG,{})}),y.jsx(yn,{path:"/checkout",element:y.jsx(t0,{children:y.jsx(oK,{})})}),y.jsx(yn,{path:"/results/:keyword",element:y.jsx(uK,{})}),y.jsx(yn,{path:"/guide",element:y.jsx(hK,{})}),y.jsxs(yn,{path:"/products",children:[y.jsx(yn,{path:"category/:categoryName",element:y.jsx(sK,{})}),y.jsx(yn,{path:"id/:id",element:y.jsx(iK,{})})]}),y.jsxs(yn,{path:"/account",children:[y.jsx(yn,{path:"login",element:y.jsx(dK,{})}),y.jsx(yn,{path:"register",element:y.jsx(pK,{})}),y.jsx(yn,{path:"setting",element:y.jsx(t0,{children:y.jsx(yK,{})})}),y.jsx(yn,{path:"liked",element:y.jsx(y.Fragment,{})}),y.jsx(yn,{path:"order",element:y.jsx(t0,{children:y.jsx(_K,{})})}),y.jsx(yn,{path:"reset",element:y.jsx(bK,{})})]})]})})})})})}UO.createRoot(document.getElementById("root")).render(y.jsx(I.StrictMode,{children:y.jsx(eM,{store:g0,children:y.jsx(xK,{})})}));
